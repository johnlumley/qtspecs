<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QT4 CG Meeting 092 Minutes 2024-10-01</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
<link rel="shortcut icon" href="/img/QT4-64.png" />
<link rel="apple-touch-icon" sizes="64x64" href="/img/QT4-64.png" type="image/png" />
<link rel="apple-touch-icon" sizes="76x76" href="/img/QT4-76.png" type="image/png" />
<link rel="apple-touch-icon" sizes="120x120" href="/img/QT4-120.png" type="image/png" />
<link rel="apple-touch-icon" sizes="152x152" href="/img/QT4-152.png" type="image/png" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">QT4 CG Meeting 092 Minutes 2024-10-01</h1>
<p>
<a href="../">Meeting index</a> / <a href="https://qt4cg.org">QT4CG.org</a> / <a href="https://qt4cg.org/dashboard">Dashboard</a> / <a href="https://github.com/qt4cg/qtspecs/issues">GH Issues</a> / <a href="https://github.com/qt4cg/qtspecs/pulls">GH Pull Requests</a>
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#minutes">Draft Minutes</a></li>
<li><a href="#new-actions">Summary of new and continuing actions <code>[0/6]</code></a></li>
<li><a href="#administrivia">1. Administrivia</a>
<ul>
<li><a href="#roll-call">1.1. Roll call <code>[12/12]</code></a></li>
<li><a href="#agenda">1.2. Accept the agenda</a>
<ul>
<li><a href="#so-far">1.2.1. Status so far…</a></li>
</ul>
</li>
<li><a href="#approve-minutes">1.3. Approve minutes of the previous meeting</a></li>
<li><a href="#next-meeting">1.4. Next meeting</a></li>
<li><a href="#open-actions">1.5. Review of open action items <code>[0/6]</code></a></li>
<li><a href="#open-pull-requests">1.6. Review of open pull requests and issues</a>
<ul>
<li><a href="#blocked">1.6.1. Blocked</a></li>
<li><a href="#merge-without-discussion">1.6.2. Merge without discussion</a></li>
<li><a href="#substantive">1.6.3. Substantive PRs</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#technical-agenda">2. Technical agenda</a>
<ul>
<li><a href="#pr-1465">2.1. PR #1465: 1461 Generate correct tests for functions involving named record types</a></li>
<li><a href="#pr-1460">2.2. PR #1460: 1323b Function parameters names: $uri → $source</a></li>
<li><a href="#pr-1429">2.3. PR #1429: Align type tests</a></li>
<li><a href="#pr-1437">2.4. PR #1437: 1325 Variadic System Functions limited to `fn:concat`</a></li>
<li><a href="#pr-1455">2.5. PR #1455: 1445 Drop number-formatter option, retain string value</a></li>
</ul>
</li>
<li><a href="#adjourned">3. Adjourned</a></li>
</ul>
</div>
</div>

<div id="outline-container-minutes" class="outline-2">
<h2 id="minutes">Draft Minutes</h2>
<div class="outline-text-2" id="text-minutes">
</div>
</div>

<div id="outline-container-new-actions" class="outline-2">
<h2 id="new-actions">Summary of new and continuing actions <code>[0/6]</code></h2>
<div class="outline-text-2" id="text-new-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-080-07: NW to update the build instructions in the README</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-082-02: DN to work with MK to come to agreement on the fn:ranks proposal</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-088-01: NW to consider how best to add a dedication to MSM.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-088-04: [Someone] needs to update the processing model diagram needs vis-a-vis the static typing feature</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-089-01: CG to draft a PR that attempts to resolve the operators described in #755 to a smaller number of orthogonal choices.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-091-01: MK to make sure there’s an editorial note about parameter renaming.</li>
</ul>
</div>
</div>

<div id="outline-container-administrivia" class="outline-2">
<h2 id="administrivia"><span class="section-number-2">1.</span> Administrivia</h2>
<div class="outline-text-2" id="text-administrivia">
</div>

<div id="outline-container-roll-call" class="outline-3">
<h3 id="roll-call"><span class="section-number-3">1.1.</span> Roll call <code>[12/12]</code></h3>
<div class="outline-text-3" id="text-roll-call">
<ul class="org-ul">
<li class="on"><code>[X]</code> David J Birnbaum (DB)</li>
<li class="on"><code>[X]</code> Reece Dunn (RD)</li>
<li class="on"><code>[X]</code> Sasha Firsov (SF)</li>
<li class="on"><code>[X]</code> Christian Grün (CG)</li>
<li class="on"><code>[X]</code> Joel Kalvesmaki (JK) [:05-]</li>
<li class="on"><code>[X]</code> Michael Kay (MK)</li>
<li class="on"><code>[X]</code> Juri Leino (JLO)</li>
<li class="on"><code>[X]</code> John Lumley (JWL)</li>
<li class="on"><code>[X]</code> Dimitre Novatchev (DN)</li>
<li class="on"><code>[X]</code> Wendell Piez (WP)</li>
<li class="on"><code>[X]</code> Ed Porter (EP)</li>
<li class="on"><code>[X]</code> Norm Tovey-Walsh (NW). <i>Scribe</i>. <i>Chair</i>.</li>
</ul>
</div>
</div>

<div id="outline-container-agenda" class="outline-3">
<h3 id="agenda"><span class="section-number-3">1.2.</span> Accept the agenda</h3>
<div class="outline-text-3" id="text-agenda">
<p>
Proposal: Accept <a href="../../agenda/2024/10-01.html">the agenda</a>.
</p>

<p>
Accepted.
</p>
</div>

<div id="outline-container-so-far" class="outline-4">
<h4 id="so-far"><span class="section-number-4">1.2.1.</span> Status so far…</h4>
<div class="outline-text-4" id="text-so-far">
<p>
These charts have been adjusted so they reflect the preceding six months of work.
</p>


<div id="org321eb21" class="figure">
<p><img src="./issues-open-2024-10-01.png" alt="issues-open-2024-10-01.png" />
</p>
<p><span class="figure-number">Figure 1: </span>“Burn down” chart on open issues</p>
</div>


<div id="orgcf1f246" class="figure">
<p><img src="./issues-by-spec-2024-10-01.png" alt="issues-by-spec-2024-10-01.png" />
</p>
<p><span class="figure-number">Figure 2: </span>Open issues by specification</p>
</div>


<div id="orgc4b6a81" class="figure">
<p><img src="./issues-by-type-2024-10-01.png" alt="issues-by-type-2024-10-01.png" />
</p>
<p><span class="figure-number">Figure 3: </span>Open issues by type</p>
</div>
</div>
</div>
</div>

<div id="outline-container-approve-minutes" class="outline-3">
<h3 id="approve-minutes"><span class="section-number-3">1.3.</span> Approve minutes of the previous meeting</h3>
<div class="outline-text-3" id="text-approve-minutes">
<p>
Proposal: Accept <a href="../../minutes/2024/09-24.html">the minutes of the previous meeting</a>.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-next-meeting" class="outline-3">
<h3 id="next-meeting"><span class="section-number-3">1.4.</span> Next meeting</h3>
<div class="outline-text-3" id="text-next-meeting">
<p>
This next meeting is planned for 8 October. Any regrets?
</p>

<p>
None heard.
</p>
</div>
</div>

<div id="outline-container-open-actions" class="outline-3">
<h3 id="open-actions"><span class="section-number-3">1.5.</span> Review of open action items <code>[0/6]</code></h3>
<div class="outline-text-3" id="text-open-actions">
<p>
(Items marked [X] are believed to have been closed via email before
this agenda was posted.)
</p>

<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-080-07: NW to update the build instructions in the README</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-082-02: DN to work with MK to come to agreement on the fn:ranks proposal</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-088-01: NW to consider how best to add a dedication to MSM.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-088-04: [Someone] needs to update the processing model diagram needs vis-a-vis the static typing feature</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-089-01: CG to draft a PR that attempts to resolve the operators described in #755 to a smaller number of orthogonal choices.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-091-01: MK to make sure there’s an editorial note about parameter renaming.</li>
</ul>
</div>
</div>

<div id="outline-container-open-pull-requests" class="outline-3">
<h3 id="open-pull-requests"><span class="section-number-3">1.6.</span> Review of open pull requests and issues</h3>
<div class="outline-text-3" id="text-open-pull-requests">
</div>

<div id="outline-container-blocked" class="outline-4">
<h4 id="blocked"><span class="section-number-4">1.6.1.</span> Blocked</h4>
<div class="outline-text-4" id="text-blocked">
<p>
The following PRs are open but have merge conflicts or comments which
suggest they aren’t ready for action.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1436">#1436</a>: 1323 Function parameters names: $href → $uri</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1296">#1296</a>: 982 Rewrite of scan-left and scan-right</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1283">#1283</a>: 77b Update expressions</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1062">#1062</a>: 150bis revised proposal for fn:ranks</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-529">#529</a>: 528 fn:elements-to-maps</li>
</ul>
</div>
</div>

<div id="outline-container-merge-without-discussion" class="outline-4">
<h4 id="merge-without-discussion"><span class="section-number-4">1.6.2.</span> Merge without discussion</h4>
<div class="outline-text-4" id="text-merge-without-discussion">
<p>
The following PRs are editorial, small, or otherwise appeared to be
uncontroversial when the agenda was prepared. The chairs propose that
these can be merged without discussion. If you think discussion is
necessary, please say so.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1466">#1466</a>: 1464 Standardize on "implementer" spelling</li>
</ul>

<p>
Proposal: merge without discussion
</p>

<p>
Accepted.
</p>

<p>
(The PR was blocked by merge conflicts at the time of publication.)
</p>
</div>
</div>

<div id="outline-container-substantive" class="outline-4">
<h4 id="substantive"><span class="section-number-4">1.6.3.</span> Substantive PRs</h4>
<div class="outline-text-4" id="text-substantive">
<p>
The following substantive PRs were open when this agenda was prepared.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1465">#1465</a>: 1461 Generate correct tests for functions involving named record types</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1460">#1460</a>: 1323b Function parameters names: $uri → $source</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1455">#1455</a>: 1445 Drop number-formatter option, retain string value</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1437">#1437</a>: 1325 Variadic System Functions limited to `fn:concat`</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1429">#1429</a>: 1403 Align type tests</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1355">#1355</a>: 1351 Add "declare record" in XQuery</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1227">#1227</a>: 150 PR resubmission for fn ranks</li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-technical-agenda" class="outline-2">
<h2 id="technical-agenda"><span class="section-number-2">2.</span> Technical agenda</h2>
<div class="outline-text-2" id="text-technical-agenda">
</div>

<div id="outline-container-pr-1465" class="outline-3">
<h3 id="pr-1465"><span class="section-number-3">2.1.</span> PR #1465: 1461 Generate correct tests for functions involving named record types</h3>
<div class="outline-text-3" id="text-pr-1465">
<ul class="org-ul">
<li>See PR <a href="https://qt4cg.org/dashboard/#pr-1465">#1465</a></li>
</ul>

<p>
NW observes that you can’t see the results in the published PR because
stylesheet changes don’t show up there (security, man).
</p>

<p>
MK introduces the issue. Started with issues related to test generation reported
by JWL. That ended up interacting with the record definitions are maintained. 
It’s purely editorial but quite complex.
</p>

<ul class="org-ul">
<li>MK: It doesn’t purely effect presentation of the text, but there are schema changes.
<ul class="org-ul">
<li>… Perhaps we should look at the comments in #1336.</li>
</ul></li>
</ul>

<p>
MK reviews the analysis and comments in the issue.
</p>

<ul class="org-ul">
<li>MK: The main difference is that the record type is displayed below it’s reference.</li>
<li>DN: I think there are more record types.</li>
<li>MK: Yes, but they currently don’t have formal record type definitions, but we
can use it once we’ve got it straight.</li>
<li>DN: Are we going to have a section where we define standard record types, that
we don’t need to define every time?</li>
<li>MK: Currently, almost all the record types are used by only a single function
(or two), but when that need arises, we certainly can.</li>
<li>DN: I want to see the generic record type as a standard type.
<ul class="org-ul">
<li>… I’d like feedback on how to proceed on the generator. It will require
about 20 functions and how should we do that?</li>
</ul></li>
<li>MK: That’s such a big proposal that I think a freestanding paper would be good.</li>
<li>DN: Isn’t the opening comment in the issue that document?</li>
<li>MK: I think it needs another layer of detail.
<ul class="org-ul">
<li>… Separate the technical discussion of technical features from the editorial
problems of where to put them.</li>
</ul></li>
<li>JWL: I think we have two things together here, in terms of the F&amp;O specs we
want to encourage people to get more examples of using record types. The next
stage of defining that there are built in record types is a bigger step that I
think is not necessarily required. What’s the mechanism?
<ul class="org-ul">
<li>… In once sense we’re drifting into standard schema land which isn’t
something we’ve necessarily tackled before.</li>
</ul></li>
<li>MK: Yes, defining a standard library is a step further.</li>
<li>DN: I think that we have a practical requirement, to reflect the actual facts
is sensible. It has nothing to do about theoretical structuring.</li>
</ul>

<p>
Proposal: accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-pr-1460" class="outline-3">
<h3 id="pr-1460"><span class="section-number-3">2.2.</span> PR #1460: 1323b Function parameters names: $uri → $source</h3>
<div class="outline-text-3" id="text-pr-1460">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1460">#1460</a>
</p>

<ul class="org-ul">
<li>CG: We talked about the <code>$uri</code> and <code>$href$ parameters last time. Most people liked
  source, so I’ve renamed them all to ~$source</code>.</li>
<li>DN: I think that “source” is very generic and here “href” means something like
a link. This is lost when we say source. We discussed this in the issue. I
think “locator” would be better than url and href.
<ul class="org-ul">
<li>… Definitely source is too generic and loses the meaning that there’s indirection here.</li>
</ul></li>
<li>MK: I think the choice of names is arbitrary.</li>
<li>JLO: This is not the hill I want to die on, but I have to agree with DN here
that “source” could be misleading.</li>
</ul>

<p>
The chair tries a straw poll. In favor of “source”: 6. In favor of “locator”: 2.
</p>

<ul class="org-ul">
<li>NW: I don’t think that’s persuasive.</li>
</ul>

<p>
Several folks are in favor of merging this PR.
</p>

<ul class="org-ul">
<li>NW: does anyone object?</li>
</ul>

<p>
DN: I object. And I wish that objection to be recorded.
</p>

<p>
Proposal: merge this PR.
</p>

<p>
With DN’s objection recored, the CG agrees to this accept this PR.
</p>

<p>
(The PR was blocked by merge conflicts at the time of publication.)
</p>
</div>
</div>

<div id="outline-container-pr-1429" class="outline-3">
<h3 id="pr-1429"><span class="section-number-3">2.3.</span> PR #1429: Align type tests</h3>
<div class="outline-text-3" id="text-pr-1429">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1429">#1429</a>
</p>

<p>
JLO reviews the changes in the PR. Basically adding “map()” without * and
updating examples.
</p>

<ul class="org-ul">
<li>JLO: There’s ongoing discussion of whether we want alignment or consistency.
<ul class="org-ul">
<li>… If we do this, we should also allow <code>record()</code> without an asterisk.</li>
</ul></li>
<li>MK: I think semantics of record with * and without are different.</li>
<li>JLO: Oh, ok, then it’s fine the way it is.</li>
</ul>

<p>
Some discussion of the meaning of <code>record()</code> (without a *).
</p>

<ul class="org-ul">
<li>DN: It is interesting that during the same meeting we have two problems with
consistency. The spelling of “implement(er/or)” in the first case and the use
of <code>map()</code> or <code>map(*)</code> in the second. These are all functions, and I think the
way we do functions is with “*” so that’s what we should do.</li>
<li>JLO: That’s not true, we function without an *.</li>
<li>DN: Yes, I’m talking about the general type of function, not the specific zero
arity function.
<ul class="org-ul">
<li>… This is why the lack of * should be reserved for more specific cases.</li>
</ul></li>
<li>MK: I think I’m inclined to agree with DN here.</li>
</ul>

<p>
Proposal: the CG declines to make this change.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-pr-1437" class="outline-3">
<h3 id="pr-1437"><span class="section-number-3">2.4.</span> PR #1437: 1325 Variadic System Functions limited to `fn:concat`</h3>
<div class="outline-text-3" id="text-pr-1437">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1437">#1437</a>.
</p>

<ul class="org-ul">
<li>CG: We talked about this last time, but it wasn’t accepted.
<ul class="org-ul">
<li>… Current we have three variadic functions but no priciple for why they
should or should not be variadic.</li>
<li>… We need variadicity for <code>fn:concat</code> but we don’t need it for the other functions.</li>
<li>… We might want to add an options parameter, for example, which wouldn’t be
possible if they are variadic.</li>
<li>… I think we could make <code>fn:identity</code> variadic, but that’s not part of the PR.</li>
</ul></li>
<li>CG: The PR removes varadicity for functions except fn:concat</li>
<li>JWL: I’m persuaded by CG’s argument. Especially the idea of making
<code>fn:identity</code> variadic. Just leave concat as it is and don’t promulgate
anymore if you can avoid it.</li>
<li>DN: I’m a little bit undecided. I think having variadic parameters helps a
little bit with the syntax of the function call.</li>
<li>CG: My proposal would be to do this in a second step; define which functions
should be variadic and why and then introduce them.</li>
<li>DN: Then we should have an action item.</li>
<li>CG: We could keep the issue open because that’s where the discussion occured.</li>
<li>WP: This may be off, but is there a world where concat were simply deprecated?
<ul class="org-ul">
<li>… If that’s the outliner that’s causing the pain, it’s a bit of an outlier</li>
</ul></li>
<li>MK: It may be archaic but it’s <b>a lot</b> of work to add a couple of parens.
<ul class="org-ul">
<li>… If we aren’t going to take advantage of it, then it just adds complexity
with no real benefit.</li>
</ul></li>
</ul>

<p>
Some discussion of whether the feature of allowing users to define variadic
functions should remain.
</p>

<ul class="org-ul">
<li>JWL: I like this PR. We can explore the issue in more detail. I also think the
<code>fn:identity</code> function is a good candidate for variadicity.</li>
</ul>

<p>
Proposal: accept this PR.
</p>

<p>
Accepted.
</p>

<p>
(The PR was blocked by merge conflicts at the time of publication.)
</p>

<p>
Some discussion of how we might or might not track future action.
</p>
</div>
</div>

<div id="outline-container-pr-1455" class="outline-3">
<h3 id="pr-1455"><span class="section-number-3">2.5.</span> PR #1455: 1445 Drop number-formatter option, retain string value</h3>
<div class="outline-text-3" id="text-pr-1455">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1455">#1455</a>.
</p>

<p>
MK introduces the PR.
</p>

<ul class="org-ul">
<li>MK: This concerns the XML to JSON conversion. There’s a widely reported
usability problem. If you have XML that contains a telephone number or
something that’s 11 digits, when you convert it to JSON you get floating point.
<ul class="org-ul">
<li>… Our response to that was to introduce a number-formatter option.</li>
<li>… This proposal is for a simpler solution which says we retain the value.</li>
<li>… With the single exception that we will remove leading zeros.</li>
<li>… Don’t use numeric values for things that aren’t numbers!</li>
</ul></li>
<li>MK: This is a small backwards incompatibility because it means that the resulting XML will be different.j
<ul class="org-ul">
<li>… The PR removes a bad feature from the spec and simplifies it.</li>
</ul></li>
<li>WP: What determines that it’s a number?</li>
<li>MK: It’s tagged a number. This isn’t about generic conversion, it’s only for
this specific vocabulary.</li>
</ul>

<p>
Proposal: accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>
</div>

<div id="outline-container-adjourned" class="outline-2">
<h2 id="adjourned"><span class="section-number-2">3.</span> Adjourned</h2>
<div class="outline-text-2" id="text-adjourned">
</div>
</div>
</div>
</body>
</html>
