<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QT4 CG Meeting 086 Minutes 2024-07-09</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
<link rel="shortcut icon" href="/img/QT4-64.png" />
<link rel="apple-touch-icon" sizes="64x64" href="/img/QT4-64.png" type="image/png" />
<link rel="apple-touch-icon" sizes="76x76" href="/img/QT4-76.png" type="image/png" />
<link rel="apple-touch-icon" sizes="120x120" href="/img/QT4-120.png" type="image/png" />
<link rel="apple-touch-icon" sizes="152x152" href="/img/QT4-152.png" type="image/png" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">QT4 CG Meeting 086 Minutes 2024-07-09</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#minutes">Draft Minutes</a></li>
<li><a href="#new-actions">Summary of new and continuing actions <code>[0/3]</code></a></li>
<li><a href="#administrivia">1. Administrivia</a>
<ul>
<li><a href="#roll-call">1.1. Roll call <code>[11/12]</code></a></li>
<li><a href="#agenda">1.2. Accept the agenda</a>
<ul>
<li><a href="#so-far">1.2.1. Status so far…</a></li>
</ul>
</li>
<li><a href="#approve-minutes">1.3. Approve minutes of the previous meeting</a></li>
<li><a href="#next-meeting">1.4. Next meeting</a></li>
<li><a href="#open-actions">1.5. Review of open action items <code>[0/3]</code></a></li>
<li><a href="#open-pull-requests">1.6. Review of open pull requests and issues</a>
<ul>
<li><a href="#blocked">1.6.1. Blocked</a></li>
<li><a href="#close-without-action">1.6.2. Close without action</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#technical-agenda">2. Technical Agenda</a>
<ul>
<li><a href="#communication">2.1. Community, communication, and consensus</a></li>
<li><a href="#h-06AAA90B-E108-43AC-B0D4-26C8057329B1">2.2. Plan to clean up the state of PRs</a></li>
<li><a href="#pr-1263">2.3. PR #1263: 1224 Add xsl:accumulator-rule/@priority attribute</a></li>
<li><a href="#pr-1244">2.4. PR #1244: 1244 566-partial Rewrite parse-uri</a></li>
</ul>
</li>
<li><a href="#any-other-business">3. Any other business</a></li>
<li><a href="#adjourned">4. Adjourned</a></li>
</ul>
</div>
</div>
<p>
<a href="../">Meeting index</a> / <a href="https://qt4cg.org">QT4CG.org</a> / <a href="https://qt4cg.org/dashboard">Dashboard</a> / <a href="https://github.com/qt4cg/qtspecs/issues">GH Issues</a> / <a href="https://github.com/qt4cg/qtspecs/pulls">GH Pull Requests</a>
</p>

<div id="outline-container-minutes" class="outline-2">
<h2 id="minutes">Draft Minutes</h2>
<div class="outline-text-2" id="text-minutes">
</div>
</div>

<div id="outline-container-new-actions" class="outline-2">
<h2 id="new-actions">Summary of new and continuing actions <code>[0/3]</code></h2>
<div class="outline-text-2" id="text-new-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-080-05: NW to add absolute property to the parse-uri output</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-080-07: NW to update the build instructions in the README</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-082-02: DN to work with MK to come to agreement on the fn:ranks proposal</li>
</ul>
</div>
</div>

<div id="outline-container-administrivia" class="outline-2">
<h2 id="administrivia"><span class="section-number-2">1.</span> Administrivia</h2>
<div class="outline-text-2" id="text-administrivia">
</div>

<div id="outline-container-roll-call" class="outline-3">
<h3 id="roll-call"><span class="section-number-3">1.1.</span> Roll call <code>[11/12]</code></h3>
<div class="outline-text-3" id="text-roll-call">
<ul class="org-ul">
<li class="on"><code>[X]</code> Reece Dunn (RD)</li>
<li class="on"><code>[X]</code> Sasha Firsov (SF)</li>
<li class="on"><code>[X]</code> Christian Grün (CG)</li>
<li class="on"><code>[X]</code> Joel Kalvesmaki (JK)</li>
<li class="on"><code>[X]</code> Michael Kay (MK)</li>
<li class="off"><code>[&#xa0;]</code> Juri Leino (JLO)</li>
<li class="on"><code>[X]</code> John Lumley (JWL)</li>
<li class="on"><code>[X]</code> Dimitre Novatchev (DN)</li>
<li class="on"><code>[X]</code> Wendell Piez (WP)</li>
<li class="on"><code>[X]</code> Ed Porter (EP)</li>
<li class="on"><code>[X]</code> C. M. Sperberg-McQueen (MSM)</li>
<li class="on"><code>[X]</code> Norm Tovey-Walsh (NW). <i>Scribe</i>. <i>Chair</i>.</li>
</ul>
</div>
</div>

<div id="outline-container-agenda" class="outline-3">
<h3 id="agenda"><span class="section-number-3">1.2.</span> Accept the agenda</h3>
<div class="outline-text-3" id="text-agenda">
<p>
MK observes that the selection of technical items is a mixed bag. Some are not
ready for discussion. Maybe we could talk about how to improve that?
</p>

<p>
Proposal: Accept <a href="../../agenda/2024/07-16.html">the agenda</a> amended to include discussion of the state of PRs.
</p>

<p>
Accepted.
</p>
</div>

<div id="outline-container-so-far" class="outline-4">
<h4 id="so-far"><span class="section-number-4">1.2.1.</span> Status so far…</h4>
<div class="outline-text-4" id="text-so-far">

<div id="org9fd8357" class="figure">
<p><img src="./issues-open-2024-07-16.png" alt="issues-open-2024-07-16.png" />
</p>
<p><span class="figure-number">Figure 1: </span>“Burn down” chart on open issues</p>
</div>


<div id="orgb3e1c93" class="figure">
<p><img src="./issues-by-spec-2024-07-16.png" alt="issues-by-spec-2024-07-16.png" />
</p>
<p><span class="figure-number">Figure 2: </span>Open issues by specification</p>
</div>


<div id="org823e7c5" class="figure">
<p><img src="./issues-by-type-2024-07-16.png" alt="issues-by-type-2024-07-16.png" />
</p>
<p><span class="figure-number">Figure 3: </span>Open issues by type</p>
</div>
</div>
</div>
</div>

<div id="outline-container-approve-minutes" class="outline-3">
<h3 id="approve-minutes"><span class="section-number-3">1.3.</span> Approve minutes of the previous meeting</h3>
<div class="outline-text-3" id="text-approve-minutes">
<p>
Proposal: Accept <a href="../../minutes/2024/07-09.html">the minutes of the previous meeting</a>.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-next-meeting" class="outline-3">
<h3 id="next-meeting"><span class="section-number-3">1.4.</span> Next meeting</h3>
<div class="outline-text-3" id="text-next-meeting">
<p>
This next meeting is planned for 23 July.
</p>

<p>
MSM gives possible regrets.
</p>
</div>
</div>

<div id="outline-container-open-actions" class="outline-3">
<h3 id="open-actions"><span class="section-number-3">1.5.</span> Review of open action items <code>[0/3]</code></h3>
<div class="outline-text-3" id="text-open-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-080-05: NW to add absolute property to the parse-uri output</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-080-07: NW to update the build instructions in the README</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-082-02: DN to work with MK to come to agreement on the fn:ranks proposal</li>
</ul>
</div>
</div>

<div id="outline-container-open-pull-requests" class="outline-3">
<h3 id="open-pull-requests"><span class="section-number-3">1.6.</span> Review of open pull requests and issues</h3>
<div class="outline-text-3" id="text-open-pull-requests">
</div>

<div id="outline-container-blocked" class="outline-4">
<h4 id="blocked"><span class="section-number-4">1.6.1.</span> Blocked</h4>
<div class="outline-text-4" id="text-blocked">
<p>
The following PRs are open but have merge conflicts or comments which
suggest they aren’t ready for action.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1231">#1231</a>: 1193 Parsing Functions: Empty input</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1227">#1227</a>: 150 PR resubmission for fn ranks</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1062">#1062</a>: 150bis - revised proposal for fn:ranks</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-529">#529</a>: 528 fn:elements-to-maps</li>
</ul>
</div>
</div>

<div id="outline-container-close-without-action" class="outline-4">
<h4 id="close-without-action"><span class="section-number-4">1.6.2.</span> Close without action</h4>
<div class="outline-text-4" id="text-close-without-action">
<p>
It has been proposed that the following issues be closed without action.
If you think discussion is necessary, please say so.
</p>

<ul class="org-ul">
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/1272">#1272</a>: Add xsl:value-of/@as attribute</li>
</ul>

<p>
Proposal: close without further action
</p>

<p>
Approved.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-technical-agenda" class="outline-2">
<h2 id="technical-agenda"><span class="section-number-2">2.</span> Technical Agenda</h2>
<div class="outline-text-2" id="text-technical-agenda">
</div>

<div id="outline-container-communication" class="outline-3">
<h3 id="communication"><span class="section-number-3">2.1.</span> Community, communication, and consensus</h3>
<div class="outline-text-3" id="text-communication">
<p>
Can we make our process less…fractious?
</p>

<ul class="org-ul">
<li>NW: I said my piece in <a href="https://qt4cg.org/meeting/agenda/2024/07-16.html#communication">the agenda</a>. Mike’s follow-up points <a href="https://github.com/qt4cg/qtspecs/pull/1296#issuecomment-2228896220">in the issue</a> were
on point as well, I think. Mostly, we’re talking about design decisions and
while the design might have influence one way or the other, rarely can the
argument be made, I think, that one design is doomed to failure.</li>
<li>MK: People do get passionate about decisions; we strive for perfection and we
have different ideas about what that is. Often, focused on one particular
aspect of design. These are engineering trade-offs; we should try to be
objective about what the benefits and disadvantages of the proposals.
<ul class="org-ul">
<li>Don Chamberlain and Mary Fernandez were very good about managing these sorts
of things. They would write up a position paper that was very clear about
the options without taking sides. That often clarified the engineering
trade-offs. Even if you end up tossing a coin, everyone has acknowledged the
choices.</li>
</ul></li>
<li>CG: Thanks for putting this on the agenda. What do you think of the current
way. Sometimes there’s no discussion, sometimes there’s a lot of discussion.
What I observed is that in the beginning I felt like we were much more
focused. In the last few months, it feels like things have been blocked by
secondary items. I appreciate MK’s comments about other projects.</li>
<li>DN: I want to thank CG for adding this to the agenda. I want to thank MK for
pointing out that we should be guided primarily by the facts. I agree that we
have communication issues. And our communication will be reflected in the
final project.
<ul class="org-ul">
<li>I think there are bigger communication problems:</li>
</ul></li>
</ul>

<p>
DN shares a screen with some XQuery definitions
</p>

<ul class="org-ul">
<li>DN: There’s a simple call to fold left with the position argument. This gives
the wrong answer. Without the position argument, we get the right answer (55).
<ul class="org-ul">
<li>… Our specification of defaults that has been in the spec for several months
is wrong. And no one has noticed. We have problems in communication and
approval of PRs.</li>
<li>… For fold-right, we get 35 but we should have got the same result.</li>
<li>… For PR 1296, we have an example that doesn’t even compile!</li>
<li>… If I change it so it compiles, fold-left produces the right result but
fold-right has some mysterious issue.</li>
<li>… The mapBuild function from the specification also does not compile!</li>
<li>… This shows much deeper and more serious issues in our communication.</li>
</ul></li>
<li>DN: I think we need to review how we accept pull requests.</li>
<li>DN: I also wanted to show you two more functions, the versions of C# that do
not have position arguments.</li>
<li>CG: I’d like to point out that I didn’t raise this issue exclusively because
of the scan functions. It’s a general observation over the past few months
that we’ve had trouble making progress. Whenever a few people think something
is a good idea, we should have respect for that. Everyone can have different
experiences and ideas, but I wanted to talk about the principle that we should
avoid offensive terms.</li>
<li>DN: I think in many cases when we have consensus, we end up with results that
don’t work. I would not be surprised if very significant parts of our “formal”
specification will have similar results.</li>
<li>RD: A couple of points. 1. I don’t have enough time to look at all of the
issues and all of the discussions. The discussion may be in a domain area
where I’m not an expert. I only tend to contribute when I have specific
insights. 2. On the grammar and syntax errors with fold-left and fold-right, I
wonder if we could run a parser over the specs. We should be able to automate
validation of the fragments. With things like the $key variable being
mistyped, I think it might be useful to extract the functions where we’ve got
something that should be implementations and test them. We’re relying on
having multiple implementors implementing the spec and providing feedback and
comments. It’s impossible to get a perfect, error-free spec. That’s just the
nature of writing. What tooling and infrastructure can we put in place?</li>
<li>MK: We’ve changed the subject somewhat from the process of gaining agreement
on the design that we want to the process of publishing a quality
specification free of embarrassing errors. In some ways I’m more comfortable
with the second topic!
<ul class="org-ul">
<li>… We’ve put a lot of investment into technology for solving some of those
issues that we aren’t fully exploiting. We do have the ability to test all
the examples, for examples.</li>
<li>… Testing alternative implementations is something we should definitely try
to do. Some of the test suites for particular functions test both the “real”
implementation and the specification implementation.</li>
<li>… We should try to formalize that. The whole markup of Functions &amp; Operators
should support marking up a function clearly enough to automate testing it.</li>
<li>… There’s also technology in the markup system for marking up fragments of
XPath and testing that they compile.</li>
<li>… I think that’s a separate matter from the process we try to use to reach consensus.</li>
</ul></li>
<li>DN: Totally agree with MK. It’s good that we’re talking about communication
problems, but if we’re only talking it’s not good. The actions could be to
establish some rules that would decrease some issues.
<ul class="org-ul">
<li>… I’d like to suggest that this formal semantics should be executable as
much as possible. We should be able to cut-and-paste the formal
specifications into their favorite implementations.</li>
<li>… We should not allow a formal specification to be replaced by an informal
one.</li>
</ul></li>
<li>RD: It would also be useful to have validation for XSLT as well. Those
examples can have errors too. I don’t think it would be useful to require all
functions to have an executable implementation. First, because that can be
difficult to read, and second, it can be harder to implement when you’re
dealing with internals and domain-specific things like Unicode.</li>
<li>DN: For me, a specification is not executable if the code contain calls to
other newly proposed XPath 4.0 functions that are not implemented. It’s a
circular reference or chain that should be broken.</li>
<li>MSM: Thank you for the discussion. I think MK was right that we’ve drifted
from the question of communication style and interaction to questions of
quality assurance. That’s understandable in a way. It’s when we see things
going wrong that we’re most apt to become agitated and push the boundaries of
normal rules of communication. I think we’ve had some suggestions for improved
Q&amp;A. I would like to make some suggestions for improved communication:
<ul class="org-ul">
<li>… There are rules that apply here. You may or may not remember but when you
joined the group you agreed to abide by the W3C code of conduct.</li>
<li>… There are a lot of things in the code that aren’t relative, but cognizance
of difference is essential. We all come from different tehcnical, social and
cultural backgrounds. That means we inevitably have different expectations.
Things that are minor in some cultures may be almost unbearably aggressive
in others. That means that those from cultures on the aggressive end of the
spectrum have to be sensitive and those from the other end have to try to be
understanding.</li>
<li>… The second requirement is respect. Everyone here is a volunteer giving
their time. Everyone is obligated to be here. To the extent that we all want
this spec to go forward, we owe each other a debt of gratitude for being
here. If things aren’t going as we would like, if PRs aren’t getting the
review we would like, that’s because we aren’t as many as we might like. But
turning meeteings of the group into unpleasant confrontations isn’t a way to
encourage people to be here.</li>
<li>… Be conscious that you may need to convey respect as well as critical
information. Of course, it’s precisely when we’re most passionate about
something that it’s easiest to loose track. And if we weren’t passionate, we
wouldn’t be here. Some confrontation is probably unavoidable but I would
like to lower the temperature sometimes.</li>
<li>… Maybe we should just suspend discussion when it gets too heated. That’s
something that NW and I can do as co-chairs.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-h-06AAA90B-E108-43AC-B0D4-26C8057329B1" class="outline-3">
<h3 id="h-06AAA90B-E108-43AC-B0D4-26C8057329B1"><span class="section-number-3">2.2.</span> Plan to clean up the state of PRs</h3>
<div class="outline-text-3" id="text-h-06AAA90B-E108-43AC-B0D4-26C8057329B1">
<ul class="org-ul">
<li>MK: There are various things on the list this week, that I don’t think that
we’re ready to debate. Perhaps we aren’t tagging things appropriately. There
are things like JSON to XML conversion that have been dormant a long while.
<ul class="org-ul">
<li>… There are other things that perhaps ought to be back-burnered.</li>
</ul></li>
<li>NW: I think it’s also appropriate to close PRs that won’t be ready for
discussion for some time.</li>
</ul>

<p>
This discussion petered out without really leading anywhere. Alas.
</p>

<p>
MK proposes that we can get through 1263 in 15 minutes.
</p>
</div>
</div>

<div id="outline-container-pr-1263" class="outline-3">
<h3 id="pr-1263"><span class="section-number-3">2.3.</span> PR #1263: 1224 Add xsl:accumulator-rule/@priority attribute</h3>
<div class="outline-text-3" id="text-pr-1263">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1263">#1263</a>
</p>

<p>
MK walks us through the substance of the change.
</p>

<ul class="org-ul">
<li>NW: I’m happy to see that there’s no attempt to mix manual and automatic priorities.</li>
<li>JK: I’m in favor of this proposal, it’ll help me a lot.</li>
<li>MSM: Several people have said that we aren’t mixing and explict and implicit
priorities. Hasn’t XSLT already done that; shouldn’t we be trying to do the
same thing as XSLT?</li>
<li>MK: One reason is that if we now introduced default priorities based on the
syntax of the match pattern based on the syntax of the match patterns, we’d
immediately be incompatible with 3.0.
<ul class="org-ul">
<li>That was done probably because we thought there would only be a few.</li>
</ul></li>
</ul>

<p>
Some discussion of whether automatic XSLT priorities are “a good thing” in the
first place.
</p>

<ul class="org-ul">
<li>MK: The compatibility problem seems insurmountable.</li>
<li>WP: If we can’t make the priorities the same, then can we flag that up?</li>
<li>MK: We could add an attribute to do that, but that seems like layering complexity.</li>
<li>NW: Doesn’t the current design achieve that: if one has a priority then they all must?</li>
</ul>

<p>
Further discussion of that design choice.
</p>

<ul class="org-ul">
<li>JWL: No two priorities can be the same, so the set of accumulator rules are
strictly ordered. So in one sense you don’t need the priority attirbute, you
just have to put them in the right order.</li>
<li>MK: That’s the 3.0 design.</li>
<li>JWL: So this just makes it so you don’t have to switch them around.</li>
<li>RD: Does this effect included accumulator rules?</li>
<li>MK: You can’t currently spread an accumulator definition across multiple
modules.</li>
<li>MSM: I’d like a week to sleep on it.</li>
<li>JWL: Same for me.</li>
<li>DN: All similar design issues could be replaced by having a single map of
accumulators with match patterns as the keys. This will be more compact and
people will not argue about order and other things. I’ve noticed this in
several places. Things that are declared as a sequence can be a single map.</li>
<li>CG: I hope that one minute is enough to look at 1244.</li>
</ul>
</div>
</div>

<div id="outline-container-pr-1244" class="outline-3">
<h3 id="pr-1244"><span class="section-number-3">2.4.</span> PR #1244: 1244 566-partial Rewrite parse-uri</h3>
<div class="outline-text-3" id="text-pr-1244">
<ul class="org-ul">
<li>CG: I’ve reviewed this and I think we should merge it and then work on
implementations and tests.</li>
<li>NW: Okay. I’ve been holding off on this one waiting until we could collaborate
on that, but if you think it’s ready to merge, that’s fine by me!</li>
</ul>

<p>
Proposal: merge this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>
</div>

<div id="outline-container-any-other-business" class="outline-2">
<h2 id="any-other-business"><span class="section-number-2">3.</span> Any other business</h2>
<div class="outline-text-2" id="text-any-other-business">
<p>
None heard.
</p>
</div>
</div>

<div id="outline-container-adjourned" class="outline-2">
<h2 id="adjourned"><span class="section-number-2">4.</span> Adjourned</h2>
<div class="outline-text-2" id="text-adjourned">
</div>
</div>
</div>
</body>
</html>
