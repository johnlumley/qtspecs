<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QT4 CG Meeting 095 Minutes 2024-10-22</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
<link rel="shortcut icon" href="/img/QT4-64.png" />
<link rel="apple-touch-icon" sizes="64x64" href="/img/QT4-64.png" type="image/png" />
<link rel="apple-touch-icon" sizes="76x76" href="/img/QT4-76.png" type="image/png" />
<link rel="apple-touch-icon" sizes="120x120" href="/img/QT4-120.png" type="image/png" />
<link rel="apple-touch-icon" sizes="152x152" href="/img/QT4-152.png" type="image/png" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">QT4 CG Meeting 095 Minutes 2024-10-22</h1>
<p>
<a href="../">Meeting index</a> / <a href="https://qt4cg.org">QT4CG.org</a> / <a href="https://qt4cg.org/dashboard">Dashboard</a> / <a href="https://github.com/qt4cg/qtspecs/issues">GH Issues</a> / <a href="https://github.com/qt4cg/qtspecs/pulls">GH Pull Requests</a>
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#minutes">Minutes</a></li>
<li><a href="#new-actions">Summary of new and continuing actions <code>[0/8]</code></a></li>
<li><a href="#administrivia">1. Administrivia</a>
<ul>
<li><a href="#roll-call">1.1. Roll call <code>[10/12]</code></a></li>
<li><a href="#agenda">1.2. Accept the agenda</a>
<ul>
<li><a href="#so-far">1.2.1. Status so far…</a></li>
</ul>
</li>
<li><a href="#approve-minutes">1.3. Approve minutes of the previous meeting</a></li>
<li><a href="#next-meeting">1.4. Next meeting</a></li>
<li><a href="#open-actions">1.5. Review of open action items <code>[3/8]</code></a></li>
<li><a href="#open-pull-requests">1.6. Review of open pull requests and issues</a>
<ul>
<li><a href="#blocked">1.6.1. Blocked</a></li>
<li><a href="#merge-without-discussion">1.6.2. Merge without discussion</a></li>
<li><a href="#close-without-action">1.6.3. Close without action</a></li>
<li><a href="#substantive">1.6.4. Substantive PRs</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#technical-agenda">2. Technical agenda</a>
<ul>
<li><a href="#pr-1513">2.1. PR #1513: 1512 Disallow reserved names in namespace and PI constructors</a></li>
<li><a href="#pr-1511">2.2. PR #1511: 1345 Re-allow bare-brace map constructors everywhere</a></li>
<li><a href="#pr-1504">2.3. PR #1504: 868 fn:intersperse → fn:join, array:join($arrays, $separator)</a></li>
<li><a href="#pr-1501">2.4. PR #1501: 1318 Function Coercion: Records, Maps, Arrays</a></li>
</ul>
</li>
<li><a href="#any-other-business">3. Any other business</a></li>
<li><a href="#adjourned">4. Adjourned</a></li>
</ul>
</div>
</div>

<div id="outline-container-minutes" class="outline-2">
<h2 id="minutes">Minutes</h2>
<div class="outline-text-2" id="text-minutes">
<p>
Approved <a href="../2024/10-29.html">at meeting 096</a> on 29 October 2024.
</p>
</div>
</div>

<div id="outline-container-new-actions" class="outline-2">
<h2 id="new-actions">Summary of new and continuing actions <code>[0/8]</code></h2>
<div class="outline-text-2" id="text-new-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-080-07: NW to update the build instructions in the README</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-082-02: DN to work with MK to come to agreement on the fn:ranks proposal</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-088-01: NW to consider how best to add a dedication to MSM.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-088-04: [Someone] needs to update the processing model diagram needs vis-a-vis the static typing feature</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-089-01: CG to draft a PR that attempts to resolve the operators described in #755 to a smaller number of orthogonal choices.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-095-01: MK to mark the UnreservedNCName toke as XQuery only.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-095-02: MK to add usage advice about computed constructors</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-095-03: CG to consider what to do about coercion causing keys to become duplicates in #1501.</li>
</ul>
</div>
</div>

<div id="outline-container-administrivia" class="outline-2">
<h2 id="administrivia"><span class="section-number-2">1.</span> Administrivia</h2>
<div class="outline-text-2" id="text-administrivia">
</div>

<div id="outline-container-roll-call" class="outline-3">
<h3 id="roll-call"><span class="section-number-3">1.1.</span> Roll call <code>[10/12]</code></h3>
<div class="outline-text-3" id="text-roll-call">
<p>
SF gives regrets.
</p>

<ul class="org-ul">
<li class="on"><code>[X]</code> David J Birnbaum (DB)</li>
<li class="on"><code>[X]</code> Reece Dunn (RD)</li>
<li class="off"><code>[&#xa0;]</code> Sasha Firsov (SF)</li>
<li class="on"><code>[X]</code> Christian Grün (CG)</li>
<li class="on"><code>[X]</code> Joel Kalvesmaki (JK)</li>
<li class="on"><code>[X]</code> Michael Kay (MK)</li>
<li class="on"><code>[X]</code> Juri Leino (JLO)</li>
<li class="on"><code>[X]</code> John Lumley (JWL)</li>
<li class="on"><code>[X]</code> Dimitre Novatchev (DN)</li>
<li class="on"><code>[X]</code> Wendell Piez (WP)</li>
<li class="off"><code>[&#xa0;]</code> Ed Porter (EP)</li>
<li class="on"><code>[X]</code> Norm Tovey-Walsh (NW). <i>Scribe</i>. <i>Chair</i>.</li>
</ul>
</div>
</div>

<div id="outline-container-agenda" class="outline-3">
<h3 id="agenda"><span class="section-number-3">1.2.</span> Accept the agenda</h3>
<div class="outline-text-3" id="text-agenda">
<p>
Proposal: Accept <a href="../../agenda/2024/10-22.html">the agenda</a>.
</p>

<p>
Accepted.
</p>
</div>

<div id="outline-container-so-far" class="outline-4">
<h4 id="so-far"><span class="section-number-4">1.2.1.</span> Status so far…</h4>
<div class="outline-text-4" id="text-so-far">
<p>
These charts have been adjusted so they reflect the preceding six months of work.
</p>


<div id="org0aaaeec" class="figure">
<p><img src="./issues-open-2024-10-22.png" alt="issues-open-2024-10-22.png" />
</p>
<p><span class="figure-number">Figure 1: </span>“Burn down” chart on open issues</p>
</div>


<div id="orgfabdf61" class="figure">
<p><img src="./issues-by-spec-2024-10-22.png" alt="issues-by-spec-2024-10-22.png" />
</p>
<p><span class="figure-number">Figure 2: </span>Open issues by specification</p>
</div>


<div id="orgaa50d07" class="figure">
<p><img src="./issues-by-type-2024-10-22.png" alt="issues-by-type-2024-10-22.png" />
</p>
<p><span class="figure-number">Figure 3: </span>Open issues by type</p>
</div>
</div>
</div>
</div>

<div id="outline-container-approve-minutes" class="outline-3">
<h3 id="approve-minutes"><span class="section-number-3">1.3.</span> Approve minutes of the previous meeting</h3>
<div class="outline-text-3" id="text-approve-minutes">
<p>
Proposal: Accept <a href="../../minutes/2024/10-22.html">the minutes of the previous meeting</a>.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-next-meeting" class="outline-3">
<h3 id="next-meeting"><span class="section-number-3">1.4.</span> Next meeting</h3>
<div class="outline-text-3" id="text-next-meeting">
<p>
This next meeting is planned for 29 October. Any regrets?
</p>

<p>
DB gives regrets.
</p>

<p>
Note: The QT4CG operates on European civil time. In Europe and the United
Kingdom, summer time ends on 27 October. In the United States, summer time ends
on 3 November. That means the meeting of 29 October will be one hour later in
the United States.
</p>
</div>
</div>

<div id="outline-container-open-actions" class="outline-3">
<h3 id="open-actions"><span class="section-number-3">1.5.</span> Review of open action items <code>[3/8]</code></h3>
<div class="outline-text-3" id="text-open-actions">
<p>
(Items marked [X] are believed to have been closed via email before
this agenda was posted.)
</p>

<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-080-07: NW to update the build instructions in the README</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-082-02: DN to work with MK to come to agreement on the fn:ranks proposal</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-088-01: NW to consider how best to add a dedication to MSM.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-088-04: [Someone] needs to update the processing model diagram needs vis-a-vis the static typing feature</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-089-01: CG to draft a PR that attempts to resolve the operators described in #755 to a smaller number of orthogonal choices.</li>
<li class="on"><code>[X]</code> QT4CG-094-01: CG to revise the proposal to serialize as jsonl
<ul class="org-ul">
<li>New PR #1497</li>
</ul></li>
<li class="on"><code>[X]</code> QT4CG-094-02: CG to revise the proposal to have <code>err:stack-trace</code> return a function item 
<ul class="org-ul">
<li>Revised PR #1470</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-open-pull-requests" class="outline-3">
<h3 id="open-pull-requests"><span class="section-number-3">1.6.</span> Review of open pull requests and issues</h3>
<div class="outline-text-3" id="text-open-pull-requests">
</div>

<div id="outline-container-blocked" class="outline-4">
<h4 id="blocked"><span class="section-number-4">1.6.1.</span> Blocked</h4>
<div class="outline-text-4" id="text-blocked">
<p>
The following PRs are open but have merge conflicts or comments which
suggest they aren’t ready for action.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1470">#1470</a>: 689 fn:stack-trace: replace with $err:stack-trace</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1505">#1505</a>: 1503 Add err:map, err:stack-trace, err:additional to XSLT
<ul class="org-ul">
<li>Not technically blocked, but should be merged along with #1470</li>
</ul></li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1454">#1454</a>: 1449 Relax rules on multiple xsl:includes</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1296">#1296</a>: 982 Rewrite of scan-left and scan-right</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1283">#1283</a>: 77b Update expressions</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1062">#1062</a>: 150bis revised proposal for fn:ranks</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-529">#529</a>: 528 fn:elements-to-maps</li>
</ul>
</div>
</div>

<div id="outline-container-merge-without-discussion" class="outline-4">
<h4 id="merge-without-discussion"><span class="section-number-4">1.6.2.</span> Merge without discussion</h4>
<div class="outline-text-4" id="text-merge-without-discussion">
<p>
The following PRs are editorial, small, or otherwise appeared to be
uncontroversial when the agenda was prepared. The chairs propose that
these can be merged without discussion. If you think discussion is
necessary, please say so.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1518">#1518</a>: Add to changes metadata</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1517">#1517</a>: 1516(A) Fix failing F&amp;O examples</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1510">#1510</a>: 1509 Drop obsolete/redundant text about "import schema" location hints</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1508">#1508</a>: 1507 Make format-integer spec legible</li>
</ul>

<p>
JLO asked to discuss:
</p>

<ul class="org-ul">
<li><a href="https://qt4cg.org/dashboard/#pr-1502">#1502</a>: 1458 Arguments that have a default value but don't accept ()</li>
</ul>

<p>
JLO asks, what does this do?
</p>

<ul class="org-ul">
<li>CG: We made a number of parameters optional. Which is what we do elsewhere.e
<ul class="org-ul">
<li>… If you omit the value in <code>fn:id()</code>, you get different semantics.</li>
<li>… So we won’t make them optional in that case.</li>
<li>… There are only four exceptions.</li>
</ul></li>
<li>JLO: Thanks. Now I understand.</li>
</ul>

<p>
Proposal: merge these PRs without discussion
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-close-without-action" class="outline-4">
<h4 id="close-without-action"><span class="section-number-4">1.6.3.</span> Close without action</h4>
<div class="outline-text-4" id="text-close-without-action">
<p>
It has been proposed that the following issues be closed without action.
If you think discussion is necessary, please say so.
</p>

<ul class="org-ul">
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/1179">#1179</a>: Editorial: `array:values`, `map:values`</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/1169">#1169</a>: Maps &amp; Arrays: Consistency &amp; Terminology</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/1114">#1114</a>: Partial function application: Keywords and placeholders</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/1065">#1065</a>: fn:format-number: further notes</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/735">#735</a>: Local functions in XSLT</li>
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/573">#573</a>: Node construction functions</li>
</ul>

<p>
Proposal: close these issues with no further action.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-substantive" class="outline-4">
<h4 id="substantive"><span class="section-number-4">1.6.4.</span> Substantive PRs</h4>
<div class="outline-text-4" id="text-substantive">
<p>
The following substantive PRs were open when this agenda was prepared.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1513">#1513</a>: 1512 Disallow reserved names in namespace and PI constructors</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1511">#1511</a>: 1345 Re-allow bare-brace map constructors everywhere</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1504">#1504</a>: 868 fn:intersperse → fn:join, array:join($arrays, $separator)</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1501">#1501</a>: 1318 Function Coercion: Records, Maps, Arrays</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1498">#1498</a>: 1366 Use ++ and ** operators in EBNF</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1497">#1497</a>: 1471 JSON Serialization: json-lines</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1496">#1496</a>: 1495 Drop context value static type</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1454">#1454</a>: 1449 Relax rules on multiple xsl:includes</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1227">#1227</a>: 150 PR resubmission for fn ranks</li>
</ul>
</div>
</div>
</div>
</div>


<div id="outline-container-technical-agenda" class="outline-2">
<h2 id="technical-agenda"><span class="section-number-2">2.</span> Technical agenda</h2>
<div class="outline-text-2" id="text-technical-agenda">
</div>

<div id="outline-container-pr-1513" class="outline-3">
<h3 id="pr-1513"><span class="section-number-3">2.1.</span> PR #1513: 1512 Disallow reserved names in namespace and PI constructors</h3>
<div class="outline-text-3" id="text-pr-1513">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1513">#1513</a>
</p>

<ul class="org-ul">
<li>MK: This just applies the decisions we already made to avoid ambiguity in
element and attribute constructors to namespace and PI constructors where they
also apply.
<ul class="org-ul">
<li>… Slightly different syntax because they use NCNames not QNames</li>
<li>… Closely parallel to what we already have for elements and attributes</li>
</ul></li>
<li>JWL: I checked and this does solve the ambiguity changes.
<ul class="org-ul">
<li>… But you also added the new NCName</li>
</ul></li>
</ul>

<p>
ACTION: QT4CG-095-01: MK to mark the UnreservedNCName toke as XQuery only.
</p>

<ul class="org-ul">
<li>DN: What are the reserved names?</li>
<li>MK: We decided that all of the XPath keywords would be reserved names.
<ul class="org-ul">
<li>… This is all in XQuery.</li>
</ul></li>
<li>JLO: I still think that <code>div</code> will be a problem. I’d like to see some guidance for users.</li>
<li>MK: This is a computed constructor for a constant name, so you wonder why this is used.</li>
<li>RD: It can be useful because the computed constructors make it easier to
include the context in a brace. So you don’t wind up with a mixture of angle
brackets and braces.</li>
<li>MK: I confess, I never construct nodes with XQuery.</li>
<li>JLO: It’s often used if you want to do something like change the name of a
node and copy all its attributes.</li>
<li>WP: What’s the status of automatically rewriting XQuery for upgrades.</li>
<li>DN: As WP reminded us, even though we’re forbidding some names, they’re
perfectly valid. They can actually exist. It seems a bit restrictive to forbid
them completely.
<ul class="org-ul">
<li>… Is there some other way to encode the names.</li>
</ul></li>
<li>MK: Just write them in quotes.</li>
<li>JWL: This list is actually larger than the ones that <b>would</b> actually give you
ambiguity. The ambiguity only occurs when it’s a binary operator.</li>
<li>MK: There are keywords like <code>return</code> that cause a lot of trouble.</li>
<li>RD: To answer WP’s point, it should be possible to detect that you’re running
XQuery 4 and on the elements that are direct NCNames, you can check them. The
editor action for the error could be to add quotes. That shouldn’t be too
difficult to do in tooling.</li>
<li>CG: As JLO indicated, I think it would be useful to present the quoted syntax
as the preferred approach. We could add new keywords in the future.</li>
</ul>

<p>
ACTION: QT4CG-095-02: MK to add usage advice about computed constructors
</p>

<p>
Proposal: Accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-pr-1511" class="outline-3">
<h3 id="pr-1511"><span class="section-number-3">2.2.</span> PR #1511: 1345 Re-allow bare-brace map constructors everywhere</h3>
<div class="outline-text-3" id="text-pr-1511">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1511">#1511</a>
</p>

<p>
MK introduces the issue. This is why we did all the reserved names!
</p>

<ul class="org-ul">
<li>MK: This gets rid of <code>standaloneExpr</code> which we don’t need anymore.
<ul class="org-ul">
<li>… (It incidentally standardizes on calling them “curly brackets” not curly braces, per Unicode)</li>
<li>… There’s quite a bit of text on using expressions that start and end with
curly brackets inside an enclosed expression. You may need whitespace in some cases.</li>
</ul></li>
</ul>

<p>
Proposal: Accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-pr-1504" class="outline-3">
<h3 id="pr-1504"><span class="section-number-3">2.3.</span> PR #1504: 868 fn:intersperse → fn:join, array:join($arrays, $separator)</h3>
<div class="outline-text-3" id="text-pr-1504">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1504">#1504</a>
</p>

<p>
CG introduces the PR.
</p>

<ul class="org-ul">
<li>CG: This is an older issue, <a href="https://github.com/qt4cg/qtspecs/issues/868">#868</a>. We have three functions that do similar
things, joining their arguments sometimes with separators.
<ul class="org-ul">
<li>… This renames them all to <code>join</code> and allows a separator.</li>
<li>… For consistency, I allowed a sequence for the separator in <code>string-join</code>.</li>
<li>… The name <code>intersperse</code> was deemed too technical, so we call it <code>join</code> as well.</li>
</ul></li>
<li>JWL: Are a number of those signatures missing return types?</li>
<li>CG: I think it’s a rendering issue in the diff.</li>
<li>MK: I have two anxieties, the first is that I really don’t see the value in
string-join of allowing the separator to be a sequence. It’s orthogonal, but
not really useful. It seems unnecessary to add that. The other anxiety is the
name “join”. I think that “join” to a lot of people means a relational
equi-join. In particular, if there isn’t a separator, joining a sequence is a
nop. That’s not true of <code>string-join</code>, although it is possible now with
<code>concat</code> but it didn’t used to be.
<ul class="org-ul">
<li>… The name <code>join</code> doesn’t seem to capture the flavor of what that function
is for: inserting separators.</li>
</ul></li>
<li>CG: Most languages only allow a single separator, so we could rever this.
<ul class="org-ul">
<li>… The main reason why I renamed everything to join because we have
<code>array:join</code> although it’s a bit different. Most folks who have used
<code>array:join</code> will probably know what <code>join</code> does. We could enforce the
second parameter. It could be an empty sequence.</li>
<li>… It was a user of ours that asked why the function is not called join,
because <code>string-join</code> is very widespread in other languages.</li>
</ul></li>
<li>RD: With the <code>array:join</code> is the separator an optional parameter?</li>
<li>CG: Yes.</li>
<li>RD: It defaults to an empty array so the two are kind of mutally exclusive.</li>
<li>CG: Yes, but it could also be an empty sequence.</li>
</ul>

<p>
Some discussion of the optionality (or not) of the second parameter to <code>array:join</code>.
</p>

<ul class="org-ul">
<li>CG: When the empty array is used, it will give you the same results as the old join.</li>
<li>MK: I think I understand RD’s point. The only effect of removing the question
would be to disallow supplying an empty sequence there. It seems more logical
to supply an empty array. No need to provide two ways.</li>
<li>RD: So queries that supply a separator would error if that resulted in an empty sequence.</li>
<li>JLO: I misread the proposal because when I see “join”, I think of
“string-join”. I wasn’t even thinking of database joins. So maybe it is
misleading. The same is true for <code>array:join</code> to me.</li>
<li>CG: We have lots of use cases for it in the past. For example, inserting
<code>&lt;hr/&gt;</code> between <code>./para</code> elements.
<ul class="org-ul">
<li>We added a sequence here, but it could be a single separator.</li>
</ul></li>
<li>DN: I think the name <code>string-join</code> is not only very good. It should be <b><b>strings</b></b>-join.
<ul class="org-ul">
<li>… The other thing is that <code>join</code> is very overloaded. There are many possible synonyms for
join.</li>
</ul></li>
<li>CG: Yes, <code>string-join</code> doesn’t make too much sense today because you can pass
arbitrary items. You can pass any atomic type.
<ul class="org-ul">
<li>… One reason we need to stick to “join” is because <code>fn:string-join</code> and
<code>array:join</code> already exist. But we could add functions with different names,
but I was trying to unify things.</li>
</ul></li>
</ul>

<p>
The term <code>sequence-join</code> gets nods of approval as an alternative to <code>join</code>.
</p>

<ul class="org-ul">
<li>JLO: Isn’t <code>sequence-join</code> just the same as a <code>,</code>-operator? It would break my
expectation to add separators.</li>
<li>WP: I agree <code>sequence-join</code> is better than the alternatives. I think
<code>intersperse</code> is interesting, but maybe harder to describe. I don’t think we can change
<code>fn:string-join</code>. But renaming <code>join</code> is probably the best balance.</li>
<li>DN: I support what WP says. I think the word “build” might be a better alternative to join.
<ul class="org-ul">
<li>… Just “join” doesn’t have any connotation of a separator. It would be nice
to reduce the number of functions.</li>
</ul></li>
</ul>

<p>
CG will revise the PR.
</p>

<ul class="org-ul">
<li>JLO: For the sake of discoverability and consistency, why don’t we have a two
item function that does something for array with a different name. Maybe the
new thing could be for sequences and arrays.</li>
</ul>
</div>
</div>


<div id="outline-container-pr-1501" class="outline-3">
<h3 id="pr-1501"><span class="section-number-3">2.4.</span> PR #1501: 1318 Function Coercion: Records, Maps, Arrays</h3>
<div class="outline-text-3" id="text-pr-1501">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1501">#1501</a>
</p>

<ul class="org-ul">
<li>CG: The current coercion rules have become fairly complex. The coercion rules
allow you to convert an input to all kinds of different outputs. Most
recently, rules were added for records. This allows you to coerce a map to a
record.
<ul class="org-ul">
<li>… I’m not sure it makes sense to put everything in the coercion rules, but
MK convinced me that it is good if it’s all in one place.</li>
<li>… But we don’t have coercion rules for arrays.</li>
</ul></li>
</ul>

<p>
CG refers to the comments in <a href="https://github.com/qt4cg/qtspecs/issues/1318">#1318</a>.
</p>

<ul class="org-ul">
<li>CG: I added rules for maps and arrays.</li>
</ul>

<p>
CG reviews the new rules.
</p>

<ul class="org-ul">
<li>MK: I’m slighly concerned about converting the map keys because it can make
the keys duplicate and invalidate the map.</li>
<li>CG: Yes, I haven’t covered that.</li>
<li>MK: I’m concerned about performance, but I’m aware that isn’t very logical. We
have to consider all the members of a sequence, but this is clearly a similar case.</li>
</ul>

<p>
ACTION: QT4CG-095-03: CG to consider what to do about coercion causing keys to become duplicates in #1501.
</p>

<ul class="org-ul">
<li>JWL: Maps are degenerate functions. So in function coercion, you have to
invert the sense on the argument. Is that true of map keys?</li>
<li>CG: I don’t think we need to do that for the keys.</li>
<li>JWL: It’s a question about “subsumed by” going the other way around on the arguments.
<ul class="org-ul">
<li>… Am I confusing function signature mapping and coercion?</li>
</ul></li>
<li>MK: I see where you’re getting to, but I don’t think it applies.</li>
<li>JLO: I like this a lot. I do not have performance concerns yet. I have a
slightly off-topic question. What’s the difference between <code>xs:int</code> instead of
<code>xs:integer</code>.</li>
<li>CG: You can use <code>xs:integer</code> if you want to restrict the size.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-any-other-business" class="outline-2">
<h2 id="any-other-business"><span class="section-number-2">3.</span> Any other business</h2>
<div class="outline-text-2" id="text-any-other-business">
<ul class="org-ul">
<li>NW: It didn’t make it onto the agenda, but I’d like to merge #1521, the editorial change
to the ToC in Functions and operators. Any objection?</li>
</ul>

<p>
None heard, merge the PR.
</p>

<p>
Some discussion about the fact that it only applies to F&amp;O at the moment. We’ll need
to add change markup to the other specifications.
</p>
</div>
</div>

<div id="outline-container-adjourned" class="outline-2">
<h2 id="adjourned"><span class="section-number-2">4.</span> Adjourned</h2>
<div class="outline-text-2" id="text-adjourned">
</div>
</div>
</div>
</body>
</html>
