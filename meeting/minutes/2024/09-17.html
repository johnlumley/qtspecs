<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QT4 CG Meeting 090 Minutes 2024-09-17</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/meeting/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/style.css"/>
<link rel="shortcut icon" href="/img/QT4-64.png" />
<link rel="apple-touch-icon" sizes="64x64" href="/img/QT4-64.png" type="image/png" />
<link rel="apple-touch-icon" sizes="76x76" href="/img/QT4-76.png" type="image/png" />
<link rel="apple-touch-icon" sizes="120x120" href="/img/QT4-120.png" type="image/png" />
<link rel="apple-touch-icon" sizes="152x152" href="/img/QT4-152.png" type="image/png" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">QT4 CG Meeting 090 Minutes 2024-09-17</h1>
<p>
<a href="../">Meeting index</a> / <a href="https://qt4cg.org">QT4CG.org</a> / <a href="https://qt4cg.org/dashboard">Dashboard</a> / <a href="https://github.com/qt4cg/qtspecs/issues">GH Issues</a> / <a href="https://github.com/qt4cg/qtspecs/pulls">GH Pull Requests</a>
</p>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#minutes">Minutes</a></li>
<li><a href="#new-actions">Summary of new and continuing actions <code>[0/7]</code></a></li>
<li><a href="#administrivia">1. Administrivia</a>
<ul>
<li><a href="#roll-call">1.1. Roll call <code>[11/12]</code></a></li>
<li><a href="#agenda">1.2. Accept the agenda</a>
<ul>
<li><a href="#so-far">1.2.1. Status so far…</a></li>
</ul>
</li>
<li><a href="#approve-minutes">1.3. Approve minutes of the previous meeting</a></li>
<li><a href="#next-meeting">1.4. Next meeting</a></li>
<li><a href="#open-actions">1.5. Review of open action items <code>[2/8]</code></a></li>
<li><a href="#open-pull-requests">1.6. Review of open pull requests and issues</a>
<ul>
<li><a href="#blocked">1.6.1. Blocked</a></li>
<li><a href="#merge-without-discussion">1.6.2. Merge without discussion</a></li>
<li><a href="#close-without-action">1.6.3. Close without action</a></li>
<li><a href="#substantive">1.6.4. Substantive PRs</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#technical-agenda">2. Technical agenda</a>
<ul>
<li><a href="#pr-1364">2.1. PR #1364: Change to type() syntax to fix ambiguity</a></li>
<li><a href="#pr-1283">2.2. PR #1283: 77b: Update expressions</a></li>
<li><a href="#pr-1429">2.3. PR #1429: Align type tests</a></li>
<li><a href="#pr-1430">2.4. PR #1430: 1427 Add element-number function</a></li>
<li><a href="#pr-1432">2.5. PR #1432: 1379 Initializing expression: Allow self references</a></li>
<li><a href="#pr-1431">2.6. PR #1431: 1372 Unknown option: FORG0013 → XPTY0004</a></li>
</ul>
</li>
<li><a href="#any-other-business">3. Any other business</a></li>
<li><a href="#adjourned">4. Adjourned</a></li>
</ul>
</div>
</div>

<div id="outline-container-minutes" class="outline-2">
<h2 id="minutes">Minutes</h2>
<div class="outline-text-2" id="text-minutes">
<p>
Approved <a href="../2024/09-24.html">at meeting 091</a> on 24 September 2024.
</p>
</div>
</div>

<div id="outline-container-new-actions" class="outline-2">
<h2 id="new-actions">Summary of new and continuing actions <code>[0/7]</code></h2>
<div class="outline-text-2" id="text-new-actions">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-080-07: NW to update the build instructions in the README</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-082-02: DN to work with MK to come to agreement on the fn:ranks proposal</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-088-01: NW to consider how best to add a dedication to MSM.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-088-03: MK to add an example of duplicate function-annotations being returned.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-088-04: [Someone] needs to update the processing model diagram needs vis-a-vis the static typing feature</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-089-01: CG to draft a PR that attempts to resolve the operators described in #755 to a smaller number of orthogonal choices.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-090-01: MK to add an example of <code>fn:element-number</code> that does multi-part numbering</li>
</ul>
</div>
</div>

<div id="outline-container-administrivia" class="outline-2">
<h2 id="administrivia"><span class="section-number-2">1.</span> Administrivia</h2>
<div class="outline-text-2" id="text-administrivia">
</div>

<div id="outline-container-roll-call" class="outline-3">
<h3 id="roll-call"><span class="section-number-3">1.1.</span> Roll call <code>[11/12]</code></h3>
<div class="outline-text-3" id="text-roll-call">
<p>
Wendell gives regrets.
</p>

<ul class="org-ul">
<li class="on"><code>[X]</code> David J Birnbaum (DB)</li>
<li class="on"><code>[X]</code> Reece Dunn (RD) [:15-]</li>
<li class="on"><code>[X]</code> Sasha Firsov (SF)</li>
<li class="on"><code>[X]</code> Christian Grün (CG)</li>
<li class="on"><code>[X]</code> Joel Kalvesmaki (JK) [:05-]</li>
<li class="on"><code>[X]</code> Michael Kay (MK)</li>
<li class="on"><code>[X]</code> Juri Leino (JLO)</li>
<li class="on"><code>[X]</code> John Lumley (JWL)</li>
<li class="on"><code>[X]</code> Dimitre Novatchev (DN)</li>
<li class="off"><code>[&#xa0;]</code> Wendell Piez (WP)</li>
<li class="on"><code>[X]</code> Ed Porter (EP)</li>
<li class="on"><code>[X]</code> Norm Tovey-Walsh (NW). <i>Scribe</i>. <i>Chair</i>.</li>
</ul>
</div>
</div>

<div id="outline-container-agenda" class="outline-3">
<h3 id="agenda"><span class="section-number-3">1.2.</span> Accept the agenda</h3>
<div class="outline-text-3" id="text-agenda">
<p>
Proposal: Accept <a href="../../agenda/2024/09-17.html">the agenda</a>.
</p>

<p>
Accepted.
</p>
</div>

<div id="outline-container-so-far" class="outline-4">
<h4 id="so-far"><span class="section-number-4">1.2.1.</span> Status so far…</h4>
<div class="outline-text-4" id="text-so-far">
<p>
These charts have been adjusted so they reflect the preceding six months of work.
</p>


<div id="orgdec3c9b" class="figure">
<p><img src="./issues-open-2024-09-17.png" alt="issues-open-2024-09-17.png" />
</p>
<p><span class="figure-number">Figure 1: </span>“Burn down” chart on open issues</p>
</div>


<div id="orgf326c94" class="figure">
<p><img src="./issues-by-spec-2024-09-17.png" alt="issues-by-spec-2024-09-17.png" />
</p>
<p><span class="figure-number">Figure 2: </span>Open issues by specification</p>
</div>


<div id="org4faa187" class="figure">
<p><img src="./issues-by-type-2024-09-17.png" alt="issues-by-type-2024-09-17.png" />
</p>
<p><span class="figure-number">Figure 3: </span>Open issues by type</p>
</div>
</div>
</div>
</div>

<div id="outline-container-approve-minutes" class="outline-3">
<h3 id="approve-minutes"><span class="section-number-3">1.3.</span> Approve minutes of the previous meeting</h3>
<div class="outline-text-3" id="text-approve-minutes">
<p>
Proposal: Accept <a href="../../minutes/2024/09-10.html">the minutes of the previous meeting</a>.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-next-meeting" class="outline-3">
<h3 id="next-meeting"><span class="section-number-3">1.4.</span> Next meeting</h3>
<div class="outline-text-3" id="text-next-meeting">
<p>
This next meeting is planned for 24 September. Any regrets?
</p>

<p>
None heard.
</p>
</div>
</div>

<div id="outline-container-open-actions" class="outline-3">
<h3 id="open-actions"><span class="section-number-3">1.5.</span> Review of open action items <code>[2/8]</code></h3>
<div class="outline-text-3" id="text-open-actions">
<p>
(Items marked [X] are believed to have been closed via email before
this agenda was posted.)
</p>

<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> QT4CG-080-07: NW to update the build instructions in the README</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-082-02: DN to work with MK to come to agreement on the fn:ranks proposal</li>
<li class="on"><code>[X]</code> QT4CG-087-01: DN to update PR #1228 to reflect MK’s compromise and update the vulnerabilities</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-088-01: NW to consider how best to add a dedication to MSM.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-088-03: MK to add an example of duplicate function-annotations being returned.</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-088-04: [Someone] needs to update the processing model diagram needs vis-a-vis the static typing feature</li>
<li class="off"><code>[&#xa0;]</code> QT4CG-089-01: CG to draft a PR that attempts to resolve the operators described in #755 to a smaller number of orthogonal choices.</li>
<li class="on"><code>[X]</code> QT4CG-089-02: WP to provide a more complete citation for the CRC-32 algorithm.</li>
</ul>
</div>
</div>

<div id="outline-container-open-pull-requests" class="outline-3">
<h3 id="open-pull-requests"><span class="section-number-3">1.6.</span> Review of open pull requests and issues</h3>
<div class="outline-text-3" id="text-open-pull-requests">
</div>

<div id="outline-container-blocked" class="outline-4">
<h4 id="blocked"><span class="section-number-4">1.6.1.</span> Blocked</h4>
<div class="outline-text-4" id="text-blocked">
<p>
The following PRs are open but have merge conflicts or comments which
suggest they aren’t ready for action.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1355">#1355</a>: 1351 Add "declare record" in XQuery</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1296">#1296</a>: 982 Rewrite of scan-left and scan-right</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1227">#1227</a>: 150 PR resubmission for fn ranks</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1062">#1062</a>: 150bis revised proposal for fn:ranks</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-832">#832</a>: 77 Lookup returning path selection</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-529">#529</a>: 528 fn:elements-to-maps</li>
</ul>
</div>
</div>

<div id="outline-container-merge-without-discussion" class="outline-4">
<h4 id="merge-without-discussion"><span class="section-number-4">1.6.2.</span> Merge without discussion</h4>
<div class="outline-text-4" id="text-merge-without-discussion">
<p>
The following PRs are editorial, small, or otherwise appeared to be
uncontroversial when the agenda was prepared. The chairs propose that
these can be merged without discussion. If you think discussion is
necessary, please say so.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1444">#1444</a>: Implement improvement to bibligraphy entry for IEEE 802.3</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1414">#1414</a>: XSLT spec abstract, introduction</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1440">#1440</a>: 1387 Another tweak to build-uri</li>
</ul>

<p>
Proposed: merge without discussion.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-close-without-action" class="outline-4">
<h4 id="close-without-action"><span class="section-number-4">1.6.3.</span> Close without action</h4>
<div class="outline-text-4" id="text-close-without-action">
<p>
It has been proposed that the following issues be closed without action.
If you think discussion is necessary, please say so.
</p>

<ul class="org-ul">
<li>Issue <a href="https://github.com/qt4cg/qtspecs/issues/1389">#1389</a>: fn:while-do: Optional error: will not terminate</li>
</ul>

<p>
Proposed: close without further action.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-substantive" class="outline-4">
<h4 id="substantive"><span class="section-number-4">1.6.4.</span> Substantive PRs</h4>
<div class="outline-text-4" id="text-substantive">
<p>
The following substantive PRs were open when this agenda was prepared.
</p>

<ul class="org-ul">
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1440">#1440</a>: 1387 Another tweak to build-uri</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1439">#1439</a>: 1235 Function Identity: Treating function items with identical bodies</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1438">#1438</a>: 1322 fn:collation-available (editorial)</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1437">#1437</a>: 1325 Variadic System Functions limited to `fn:concat`</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1436">#1436</a>: 1323 Function parameters names: $href → $uri</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1435">#1435</a>: 1421 fn:unix-time: Revisions</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1434">#1434</a>: 1373 XQFO: Editorial</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1433">#1433</a>: 1422 fn:hash: Revision</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1432">#1432</a>: 1379 Initializing expression: Allow self references</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1431">#1431</a>: 1372 Unknown option: FORG0013 → XPTY0004</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1430">#1430</a>: 1427 Add element-number function</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1429">#1429</a>: 1403 Align type tests</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1364">#1364</a>: 1314 Change to type() syntax to fix ambiguity</li>
<li>PR <a href="https://qt4cg.org/dashboard/#pr-1283">#1283</a>: 77b Update expressions</li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-technical-agenda" class="outline-2">
<h2 id="technical-agenda"><span class="section-number-2">2.</span> Technical agenda</h2>
<div class="outline-text-2" id="text-technical-agenda">
</div>

<div id="outline-container-pr-1364" class="outline-3">
<h3 id="pr-1364"><span class="section-number-3">2.1.</span> PR #1364: Change to type() syntax to fix ambiguity</h3>
<div class="outline-text-3" id="text-pr-1364">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1364">#1364</a>
</p>

<ul class="org-ul">
<li>MK: Removed the feature and changed the examples because the feature
was initially ambiguous and my first proposed alternative was controversial.</li>
<li>JWL: Is this something we’re going to be able to fix?</li>
<li>MK: I’m hoping to come back to it. Using <code>instance of</code> is clumsy and
not always possible. (You can’t test a sequence type, for example.)</li>
<li>RD: Would a sequence-of construct work?</li>
<li>MK: I suggest we leave this until there’s a new proposal.</li>
<li>DN: What was the actual problem with type?</li>
<li>MK: You can’t have an NCName after a question mark because that’s a
reference to a name in the map.</li>
</ul>

<p>
RD and JWL attempt to  explain the ambiguity.
</p>

<p>
Proposed: Accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-pr-1283" class="outline-3">
<h3 id="pr-1283"><span class="section-number-3">2.2.</span> PR #1283: 77b: Update expressions</h3>
<div class="outline-text-3" id="text-pr-1283">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1283">#1283</a>
</p>

<ul class="org-ul">
<li>MK: I spent a fair bit of time on this today.</li>
</ul>

<p>
Still a work in progress. There’s a dependency on PR #832.
</p>
</div>
</div>

<div id="outline-container-pr-1429" class="outline-3">
<h3 id="pr-1429"><span class="section-number-3">2.3.</span> PR #1429: Align type tests</h3>
<div class="outline-text-3" id="text-pr-1429">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1429">#1429</a>
</p>

<ul class="org-ul">
<li>JLO: I just updated it now.</li>
</ul>

<p>
Some discussion of whether or not to wait for the diffs; JLO proposes
to show us his local copy.
</p>

<ul class="org-ul">
<li>JLO: This allows map and array tests to omit the <code>*</code>. 
<ul class="org-ul">
<li>… I’ve added <code>AnyMapTest</code> and some examples.</li>
<li>… And I did the same thing for <code>AnyArrayTest</code>.</li>
</ul></li>
<li>DN: Thank you. I’m not sure I understand what is the difference. Why allow both <code>(*)</code> and <code>()</code>?
Do they generate different things?</li>
<li>JLO: For element tests, you can now have <code>*</code>, so this aligns with the other element tests.</li>
<li>DN: Can’t we have this addition only for the element tests?
<ul class="org-ul">
<li>… I think this introduces unnecessary redundancy.</li>
</ul></li>
<li>CG: How do you feel about the element test that allows both variants?</li>
<li>MK: I think XPath 3.x already allowed the <code>*</code>.</li>
<li>JLO: No, that’s new in 4.</li>
<li>RD: That’s because it’s now a name test; previously they only allowed NCName* or *NCName.
They didn’t allow a full name test. That’s now been relaxed, and therefore <code>*</code> is allowed.</li>
</ul>

<p>
On further inspection, it <b>was</b> a feature in XPath 3.x.
</p>

<ul class="org-ul">
<li>MK: We have two equivalent syntaxes for <code>element</code>; what we’re
proposing is the same redundancy in <code>map</code> and <code>array</code>.</li>
<li>DN: I think I made it clear, I’m against this.</li>
<li>CG: Editorially, there was an <code>instance array</code> typo the <code>of</code> is missing.</li>
<li>JLO: It would be nice to have <code>AnyElementTest</code> as a separate token in the grammar.</li>
</ul>

<p>
JLO will clean up the typos and we’ll come back to it next week.
</p>
</div>
</div>

<div id="outline-container-pr-1430" class="outline-3">
<h3 id="pr-1430"><span class="section-number-3">2.4.</span> PR #1430: 1427 Add element-number function</h3>
<div class="outline-text-3" id="text-pr-1430">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1430">#1430</a>.
</p>

<ul class="org-ul">
<li>MK: This is a proposal to add a subset of the <code>xsl:number</code>
functionality as a function so that it’s available in the XPath
context.</li>
</ul>

<p>
MK reviews the proposal in the PR.
</p>

<ul class="org-ul">
<li>MK: The default is now the equivalent of “level=any” in XSLT. The
default is to count all the elements with the same element name.
<ul class="org-ul">
<li>… One benefit is that it’ll be possible to optimize better than
the equivalent XPath expressions.</li>
</ul></li>
<li>JWL: Can the default function be written in XPath?</li>
<li>MK: You can’t write a function that accesses the value of another
argument, that’s the limitation.</li>
<li>JWL: It might be worth adding the pseudo-function.</li>
<li>CG: I tried to find use cases for the function, but I wasn’t able
to. The examples just return numbers.</li>
<li>MK: A fully worked example that does multi-part section number seems
a little out of scope, but a more robust example would be good.</li>
</ul>

<p>
ACTION QT4CG-090-01: MK to add an example that does multi-part numbering
</p>

<p>
Some discussion of the parameter names. They’re based on XSLT now, but
<code>within</code> and <code>predicate</code> might be better in this context.
</p>

<ul class="org-ul">
<li>CG: Perhaps name the function <code>element-index</code> instead of <code>element-number</code>?</li>
<li>MK: Well, <code>element-number</code> gives it some relationship to XSLT and it
is numbering. In a document context, “indexing” is something quite
different.</li>
<li>JK: I like this a lot. There are a lot of places where I would have used this.
<ul class="org-ul">
<li>… In the signature for the second and third parameters is <code>()</code>, that should be filled out, shouldn’t it?</li>
</ul></li>
<li>MK: No, they’re the empty sequence because the default depends on
knowing the first argument. This is a semantic default.</li>
<li>JK: I wonder if we could add notes to express that more explicitly.</li>
<li>MK: You are supplying an empty sequence, so that’s what you’d get.</li>
<li>JK: Can’t this be extended to comments, PIs, etc.? Couldn’t this be node-number?</li>
<li>MK: I’m haunted there by the experience of writing hundreds of tests
for numbering namespace nodes. I’ve never used <code>xsl:number</code> for anything except elements, but there
are hundreds of lines of code in Saxon for dealing with the cases that never occur.</li>
<li>JK: I have a use case right now where I would really benefit from
being able to number processing instructions.</li>
<li>DN: I fully agree with CG. This function seems much more needed to
XSLT users. XPath and XQuery users need to see better use cases for it. In the context of
querying, it seems like this doesn’t have a very big potential use.
<ul class="org-ul">
<li>… Perhaps this should be an XSLT-only function?</li>
</ul></li>
<li>MK: That’s an interesting point. While we have a feel for what
different user communities are doing, I certainly know of users who
use XQuery for things that are quite document-like. They have strong
elements of both query and output. I’d be reluctant to say XQuery
users don’t need this.</li>
<li>SF: In the UI, I often need to compare XSLT and XPath. Those need to match, we cannot extract
XSLT something that’s independent but still overlapping. (Scribe is confused.)
<ul class="org-ul">
<li>… The use case is items inside of XSLT, numbering articles. The
actions for what happens on the page are in XPath. They have to
use XPath for the selections for the already generated content.
The rules inside XSLT and XPath ideally should match.</li>
</ul></li>
<li>MK: Yes, I think I see. There are probably use cases in XForms and perhaps even in XSD.</li>
<li>CG: I’d like to add that I can very well imagine that there are
XQuery use-cases, I just didn’t immediately see how.</li>
</ul>

<p>
Some discussion of the syntax of the <code>$count</code> parameter. Needs fixing.
</p>

<ul class="org-ul">
<li>RD: There will be use cases for this in XQuery. Different vendors
focus on manipulating documents with XQuery. Having this
functionality from XSLT available in XQuery would be useful.</li>
<li>JLO: I’m wondering why the return type is not <code>xs:boolean</code>. Why is it <code>xs:boolean?</code></li>
<li>MK: All our predicate functions can return <code>()</code> as <code>false()</code>.</li>
<li>DN: We need to note that this proposal originated from XSLT content.
If this function is included in XPath, I’d like to have very good use cases.</li>
</ul>

<p>
MK will revise for next week.
</p>
</div>
</div>

<div id="outline-container-pr-1432" class="outline-3">
<h3 id="pr-1432"><span class="section-number-3">2.5.</span> PR #1432: 1379 Initializing expression: Allow self references</h3>
<div class="outline-text-3" id="text-pr-1432">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1432">#1432</a>.
</p>

<p>
CG begins by looking at the examples in the PR discussion.
</p>

<ul class="org-ul">
<li>CG: The constraint has been relaxed since 1.0. It has gone from
being a static error to a runtime error.
<ul class="org-ul">
<li>… My impression is that there’s no real reason to disallow this.
You can already do it with functions.</li>
<li>… My PR removes the restriction.</li>
</ul></li>
<li>JWL: Could this get really complicated with a map that has recursive
invocations in the map?</li>
<li>CG: I think that can happen, you would just get a stack overflow.</li>
<li>JWL: You’re really on your own if you do this.</li>
<li>MK: We do currently allow two variables to mutually refer to each
other. It’s just a dynamic error if you can’t avoid a loop.</li>
</ul>

<p>
Some discussion of circularities. Self-circularity just becomes a special case.
</p>

<ul class="org-ul">
<li>RD: I was wondering the same thing. Was this introduced to provent
circularities? But you do end up with circular references across
variables. I’m happy for this to fall under that umbrella.</li>
<li>MK: I think it was historic, there was a static rule about circular
dependencies between variables but we forgot about the
self-dependency.</li>
<li>CG: Things have changed a lot since 1.0.</li>
<li>DN: I fully support the concern raised by JWL. This would make it
very easy to make mistakes and introduce circular references in
initialization. I don’t think this is a good design. It’s proposed
for XQuery only, so maybe I shouldn’t care so much. But it looks
like it could make programmer’s lives more difficult.</li>
<li>CG: It’s exactly the same for recursive functions. A tail-optimized
recursive function can just be an infinite loop.</li>
<li>DN: Yes, but it’s a good design principle to make dangerous things
difficult to express.</li>
<li>JLO: Just as a reaction, this will make my life as an XQuery
programmer easier. I fully support it.</li>
</ul>

<p>
Proposed: accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>

<div id="outline-container-pr-1431" class="outline-3">
<h3 id="pr-1431"><span class="section-number-3">2.6.</span> PR #1431: 1372 Unknown option: FORG0013 → XPTY0004</h3>
<div class="outline-text-3" id="text-pr-1431">
<p>
See PR <a href="https://qt4cg.org/dashboard/#pr-1431">#1431</a>.
</p>

<ul class="org-ul">
<li>CG: It’s just a different error code.</li>
<li>JLO: I think this deserves an error code of its own.</li>
<li>CG: I think in the future we may use records anyway and that would
result in this code anyway because it would be in coercion rules.
<ul class="org-ul">
<li>… Pragmatically, this is also how our implementation works.</li>
<li>… This is a really special case that doesn’t seem justified.</li>
</ul></li>
<li>DN: Not directly to this proposal, but the current naming of errors
is opaque to me.</li>
</ul>

<p>
Some discussion of the names.
</p>

<p>
Proposed: accept this PR.
</p>

<p>
Accepted.
</p>
</div>
</div>
</div>

<div id="outline-container-any-other-business" class="outline-2">
<h2 id="any-other-business"><span class="section-number-2">3.</span> Any other business</h2>
<div class="outline-text-2" id="text-any-other-business">
<ul class="org-ul">
<li>None heard</li>
</ul>
</div>
</div>

<div id="outline-container-adjourned" class="outline-2">
<h2 id="adjourned"><span class="section-number-2">4.</span> Adjourned</h2>
<div class="outline-text-2" id="text-adjourned">
</div>
</div>
</div>
</body>
</html>
