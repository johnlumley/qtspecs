<item>
   <title>Issue #1514 created</title>
   <pubDate>2024-10-19T04:54:18Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/1514</link>
   <guid>https://qt4cg.org/@qt4cg/2024/#created-1514</guid>
   <description>&lt;div&gt;&lt;p&gt;Editorial: optional position argument in function signature for for-each and other HOF &lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;The change in 4.0 for the higher order function &lt;code&gt;for-each&lt;/code&gt; is that "&lt;em&gt;the $action callback function accepts an &lt;strong&gt;optional&lt;/strong&gt; position argument&lt;/em&gt;".  But the function signature is&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;fn:for-each(
  $input as item()*, 	
  $action as fn(item(), xs:integer) as item()* 	
) as item()*
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I read &lt;code&gt;$action as fn(item(), xs:integer) as item()* &lt;/code&gt; as a function with two &lt;strong&gt;mandatory&lt;/strong&gt; parameters &lt;code&gt;item()&lt;/code&gt; and &lt;code&gt;xs:integer&lt;/code&gt;. Since the second (position) argument should be optional, i would expect:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;fn:for-each(
  $input as item()*, 	
  $action as fn(item(), xs:integer?) as item()* 	
) as item()*
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;There are several HOFs with this new &lt;strong&gt;optional&lt;/strong&gt; position argument which seems to be &lt;strong&gt;mandatory&lt;/strong&gt; in the function signature.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
