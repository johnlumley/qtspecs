<item>
   <title>Pull request #1409 created</title>
   <pubDate>2024-08-29T11:32:32Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/pull/1409</link>
   <guid>https://qt4cg.org/@qt4cg/2024/#created-1409</guid>
   <description>&lt;div&gt;&lt;p&gt;1401 Rewrite of F+O section 20, Casting&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;Fix #1401&lt;/p&gt;
&lt;p&gt;The main changes are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The three derived types xs:integer, xs:dayTimeDuration, and xs:yearMonthDuration are no longer treated as primitive for the purpose of this section. They are now treated as derived types, but given special status where necessary as "quasi-primitive".&lt;/li&gt;
&lt;li&gt;In places where the F+O rules give the same result as the canonical representation in XSD 1.1, we now defer to XSD 1.1 rather than replicating the rules. Many of the rules originate with XPath 2.0, which was published before XSD 1.1, but which anticipated some of the changes in XSD 1.1, for example the use of a seven-component model for dates/times, and a two-component model for durations. XPath 3.0/3.1 failed to take advantage of the resulting opportunity for rationalisation.&lt;/li&gt;
&lt;li&gt;Generally the language is a bit less terse, with more notes and examples&lt;/li&gt;
&lt;li&gt;The rules have more to say about the type annotation of the result. In some places the spec appeared to imply that the type annotation on the result must be the target type; in others it appeared to imply that the type annotation must be unchanged from the source (for example 19.1.1 "If ST is xs:string or a type derived from xs:string, TV is SV. [presumably with unchanged type annotation]). The spec is now hopefully clearer that the result TV MUST be an instance of TT and MAY be an instance of some other type derived from TT, especially in the case where the value is unchanged.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
