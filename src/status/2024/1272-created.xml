<item>
   <title>Issue #1272 created</title>
   <pubDate>2024-06-12T08:27:36Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/1272</link>
   <guid>https://qt4cg.org/@qt4cg/2024/#created-1272</guid>
   <description>&lt;div&gt;&lt;p&gt;Add xsl:value-of/@as attribute&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;It has been suggested that we should add an @as attribute to xsl:value-of.&lt;/p&gt;
&lt;p&gt;The intent is to use this when returning a function result:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;xsl:function name="f:incr"&amp;gt;
  &amp;lt;xsl:param name="x" as="xs:integer"/&amp;gt;
  &amp;lt;xsl:value-of select="$x+1" as="xs:integer"/&amp;gt;
&amp;lt;/xsl:function&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In the absense of the @as attribute, the instruction constructs a text node as now. If @as is added, the effect of the instruction is to evaluate the select expression and coerce the result to the specified type.&lt;/p&gt;
&lt;p&gt;There are a number of questions of detail. What do we do about the @separator and @disable-output-escaping attributes? Do we allow &lt;code&gt;as="text()"&lt;/code&gt; so that there is an explicit way of getting the default behavior?&lt;/p&gt;
&lt;p&gt;More generally, will this actually make users' lives easier? It might read better than &lt;code&gt;xsl:sequence&lt;/code&gt; in this situation, but it isn't any more discoverable. Users who write code by copy-and-paste will still write xsl:value-of without realising the significance of the @as attribute.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
