<item>
   <title>Issue #1487 created</title>
   <pubDate>2024-10-09T10:58:08Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/1487</link>
   <guid>https://qt4cg.org/@qt4cg/2024/#created-1487</guid>
   <description>&lt;div&gt;&lt;p&gt;xsl:array - don't allow content to be supplied in array form&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;We reviewed and accepted a revised specification for xsl:array, but there was some unease about one of the options: specifically the ability to supply the content in the form of a sequence of arrays, which is then converted to an array of sequences.&lt;/p&gt;
&lt;p&gt;Further work on implementation and on writing test cases inclines me to drop this option. There are several reasons:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;It is error-prone. When constructing nested arrays, there is a tendency to use &lt;code&gt;xsl:array/xsl:array&lt;/code&gt; rather than &lt;code&gt;xsl:array/xsl:array-member/xsl:array&lt;/code&gt;, and rather than leading to an error, this leads to incorrect results which can be hard to diagnose.&lt;/li&gt;
&lt;li&gt;The specification relies on converting an array to a sequence using &lt;code&gt;$array?*&lt;/code&gt;, but this is lossy, for example the array &lt;code&gt;[(1,2),3]&lt;/code&gt; is converted to the sequence &lt;code&gt;(1,2,3)&lt;/code&gt;. This provides a further source of potential confusion when users get it wrong.&lt;/li&gt;
&lt;li&gt;Use of &lt;code&gt;xsl:array-member&lt;/code&gt; seems to handle all the requirements and result in more readable code, and it's best to focus on providing a smaller number of different ways of achieving the same effect.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The proposal is to drop option 2(e) of section 22.1.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
