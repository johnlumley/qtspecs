<item>
   <title>Pull request #1355 created</title>
   <pubDate>2024-07-31T16:41:53Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/pull/1355</link>
   <guid>https://qt4cg.org/@qt4cg/2024/#created-1355</guid>
   <description>&lt;div&gt;&lt;p&gt;1351 Add "declare record" in XQuery&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;This PR does the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Renames MapTest, ArrayTest, RecordTest, FunctionTest to MapType, etc (suggested in #1351 and elsewhere)&lt;/li&gt;
&lt;li&gt;Changes the XQuery item type declaration syntax to "declare type NNNN" rather than "declare item type" or "declare item-type", and fixes examples accordingly (also in #1351)&lt;/li&gt;
&lt;li&gt;Provides a separate syntax for declaring record types (as proposed in issue #1277). This declaration creates both a named item type and a constructor function for items of that type, with provision for default values. Only this kind of record type can be recursive.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I haven't yet taken on board the suggestion of changing the data model so that records are maps with a type annotation. I'm not totally opposed to the idea, but it's a significant change that needs more exploration, in particular the impact on all the map-related functions.&lt;/p&gt;
&lt;p&gt;Fix #1351
Fix #1277&lt;/p&gt;
&lt;p&gt;Follow-up work is needed to make equivalent changes for XSLT.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
