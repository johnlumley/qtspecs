<item>
   <title>Issue #1403 created</title>
   <pubDate>2024-08-27T15:51:46Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/1403</link>
   <guid>https://qt4cg.org/@qt4cg/2024/#created-1403</guid>
   <description>&lt;div&gt;&lt;p&gt;Align AnyMapTest, AnyArrayTest and with ElementTest&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;I always wondered why ElementTests for &lt;em&gt;any element&lt;/em&gt; can be written as &lt;code&gt;element()&lt;/code&gt; which is equivalent to &lt;code&gt;element(*)&lt;/code&gt; but &lt;code&gt;as map()&lt;/code&gt; and &lt;code&gt;as array()&lt;/code&gt; are not permitted and always have to include the asterisk (&lt;code&gt;map(*)&lt;/code&gt;) .&lt;/p&gt;
&lt;p&gt;This is still the case even in XPath4 and I think we should have a look, if this can be omitted.
It does not add any value IMHO, but maybe I am overlooking something important.&lt;/p&gt;
&lt;p&gt;https://qt4cg.org/specifications/xquery-40/xquery-40.html#doc-xquery40-ElementTest
https://qt4cg.org/specifications/xquery-40/xquery-40.html#doc-xquery40-ArrayTest
https://qt4cg.org/specifications/xquery-40/xquery-40.html#doc-xquery40-MapTest&lt;/p&gt;
&lt;p&gt;The "fix" would be as simple as&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[255]   AnyMapTest   ::=  "map" "(" "*"? ")"
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[265]   AnyArrayTest ::=  "array" "(" "*"? ")"
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;-- update after comment from @michaelhkay --&lt;/p&gt;
&lt;p&gt;The same does &lt;em&gt;not apply&lt;/em&gt; to FunctionTest as &lt;code&gt;as function()&lt;/code&gt; specifies a zero-arity function wheras &lt;code&gt;as function(*)&lt;/code&gt; matches functions of any arity.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
