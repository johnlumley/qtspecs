<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="minutes-10-29"><h2>QT4 CG meeting 096 draft minutes<span class="toot-id"> #minutes-10-29</span></h2><div class="pubdate">29 Oct at 16:30:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2024/10-29">https://qt4cg.org/meeting/minutes/2024/10-29</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-1366"><h2>Issue #1366 closed<span class="toot-id"> #closed-1366</span></h2><div class="pubdate">29 Oct at 17:29:28 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1366">https://github.com/qt4cg/qtspecs/issues/1366</a></div><p>In the EBNF, use explicit separator syntax</p></div>
<div class="toot" id="closed-1498"><h2>Issue #1498 closed<span class="toot-id"> #closed-1498</span></h2><div class="pubdate">29 Oct at 17:29:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1498">https://github.com/qt4cg/qtspecs/pull/1498</a></div><p>1366 Use ++ and ** operators in EBNF</p></div>
<div class="toot" id="closed-868"><h2>Issue #868 closed<span class="toot-id"> #closed-868</span></h2><div class="pubdate">29 Oct at 17:27:20 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/868">https://github.com/qt4cg/qtspecs/issues/868</a></div><p>fn:intersperse → fn:join, array:join($arrays, $separator)</p></div>
<div class="toot" id="closed-1504"><h2>Issue #1504 closed<span class="toot-id"> #closed-1504</span></h2><div class="pubdate">29 Oct at 17:27:19 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1504">https://github.com/qt4cg/qtspecs/pull/1504</a></div><p>868 fn:intersperse → fn:join, array:join($arrays, $separator)</p></div>
<div class="toot" id="closed-1318"><h2>Issue #1318 closed<span class="toot-id"> #closed-1318</span></h2><div class="pubdate">29 Oct at 17:24:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1318">https://github.com/qt4cg/qtspecs/issues/1318</a></div><p>Function Coercion: Records, Maps, Arrays</p></div>
<div class="toot" id="closed-1501"><h2>Issue #1501 closed<span class="toot-id"> #closed-1501</span></h2><div class="pubdate">29 Oct at 17:24:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1501">https://github.com/qt4cg/qtspecs/pull/1501</a></div><p>1318 Function Coercion: Records, Maps, Arrays</p></div>
<div class="toot" id="closed-1495"><h2>Issue #1495 closed<span class="toot-id"> #closed-1495</span></h2><div class="pubdate">29 Oct at 17:21:12 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1495">https://github.com/qt4cg/qtspecs/issues/1495</a></div><p>Drop "context value static type"</p></div>
<div class="toot" id="closed-1496"><h2>Issue #1496 closed<span class="toot-id"> #closed-1496</span></h2><div class="pubdate">29 Oct at 17:21:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1496">https://github.com/qt4cg/qtspecs/pull/1496</a></div><p>1495 Drop context value static type</p></div>
<div class="toot" id="closed-1519"><h2>Issue #1519 closed<span class="toot-id"> #closed-1519</span></h2><div class="pubdate">29 Oct at 17:17:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1519">https://github.com/qt4cg/qtspecs/issues/1519</a></div><p>Add `-or-self` variants of all relevant axes</p></div>
<div class="toot" id="closed-1532"><h2>Issue #1532 closed<span class="toot-id"> #closed-1532</span></h2><div class="pubdate">29 Oct at 17:17:53 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1532">https://github.com/qt4cg/qtspecs/pull/1532</a></div><p>1519 Add -or-self axes</p></div>
<div class="toot" id="closed-1525"><h2>Issue #1525 closed<span class="toot-id"> #closed-1525</span></h2><div class="pubdate">29 Oct at 17:14:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1525">https://github.com/qt4cg/qtspecs/issues/1525</a></div><p>Add more explanation on enumeration types</p></div>
<div class="toot" id="closed-1529"><h2>Issue #1529 closed<span class="toot-id"> #closed-1529</span></h2><div class="pubdate">29 Oct at 17:14:49 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1529">https://github.com/qt4cg/qtspecs/pull/1529</a></div><p>1525 Add notes on enumeration types</p></div>
<div class="toot" id="closed-1499"><h2>Issue #1499 closed<span class="toot-id"> #closed-1499</span></h2><div class="pubdate">29 Oct at 17:12:49 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1499">https://github.com/qt4cg/qtspecs/issues/1499</a></div><p>Editorial: reduce noise in serialization spec for unused options</p></div>
<div class="toot" id="closed-1531"><h2>Issue #1531 closed<span class="toot-id"> #closed-1531</span></h2><div class="pubdate">29 Oct at 17:12:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1531">https://github.com/qt4cg/qtspecs/pull/1531</a></div><p>1499 Deduplicate text relating to unused serialization parameters</p></div>
<div class="toot" id="closed-1533"><h2>Issue #1533 closed<span class="toot-id"> #closed-1533</span></h2><div class="pubdate">29 Oct at 17:08:56 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1533">https://github.com/qt4cg/qtspecs/pull/1533</a></div><p>Actions QT4CG-095-01 and -02 - follow-up on computed node constructors</p></div>
<div class="toot" id="created-1538"><h2>Issue #1538 created<span class="toot-id"> #created-1538</span></h2><div class="pubdate">29 Oct at 15:50:20 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1538">https://github.com/qt4cg/qtspecs/issues/1538</a></div><details><summary>Add XSLT support for the new json-lines serialization option</summary><div class="markup"><p>Add XSLT support for the new json-lines serialization option (PR #1497)</p>
</div></details></div>
<div class="toot" id="created-1537"><h2>Issue #1537 created<span class="toot-id"> #created-1537</span></h2><div class="pubdate">29 Oct at 11:07:20 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1537">https://github.com/qt4cg/qtspecs/issues/1537</a></div><details><summary>XSLT: local functions within an enclosing xsl:mode</summary><div class="markup"><p>I recently wrote a multi-phase transformation and tried out the new "enclosing modes" feature where the template rules for a mode are enclosed within the <code>xsl:mode</code> element. Worked very well, and really helps to give the stylesheet a more modular structure. But I found myself wanting to write "helper" functions within the <code>xsl:mode</code> definition.</p>
<p>I don't think it would too difficult to add this feature. I imagine that such functions would be scoped to the enclosing xsl:mode, and would automatically have higher import precedence than anything outside the mode. There are probably a few complications e.g. if the arity range overlaps a function with the same name declared outside the enclosed mode, but I would think it's manageable.</p>
</div></details></div>
<div class="toot" id="created-1536"><h2>Issue #1536 created<span class="toot-id"> #created-1536</span></h2><div class="pubdate">29 Oct at 04:03:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1536">https://github.com/qt4cg/qtspecs/issues/1536</a></div><details><summary>document-uri of xslt transformation primary output</summary><div class="markup"><p>When using XSLT transformations, it would be helpful in many cases to know the transformation target, that is the base-uri of the primary result document. This would allow, for example,</p>
<ul>
<li>to make the uri of secondary result documents relative to the primary base-uri to ensure that all output is in the same target directory</li>
<li>to copy media files from transformation source directory into transformation target directory</li>
<li>to generate a transformation report as secondary output, which informs and links to the primary result document</li>
</ul>
<p>I am pretty sure that there are situations where the URI of the primary result document is undefined or unknown. The XPath function <code>fn:document-uri</code> is decribed as "Returns the URI of a resource where a document can be found, if available.". So maybe we could have a new function <code>fn:primary-result-document-uri</code> as "Returns the URI of the primary result document, if available.".</p>
</div></details></div>
<div class="toot" id="created-1535"><h2>Pull request #1535 created<span class="toot-id"> #created-1535</span></h2><div class="pubdate">28 Oct at 18:37:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1535">https://github.com/qt4cg/qtspecs/pull/1535</a></div><details><summary>1478 Drop variadic functions</summary><div class="markup"><p>Fix #1478
Fix #1325</p>
<p>This PR drops variadic functions, reverting to the situation in previous versions where concat was in a special category of its own.</p>
<p>We decided (see the referenced issues) not to introduce further variadic system functions, mainly in the interests of extensibility, and the same argument apply to user-defined functions.</p>
<p>It is not a great hardship to write <code>f((x, y, z))</code> rather than <code>f(x, y, z)</code> and dropping the feature therefore removes a fair bit of complexity that has proved to be of rather limited value.</p>
</div></details></div>
<div class="toot" id="agenda-10-29"><h2>QT4 CG meeting 096 draft agenda<span class="toot-id"> #agenda-10-29</span></h2><div class="pubdate">28 Oct at 10:45:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2024/10-29">https://qt4cg.org/meeting/agenda/2024/10-29</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-1534"><h2>Issue #1534 created<span class="toot-id"> #created-1534</span></h2><div class="pubdate">28 Oct at 10:03:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1534">https://github.com/qt4cg/qtspecs/issues/1534</a></div><details><summary>Allow xsl:result-document/@select</summary><div class="markup"><p>Nearly all XSLT instructions that accept a sequence constructor also allow the input to be supplied using a select expression.</p>
<p><code>xsl:result-document</code> is an exception.</p>
<p>A particular use case for this is with a multi-phase transformation where you want to capture the result of the first phase of processing in a variable, and then output it before further processing, perhaps for diagnostics or perhaps because the processing pipeline branches.</p>
</div></details></div>
<div class="toot" id="created-1533"><h2>Pull request #1533 created<span class="toot-id"> #created-1533</span></h2><div class="pubdate">27 Oct at 19:42:22 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1533">https://github.com/qt4cg/qtspecs/pull/1533</a></div><details><summary>Actions QT4CG-095-01 and -02 - follow-up on computed node constructors</summary><div class="markup"><ol>
<li>Adds advice and guidance on avoiding reserved words</li>
<li>Drops XQuery-specific material from the XPath spec</li>
<li>Adds a paragraph to the incompatibilities appendix</li>
</ol>
</div></details></div>
<div class="toot" id="created-1532"><h2>Pull request #1532 created<span class="toot-id"> #created-1532</span></h2><div class="pubdate">25 Oct at 12:03:41 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1532">https://github.com/qt4cg/qtspecs/pull/1532</a></div><details><summary>1519 Add -or-self axes</summary><div class="markup"><p>Fix #1519</p>
</div></details></div>
<div class="toot" id="created-1531"><h2>Pull request #1531 created<span class="toot-id"> #created-1531</span></h2><div class="pubdate">25 Oct at 11:12:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1531">https://github.com/qt4cg/qtspecs/pull/1531</a></div><details><summary>1499 Deduplicate text relating to unused serialization parameters</summary><div class="markup"><p>Fix #1499</p>
</div></details></div>
<div class="toot" id="created-1530"><h2>Pull request #1530 created<span class="toot-id"> #created-1530</span></h2><div class="pubdate">25 Oct at 10:32:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1530">https://github.com/qt4cg/qtspecs/pull/1530</a></div><details><summary>1500 New XSLT character-map() function</summary><div class="markup"><p>Fix #1500</p>
</div></details></div>
<div class="toot" id="created-1529"><h2>Pull request #1529 created<span class="toot-id"> #created-1529</span></h2><div class="pubdate">25 Oct at 09:16:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1529">https://github.com/qt4cg/qtspecs/pull/1529</a></div><details><summary>1525 Add notes on enumeration types</summary><div class="markup"><p>Fix #1525</p>
</div></details></div>
<div class="toot" id="created-1528"><h2>Issue #1528 created<span class="toot-id"> #created-1528</span></h2><div class="pubdate">24 Oct at 07:25:30 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1528">https://github.com/qt4cg/qtspecs/issues/1528</a></div><details><summary>Computed node constructors: observations</summary><div class="markup"><p>Observations/conclusions from the exchange on <a href="https://xmlcom.slack.com/archives/C01GVC3JLHE/p1729683669891659">Slack</a> regarding computed node constructors:</p>
<ol>
<li>We should highlight the breaking change in the appendix: J.1 Incompatibilities relative to XQuery 3.1.</li>
<li>We should present a list of keywords which is ambiguous and exclude other ones (like e.g. <code>count</code> or <code>value</code>)</li>
<li>Maybe we should generally discourage users from using the legacy NCName syntax, and remove corresponding examples in the spec, as further versions of the language may lead to new incompatibilities.</li>
<li>Syntax errors in quoted element names were should already be detected at parse time, for example by using pseudo quotes:</li>
</ol>
<pre><code class="language-bash"># currently
CompNodeName    ::=  StringLiteral | UnreservedName | ("{" Expr "}")
CompNodeNCName  ::=  StringLiteral | UnreservedNCName | ("{" Expr "}")
# proposed
CompNodeName    ::=  UnreservedName | ('"' UnreservedName '"') | ("'" UnreservedName "'") | ("{" Expr "}")
CompNodeNCName  ::=  UnreservedNCName | ('"' UnreservedNCName '"') | ("'" UnreservedNCName "'") | ("{" Expr "}")
</code></pre>
<hr>
<p>A quick evaluation over appr. 8,000 XQuery files resulted in the following list of occurrences of possible incompatibilities (spread across  appr. 400 files):</p>
<ul>
<li>300x <code>attribute type {</code></li>
<li>107x <code>element option {</code></li>
<li>98x <code>element record {</code></li>
<li>85x <code>attribute count {</code></li>
<li>81x <code>attribute value {</code></li>
<li>31x <code>element value {</code></li>
<li>24x <code>element type {</code></li>
<li>18x <code>attribute text {</code></li>
<li>15x <code>attribute values {</code></li>
<li>12x <code>attribute namespace {</code></li>
<li>11x <code>attribute default {</code></li>
<li>10x <code>element text {</code></li>
<li>10x <code>attribute key {</code></li>
<li>10x <code>element key {</code></li>
<li>9x <code>element group {</code></li>
<li>9x <code>element count {</code></li>
<li>8x <code>element to {</code></li>
<li>8x <code>element item {</code></li>
<li>5x <code>element div {</code></li>
<li>4x <code>attribute collation {</code></li>
<li>4x <code>attribute encoding {</code></li>
<li>4x <code>attribute comment {</code></li>
<li>3x <code>attribute context {</code></li>
<li>3x <code>attribute case {</code></li>
<li>3x <code>element map {</code></li>
<li>3x <code>element empty {</code></li>
<li>2x <code>element items {</code></li>
<li>2x <code>attribute to {</code></li>
<li>1x <code>attribute empty {</code></li>
<li>1x <code>attribute item {</code></li>
<li>1x <code>element element {</code></li>
<li>1x <code>attribute where {</code></li>
<li>1x <code>element values {</code></li>
<li>1x <code>attribute if {</code></li>
<li>1x <code>element in {</code></li>
<li>1x <code>element comment {</code></li>
<li>1x <code>attribute start {</code></li>
<li>1x <code>attribute end {</code></li>
<li>1x <code>element document {</code></li>
</ul>
</div></details></div>
<div class="toot" id="created-1527"><h2>Issue #1527 created<span class="toot-id"> #created-1527</span></h2><div class="pubdate">23 Oct at 13:59:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1527">https://github.com/qt4cg/qtspecs/issues/1527</a></div><details><summary>Rendition of record definitions in F&amp;O spec</summary><div class="markup"><p>We're making progress here but there are still things that need fixing.</p>
<p>Currently a record definition like uri-structure-record is expanded:</p>
<p>(a) into a full definition (with explanations of all the fields) at the point where a PI of the form <code>&lt;?record-description uri-structure-record?&gt;</code>appears. This may be either within a specific function entry in the function catalog, or in the narrative prose of xpath-functions.xml.</p>
<p>(b) into a concise definition (without explanations of fields) at the point where the type is referenced in a function signature.</p>
<p>A hyperlink to the record definition is created (i) where the type name appears in a function signature, and (ii) manually, using the generic link format <code>&lt;loc href="#uri-structure-record"&gt;uri-structure-record&lt;/loc&gt;</code>. However, the target of the link is the first concise definition (see (b) above) rather than the full definition.</p>
<p>There are also some limitations in the rendering of the definitions. The full definition does not indicate which fields are optional/required, though this information is available in the XML. Neither the full nor the concise definition appears to indicate whether the record is extensible.</p>
</div></details></div>
<div class="toot" id="closed-1526"><h2>Issue #1526 closed<span class="toot-id"> #closed-1526</span></h2><div class="pubdate">23 Oct at 11:39:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1526">https://github.com/qt4cg/qtspecs/pull/1526</a></div><p>Emergency fix to test generator stylesheet</p></div></div><p>See 3063
            more statuses in yearly archives.</p></article></main></body></html>