<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="minutes-10-15"><h2>QT4 CG meeting 094 draft minutes<span class="toot-id"> #minutes-10-15</span></h2><div class="pubdate">15 Oct at 16:20:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2024/10-15">https://qt4cg.org/meeting/minutes/2024/10-15</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-1488"><h2>Issue #1488 closed<span class="toot-id"> #closed-1488</span></h2><div class="pubdate">15 Oct at 16:30:44 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1488">https://github.com/qt4cg/qtspecs/pull/1488</a></div><p>1487 in xsl:array, drop option to construct arrays from arrays</p></div>
<div class="toot" id="created-1495"><h2>Issue #1495 created<span class="toot-id"> #created-1495</span></h2><div class="pubdate">15 Oct at 16:29:55 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1495">https://github.com/qt4cg/qtspecs/issues/1495</a></div><details><summary>Drop "context value static type"</summary><div class="markup"><p>Drop the "context value static type" from the definition of the static context.</p>
<p>In the absence of a specification for static typing, the feature is unused, and we have dropped similar features such as statically-known document and collection types.</p>
</div></details></div>
<div class="toot" id="closed-1394"><h2>Issue #1394 closed<span class="toot-id"> #closed-1394</span></h2><div class="pubdate">15 Oct at 16:27:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1394">https://github.com/qt4cg/qtspecs/issues/1394</a></div><p>XSLT Default priority for `element(p:*)` etc</p></div>
<div class="toot" id="closed-1442"><h2>Issue #1442 closed<span class="toot-id"> #closed-1442</span></h2><div class="pubdate">15 Oct at 16:27:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1442">https://github.com/qt4cg/qtspecs/pull/1442</a></div><p>1394 Add new default priority rules</p></div>
<div class="toot" id="closed-1378"><h2>Issue #1378 closed<span class="toot-id"> #closed-1378</span></h2><div class="pubdate">15 Oct at 16:24:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1378">https://github.com/qt4cg/qtspecs/pull/1378</a></div><p>1375 bugs in pattern syntax</p></div>
<div class="toot" id="closed-1375"><h2>Issue #1375 closed<span class="toot-id"> #closed-1375</span></h2><div class="pubdate">15 Oct at 16:24:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1375">https://github.com/qt4cg/qtspecs/issues/1375</a></div><p>XSLT: names of functions in pattern</p></div>
<div class="toot" id="closed-1467"><h2>Issue #1467 closed<span class="toot-id"> #closed-1467</span></h2><div class="pubdate">15 Oct at 16:22:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1467">https://github.com/qt4cg/qtspecs/pull/1467</a></div><p>Modest editorial corrections to XSLT specs through 2.7</p></div>
<div class="toot" id="closed-1483"><h2>Issue #1483 closed<span class="toot-id"> #closed-1483</span></h2><div class="pubdate">15 Oct at 16:20:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1483">https://github.com/qt4cg/qtspecs/issues/1483</a></div><p>Type `none`</p></div>
<div class="toot" id="closed-1489"><h2>Issue #1489 closed<span class="toot-id"> #closed-1489</span></h2><div class="pubdate">15 Oct at 16:20:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1489">https://github.com/qt4cg/qtspecs/pull/1489</a></div><p>1483 return type of fn:error</p></div>
<div class="toot" id="closed-1308"><h2>Issue #1308 closed<span class="toot-id"> #closed-1308</span></h2><div class="pubdate">15 Oct at 16:10:39 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1308">https://github.com/qt4cg/qtspecs/issues/1308</a></div><p>fn:apply argument names</p></div>
<div class="toot" id="closed-1490"><h2>Issue #1490 closed<span class="toot-id"> #closed-1490</span></h2><div class="pubdate">15 Oct at 16:10:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1490">https://github.com/qt4cg/qtspecs/pull/1490</a></div><p>1308 In fn:apply, Correct $array to $arguments</p></div>
<div class="toot" id="closed-1312"><h2>Issue #1312 closed<span class="toot-id"> #closed-1312</span></h2><div class="pubdate">15 Oct at 16:06:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1312">https://github.com/qt4cg/qtspecs/issues/1312</a></div><p>Productions missing ws:explicit</p></div>
<div class="toot" id="closed-1492"><h2>Issue #1492 closed<span class="toot-id"> #closed-1492</span></h2><div class="pubdate">15 Oct at 16:06:56 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1492">https://github.com/qt4cg/qtspecs/pull/1492</a></div><p>1312 Add ws:explicit annotations</p></div>
<div class="toot" id="closed-1183"><h2>Issue #1183 closed<span class="toot-id"> #closed-1183</span></h2><div class="pubdate">15 Oct at 16:05:40 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1183">https://github.com/qt4cg/qtspecs/issues/1183</a></div><p>transient() - a function to make functions nondeterministic</p></div>
<div class="toot" id="closed-1305"><h2>Issue #1305 closed<span class="toot-id"> #closed-1305</span></h2><div class="pubdate">15 Oct at 16:05:28 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1305">https://github.com/qt4cg/qtspecs/issues/1305</a></div><p>Almost all functions in FO that must process multiple string items, can have as a parameter only a single collation</p></div>
<div class="toot" id="closed-1473"><h2>Issue #1473 closed<span class="toot-id"> #closed-1473</span></h2><div class="pubdate">15 Oct at 16:05:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1473">https://github.com/qt4cg/qtspecs/issues/1473</a></div><p>fn:identity: make it variadic</p></div>
<div class="toot" id="agenda-10-15"><h2>QT4 CG meeting 094 draft agenda<span class="toot-id"> #agenda-10-15</span></h2><div class="pubdate">14 Oct at 09:15:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2024/10-15">https://qt4cg.org/meeting/agenda/2024/10-15</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="closed-1469"><h2>Issue #1469 closed<span class="toot-id"> #closed-1469</span></h2><div class="pubdate">11 Oct at 10:37:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1469">https://github.com/qt4cg/qtspecs/issues/1469</a></div><p>Function finder</p></div>
<div class="toot" id="created-1494"><h2>Issue #1494 created<span class="toot-id"> #created-1494</span></h2><div class="pubdate">10 Oct at 15:15:39 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1494">https://github.com/qt4cg/qtspecs/issues/1494</a></div><details><summary>Records: Introduction?</summary><div class="markup"><p>It has been reported to me that the XQuery specification provides a nice and compact introduction on maps and arrays, but there currently is no comparable introduction for records yet. The “Changes” section on <a href="https://qt4cg.org/specifications/xquery-40/xquery-40.html#id-record-test">3.2.8.3 Record Type</a> gives a hint: It contains the sentence “Record types are added as a new kind of ItemType, constraining the value space of maps.”.</p>
<p>In addition, maybe we could rename the section <a href="https://qt4cg.org/specifications/xquery-40/xquery-40.html#id-named-record-types">Named Record Types</a> to “Record Declaration”, analogous to “Variable Declaration”, “Context Value Declaration” and “Function Declaration(s)”. “Item Type Declarations” could be renamed to “Type Declaration”.</p>
</div></details></div>
<div class="toot" id="created-1493"><h2>Issue #1493 created<span class="toot-id"> #created-1493</span></h2><div class="pubdate">10 Oct at 14:35:44 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1493">https://github.com/qt4cg/qtspecs/issues/1493</a></div><details><summary>fn:xml-to-json: Amendments</summary><div class="markup"><p>Maybe I was too quick in waving through #1476 as I believe that the current version is a bit sketchy. It says:</p>
<blockquote>
<p>An element <code>$E</code> named <code>number</code> is processed by copying the string value of <code>$E</code> to the output, making any changes that are necessary to ensure that the result is a valid JSON number. Such changes include:</p>
<ul>
<li>Removing leading and trailing whitespace.</li>
<li>Removing a leading plus sign.</li>
<li>Removing redundant leading zero digits.</li>
<li>Adding a zero digit before or after a decimal point that is not preceded and followed by a digit.</li>
</ul>
</blockquote>
<ol>
<li>For input like <code>X</code>, we cannot ensure that it will be a valid JSON number, so I assume that the changed string needs to be validated before being output?</li>
<li>“Removing redundant leading zero digits” may not consider negative number like <code>-01</code>.</li>
<li>Does “Such changes include” imply that the list may not be comprehensive?</li>
</ol>
<p>In many cases, the numbers to be output will be the result of an earlier <code>json-to-xml</code> conversion. If it is generated with XPath numbers, we shouldn’t encounter plus signs, redundant leading zeros etc. either, so I would suggest getting rid of all post-processing. We could simply say:</p>
<blockquote>
<p>An element <code>$E</code> named <code>number</code> results in the output of the string value of the element if it is a valid JSON number. Otherwise, <code>[FOJS0006]</code> is raised.</p>
</blockquote>
<p>If we do want to tweak the string value, we should provide a complete set of rules; maybe something like…</p>
<blockquote>
<p>The string value of an element <code>$E</code> named <code>number</code> is modified by:</p>
<ul>
<li>removing leading and trailing whitespace,</li>
<li>removing a single leading plus sign,</li>
<li>removing redundant leading zero digits, which are optionally preceded by a leading minus sign,</li>
<li>adding a zero digit before a decimal point that is not preceded by a digit, and</li>
<li>adding a zero digit after a decimal point that is not followed by a digit.</li>
</ul>
<p>If the result is a valid JSON number, it is output. Otherwise, <code>[FOJS0006]</code> is raised.</p>
</blockquote>
<p>…but that’s still fuzzy (for example, it lacks the explanation of what redundant zero digits are).</p>
</div></details></div>
<div class="toot" id="created-1492"><h2>Pull request #1492 created<span class="toot-id"> #created-1492</span></h2><div class="pubdate">10 Oct at 10:57:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1492">https://github.com/qt4cg/qtspecs/pull/1492</a></div><details><summary>1312 Add ws:explicit annotations</summary><div class="markup"><p>Also updates the list of tokens using angle-brackets.</p>
<p>Fix #1312</p>
</div></details></div>
<div class="toot" id="created-1491"><h2>Issue #1491 created<span class="toot-id"> #created-1491</span></h2><div class="pubdate">10 Oct at 10:01:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1491">https://github.com/qt4cg/qtspecs/issues/1491</a></div><details><summary>Empty record?</summary><div class="markup"><p>Even if the use cases may be limited: Shouldn’t we allow empty record types and declarations for the sake of completeness?</p>
<pre><code class="language-xquery">(: check for empty map :)
if($map instance of record()) then ...
</code></pre>
<pre><code class="language-xquery">declare record empty();

let $empty as empty := {}
return $empty
</code></pre>
</div></details></div>
<div class="toot" id="created-1490"><h2>Pull request #1490 created<span class="toot-id"> #created-1490</span></h2><div class="pubdate">10 Oct at 09:32:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1490">https://github.com/qt4cg/qtspecs/pull/1490</a></div><details><summary>1308 In fn:apply, Correct $array to $arguments</summary><div class="markup"><p>Fix #1308</p>
</div></details></div>
<div class="toot" id="created-1489"><h2>Pull request #1489 created<span class="toot-id"> #created-1489</span></h2><div class="pubdate">10 Oct at 09:18:12 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1489">https://github.com/qt4cg/qtspecs/pull/1489</a></div><details><summary>1483 return type of fn:error</summary><div class="markup"><p>Fix #1483</p>
</div></details></div>
<div class="toot" id="created-1488"><h2>Pull request #1488 created<span class="toot-id"> #created-1488</span></h2><div class="pubdate">10 Oct at 08:37:44 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1488">https://github.com/qt4cg/qtspecs/pull/1488</a></div><p>1487 in xsl:array, drop option to construct arrays from arrays</p></div>
<div class="toot" id="created-1487"><h2>Issue #1487 created<span class="toot-id"> #created-1487</span></h2><div class="pubdate">09 Oct at 10:58:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1487">https://github.com/qt4cg/qtspecs/issues/1487</a></div><details><summary>xsl:array - don't allow content to be supplied in array form</summary><div class="markup"><p>We reviewed and accepted a revised specification for xsl:array, but there was some unease about one of the options: specifically the ability to supply the content in the form of a sequence of arrays, which is then converted to an array of sequences.</p>
<p>Further work on implementation and on writing test cases inclines me to drop this option. There are several reasons:</p>
<ol>
<li>It is error-prone. When constructing nested arrays, there is a tendency to use <code>xsl:array/xsl:array</code> rather than <code>xsl:array/xsl:array-member/xsl:array</code>, and rather than leading to an error, this leads to incorrect results which can be hard to diagnose.</li>
<li>The specification relies on converting an array to a sequence using <code>$array?*</code>, but this is lossy, for example the array <code>[(1,2),3]</code> is converted to the sequence <code>(1,2,3)</code>. This provides a further source of potential confusion when users get it wrong.</li>
<li>Use of <code>xsl:array-member</code> seems to handle all the requirements and result in more readable code, and it's best to focus on providing a smaller number of different ways of achieving the same effect.</li>
</ol>
<p>The proposal is to drop option 2(e) of section 22.1.</p>
</div></details></div>
<div class="toot" id="closed-1450"><h2>Issue #1450 closed<span class="toot-id"> #closed-1450</span></h2><div class="pubdate">08 Oct at 17:29:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1450">https://github.com/qt4cg/qtspecs/issues/1450</a></div><p>Syntax of computed element and attribute constructors</p></div>
<div class="toot" id="closed-1480"><h2>Issue #1480 closed<span class="toot-id"> #closed-1480</span></h2><div class="pubdate">08 Oct at 17:29:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1480">https://github.com/qt4cg/qtspecs/pull/1480</a></div><p>1450 Disallow reserved names in element/attribute constructors</p></div>
<div class="toot" id="minutes-10-08"><h2>QT4 CG meeting 093 draft minutes<span class="toot-id"> #minutes-10-08</span></h2><div class="pubdate">08 Oct at 16:20:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2024/10-08">https://qt4cg.org/meeting/minutes/2024/10-08</a></div><p>Draft minutes published.</p></div></div><p>See 2977
            more statuses in yearly archives.</p></article></main></body></html>