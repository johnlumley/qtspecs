<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="agenda-12-03"><h2>QT4 CG meeting 101 draft agenda<span class="toot-id"> #agenda-12-03</span></h2><div class="pubdate">02 Dec at 09:00:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2024/12-03">https://qt4cg.org/meeting/agenda/2024/12-03</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-1627"><h2>Issue #1627 created<span class="toot-id"> #created-1627</span></h2><div class="pubdate">01 Dec at 23:33:39 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1627">https://github.com/qt4cg/qtspecs/issues/1627</a></div><details><summary>Drop validate() and valid() functions from schema-type-record</summary><div class="markup"><p>The functions schema-type(), atomic-type-annotation(), and node-type-annotation() return a schema-type-record in which two of the fields are function items validate() and valid().</p>
<p>I've come to the conclusion that these are difficult to specify, difficult to implement, and difficult to test, and that the benefit of providing them is not great. I propose to drop them. They can always be added back in later.</p>
</div></details></div>
<div class="toot" id="created-1626"><h2>Pull request #1626 created<span class="toot-id"> #created-1626</span></h2><div class="pubdate">01 Dec at 11:42:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1626">https://github.com/qt4cg/qtspecs/pull/1626</a></div><details><summary>1625 Editorial changes to notes on path expressions</summary><div class="markup"><p>Fix #1625</p>
<p>Purely editorial.</p>
</div></details></div>
<div class="toot" id="created-1625"><h2>Issue #1625 created<span class="toot-id"> #created-1625</span></h2><div class="pubdate">01 Dec at 11:22:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1625">https://github.com/qt4cg/qtspecs/issues/1625</a></div><details><summary>Editorial: misplaced notes for absolute/relative path expressions.</summary><div class="markup"><p>The note regarding leading-lone-slash ambiguity in 4.6.2 (relative path expressions) properly belongs in 4.6.1 (absolute path expressions)</p>
</div></details></div>
<div class="toot" id="created-1624"><h2>Issue #1624 created<span class="toot-id"> #created-1624</span></h2><div class="pubdate">29 Nov at 21:33:30 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1624">https://github.com/qt4cg/qtspecs/issues/1624</a></div><details><summary>document-node(a|b) is the same type as document-node(a)|document-node(b)</summary><div class="markup"><p><code>document-node(a|b)</code> is the same type as <code>document-node(a) | document-node(b)</code> but the current subtyping rules don't say this.</p>
<p>Revealed by test case misc/subtyping-076</p>
<p>Note, this problem existed before we introduced document-node(X), the same is true of the expansion:</p>
<p><code>document-node(element(a|b))</code> is the same type as <code>document-node(element(a)) | document-node(element(b))</code></p>
</div></details></div>
<div class="toot" id="closed-1603"><h2>Issue #1603 closed<span class="toot-id"> #closed-1603</span></h2><div class="pubdate">29 Nov at 20:44:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1603">https://github.com/qt4cg/qtspecs/pull/1603</a></div><p>1602 Editorial update to "other operations" on maps and arrays</p></div>
<div class="toot" id="created-1623"><h2>Pull request #1623 created<span class="toot-id"> #created-1623</span></h2><div class="pubdate">29 Nov at 18:44:20 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1623">https://github.com/qt4cg/qtspecs/pull/1623</a></div><details><summary>1615 Editorial rearrangement of "context" sections</summary><div class="markup"><p>This PR is purely editorial.</p>
<p>It drops some rarely-used and imprecise terminology like "module context", and clarifies the description of the role of the static and dynamic context.</p>
<p>In XQuery, it pulls together the material from §2.3.5 (the "Serialization" section of the processing model) and Appendix C.1 (the "static context" appendix) into a new section 5.22 Output Declarations.</p>
<p>Note that much of this material differs between XPath and XQuery, so please review both.</p>
<p>Fix #1615</p>
</div></details></div>
<div class="toot" id="created-1622"><h2>Pull request #1622 created<span class="toot-id"> #created-1622</span></h2><div class="pubdate">29 Nov at 13:04:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1622">https://github.com/qt4cg/qtspecs/pull/1622</a></div><details><summary>1619 Specify XSLT map-for-key function</summary><div class="markup"><p>Fix #1619</p>
<p>Specifies an XSLT function map-for-key that converts a key to a map.</p>
<p>Refines the semantics of fn:key() to align with maps in edge cases.</p>
</div></details></div>
<div class="toot" id="created-1621"><h2>Issue #1621 created<span class="toot-id"> #created-1621</span></h2><div class="pubdate">29 Nov at 11:22:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1621">https://github.com/qt4cg/qtspecs/issues/1621</a></div><details><summary>compare() with collations that do not support ordering</summary><div class="markup"><p>Many functions that rely on equality-comparison of strings, for example deep-equal() and the <code>eq</code> operator, invoke <code>compare(A, B, Collation)</code>. But we say that some collations only support equality comparison, not ordering. Presumably (we don't actually say), <code>compare(A, B, Collation)</code> will fail if the collation does not support ordering; but if it fails, then equality comparisons will fail as well.</p>
<p>It's not obvious what we should do about this. The simplest fix is probably to say that all collations must support ordering as well as equality comparison. Or we could have a fourth result value from <code>compare()</code> to say "values not equal, but their ordering is not defined"</p>
</div></details></div>
<div class="toot" id="created-1620"><h2>Pull request #1620 created<span class="toot-id"> #created-1620</span></h2><div class="pubdate">29 Nov at 10:13:55 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1620">https://github.com/qt4cg/qtspecs/pull/1620</a></div><details><summary>332 Add options for fn:path</summary><div class="markup"><p>Fix #332</p>
</div></details></div>
<div class="toot" id="created-1619"><h2>Issue #1619 created<span class="toot-id"> #created-1619</span></h2><div class="pubdate">29 Nov at 08:23:46 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1619">https://github.com/qt4cg/qtspecs/issues/1619</a></div><details><summary>XSLT: keys as maps</summary><div class="markup"><p>I propose an XSLT function map-for-key('keyname', $root) which returns a map $M having the property that <code>map:get($M, $key)</code> returns the value of <code>key('keyname', $key, $root)</code>.</p>
<p>This enables XSLT keys to be exploited in new ways: for example it becomes easy to merge the indexes for multiple documents, or to iterate over all the keys in a document.</p>
<p>These benefits can already be obtained by scrapping keys entirely and building maps instead; but keys do have some benefits (like remaining implicitly associated with particular documents, and being "more declarative") and if you've got a legacy application that makes extensive use of keys, this function gives you a bridging capability.</p>
<p>There are a few edge cases that will need ironing out, for example keys allow matching using a collation, which maps don't. (And the spec of xsl:key, now I come to think of it, says nothing about comparing date/time values in different timezones; I don't expect anyone has ever tried.)</p>
</div></details></div>
<div class="toot" id="created-1618"><h2>Issue #1618 created<span class="toot-id"> #created-1618</span></h2><div class="pubdate">28 Nov at 16:38:56 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1618">https://github.com/qt4cg/qtspecs/issues/1618</a></div><details><summary>Adaptive serialization: doubles</summary><div class="markup"><p>We should make the serialization spec more liberal when it comes to the representation of double values. The prescribed output format is <code>format-number(?, '0.0##########################e0')</code>, which is very strict and often confusing when maps and arrays are serializes. Maps resulting from JSON convertsions often contain doubles without users noticing it (related: #1583).</p>
<p>We should make the behavior implementation-dependent or align it with the serialization of JSON data (without losing its additional features to e.g. serialize function items or sequences). Backward compliance shouldn’t be an important issue, as the method was mainly introduced for debugging purposes.</p>
</div></details></div>
<div class="toot" id="created-1617"><h2>Pull request #1617 created<span class="toot-id"> #created-1617</span></h2><div class="pubdate">27 Nov at 18:26:53 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1617">https://github.com/qt4cg/qtspecs/pull/1617</a></div><details><summary>1606 Drop named item types, refine named record types, esp in XSLT</summary><div class="markup"><p>Fix #1606
Fix #1506
Fix #1485</p>
<p>This PR drops the general concept of declaring named item types in XQuery and XSLT, and focuses on declaring named record types. The rules for named record types are tidied up editorially in XQuery (for example there is a clearer distinction between the syntax production <code>RecordType</code> and the concept of a record type, which can be declared either using that syntax, or otherwise). In XSLT the <code>&lt;xsl:item-type&gt;</code> declaration is dropped and an <code>&lt;xsl:record-type&gt;</code> declaration is introduced.</p>
</div></details></div>
<div class="toot" id="created-1616"><h2>Pull request #1616 created<span class="toot-id"> #created-1616</span></h2><div class="pubdate">27 Nov at 17:49:49 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1616">https://github.com/qt4cg/qtspecs/pull/1616</a></div><details><summary>A little cleanup; support function/xfunction globally</summary><div class="markup"><p>This is another PR related to #1610</p>
<p>@michaelhkay suggested that it would be nice to be able to use <code>&lt;function&gt;</code> consistently. This PR attempts to implement that. (It also implements <code>&lt;xfunction&gt;</code> which appears to have been an attempt to do this in the XSLT spec.)</p>
<p>Markup of the form <code>&lt;function&gt;prefix:name#arity&lt;/function&gt;</code> will attempt to find the definition of <code>prefix:name</code> in the F&amp;O and XSLT specifications. It will make an appropriate link. If no <code>prefix</code> is provided <code>fn:</code> is assumed and the <em>#arity</em> part is optional.</p>
<p>If someone can pull this PR locally (instructions below) and kick the tires (excuse me, "tyres") I'd appreciate it. I've done a little spot checking, but I can't say I've been comprehensive.</p>
<p>If we agree to merge this, it will then be possible to cleanup markup in some places. For example, it appears that the F&amp;O spec relies on special processing of <code>&lt;code&gt;</code> rather than <code>&lt;function&gt;</code>. We should never have done that!</p>
<p>(There's no point looking at the formatted version of this PR, it's all build changes that won't be reflected there.)</p>
</div></details></div>
<div class="toot" id="created-1615"><h2>Issue #1615 created<span class="toot-id"> #created-1615</span></h2><div class="pubdate">27 Nov at 15:34:39 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1615">https://github.com/qt4cg/qtspecs/issues/1615</a></div><details><summary>Drop the terms "module context" and "expression context"</summary><div class="markup"><p>It's not at all clear what these terms are supposed to mean; they are rarely used, and when they are used, they only cause confusion.</p>
<p>For example, the sentence "The names of public variables and public functions must be unique within the [module contexts] of a query" doesn't bear scrutiny. (Can variables have the same names as functions? Yes they can. Can they have the same names as private variables and functions in the same module? No they can't.)</p>
<p>The term "expression context" can probably be usefully replaced in most places by "the static context of an expression".</p>
<p>I think that the idea behind "module context" is that a large part of the static context for expressions is the same for all expressions within a module. But I think that when we use the term, there is usually a better way of saying what we mean.</p>
</div></details></div>
<div class="toot" id="created-1614"><h2>Pull request #1614 created<span class="toot-id"> #created-1614</span></h2><div class="pubdate">27 Nov at 09:45:56 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1614">https://github.com/qt4cg/qtspecs/pull/1614</a></div><details><summary>Fix xfunction refs in XSLT</summary><div class="markup"><p>I changed <code>xfunction</code> refs so that they point to the right URI for 40 functions.</p>
<p>(Partial fix for #1610 )</p>
</div></details></div>
<div class="toot" id="created-1613"><h2>Pull request #1613 created<span class="toot-id"> #created-1613</span></h2><div class="pubdate">26 Nov at 18:41:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1613">https://github.com/qt4cg/qtspecs/pull/1613</a></div><details><summary>1605 csv-to-xml to return document node rather than element</summary><div class="markup"><p>Fix #1605</p>
</div></details></div>
<div class="toot" id="closed-1612"><h2>Issue #1612 closed<span class="toot-id"> #closed-1612</span></h2><div class="pubdate">26 Nov at 17:42:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1612">https://github.com/qt4cg/qtspecs/pull/1612</a></div><p>Drop diagnostic message from stylesheet</p></div>
<div class="toot" id="created-1612"><h2>Pull request #1612 created<span class="toot-id"> #created-1612</span></h2><div class="pubdate">26 Nov at 17:42:19 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1612">https://github.com/qt4cg/qtspecs/pull/1612</a></div><details><summary>Drop diagnostic message from stylesheet</summary><div class="markup"><p>Debugging output was accidentally left in place.</p>
</div></details></div>
<div class="toot" id="created-1611"><h2>Pull request #1611 created<span class="toot-id"> #created-1611</span></h2><div class="pubdate">26 Nov at 17:37:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1611">https://github.com/qt4cg/qtspecs/pull/1611</a></div><details><summary>1608 add dependency to fn compare</summary><div class="markup"><p>Fix #1608</p>
</div></details></div>
<div class="toot" id="minutes-11-26"><h2>QT4 CG meeting 100 draft minutes<span class="toot-id"> #minutes-11-26</span></h2><div class="pubdate">26 Nov at 17:25:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2024/11-26">https://qt4cg.org/meeting/minutes/2024/11-26</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-1503"><h2>Issue #1503 closed<span class="toot-id"> #closed-1503</span></h2><div class="pubdate">26 Nov at 17:20:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1503">https://github.com/qt4cg/qtspecs/issues/1503</a></div><p>$err:map in XSLT</p></div>
<div class="toot" id="closed-1505"><h2>Issue #1505 closed<span class="toot-id"> #closed-1505</span></h2><div class="pubdate">26 Nov at 17:20:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1505">https://github.com/qt4cg/qtspecs/pull/1505</a></div><p>1503 Add err:map, err:stack-trace, err:additional to XSLT</p></div>
<div class="toot" id="closed-1527"><h2>Issue #1527 closed<span class="toot-id"> #closed-1527</span></h2><div class="pubdate">26 Nov at 17:19:56 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1527">https://github.com/qt4cg/qtspecs/issues/1527</a></div><p>Rendition of record definitions in F&amp;O spec</p></div>
<div class="toot" id="closed-1586"><h2>Issue #1586 closed<span class="toot-id"> #closed-1586</span></h2><div class="pubdate">26 Nov at 17:19:55 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1586">https://github.com/qt4cg/qtspecs/pull/1586</a></div><p>1527 Move record types into separate sections</p></div>
<div class="toot" id="closed-1598"><h2>Issue #1598 closed<span class="toot-id"> #closed-1598</span></h2><div class="pubdate">26 Nov at 17:16:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1598">https://github.com/qt4cg/qtspecs/issues/1598</a></div><p>$err:stack-trace: string, please</p></div>
<div class="toot" id="closed-1599"><h2>Issue #1599 closed<span class="toot-id"> #closed-1599</span></h2><div class="pubdate">26 Nov at 17:16:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1599">https://github.com/qt4cg/qtspecs/pull/1599</a></div><p>1598 $err:stack-trace: string, please</p></div>
<div class="toot" id="closed-1593"><h2>Issue #1593 closed<span class="toot-id"> #closed-1593</span></h2><div class="pubdate">26 Nov at 17:13:46 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1593">https://github.com/qt4cg/qtspecs/issues/1593</a></div><p>Item type syntax document-node(*)</p></div>
<div class="toot" id="closed-1604"><h2>Issue #1604 closed<span class="toot-id"> #closed-1604</span></h2><div class="pubdate">26 Nov at 17:13:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1604">https://github.com/qt4cg/qtspecs/pull/1604</a></div><p>1593 Allow `document-node(NameTestUnion)`</p></div>
<div class="toot" id="closed-1570"><h2>Issue #1570 closed<span class="toot-id"> #closed-1570</span></h2><div class="pubdate">26 Nov at 17:10:44 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1570">https://github.com/qt4cg/qtspecs/pull/1570</a></div><p>1550 Replace node-kind() with new type-of() function</p></div></div><p>See 3252
            more statuses in yearly archives.</p></article></main></body></html>