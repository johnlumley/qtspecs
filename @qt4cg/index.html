<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="created-1458"><h2>Issue #1458 created<span class="toot-id"> #created-1458</span></h2><div class="pubdate">19 Sep at 08:04:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1458">https://github.com/qt4cg/qtspecs/issues/1458</a></div><details><summary>Arguments that have a default value but don't accept ()</summary><div class="markup"><p>The following functions define an argument that has a default value, but don't allow () to be supplied explicitly:</p>
<pre><code>lang
id
element-with-id
idref
parse-html
</code></pre>
<p>As determined by running the following query against the function catalog:</p>
<p><code>//*:arg[@default and not(ends-with(@type,'?') or ends-with(@type, '*'))]/(ancestor::*:function/(@prefix||':'||@name))</code></p>
<p>There are others which this query doesn't pick up, mainly where the defaultable argument is a function, including:</p>
<p>array:build
map:build
array:get
map:get
fn:highest
fn:lowest</p>
</div></details></div>
<div class="toot" id="closed-1224"><h2>Issue #1224 closed<span class="toot-id"> #closed-1224</span></h2><div class="pubdate">18 Sep at 21:57:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1224">https://github.com/qt4cg/qtspecs/issues/1224</a></div><p>Attribute priority for xsl:accumulator-rule</p></div>
<div class="toot" id="closed-409"><h2>Issue #409 closed<span class="toot-id"> #closed-409</span></h2><div class="pubdate">18 Sep at 21:49:53 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/409">https://github.com/qt4cg/qtspecs/issues/409</a></div><p>XSLT: xsl:next-match and xsl:apply-imports interaction with on-multiple-match</p></div>
<div class="toot" id="closed-296"><h2>Issue #296 closed<span class="toot-id"> #closed-296</span></h2><div class="pubdate">18 Sep at 21:34:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/296">https://github.com/qt4cg/qtspecs/issues/296</a></div><p>Default namespace for elements; especially in the context of HTML</p></div>
<div class="toot" id="created-1457"><h2>Issue #1457 created<span class="toot-id"> #created-1457</span></h2><div class="pubdate">18 Sep at 12:36:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1457">https://github.com/qt4cg/qtspecs/issues/1457</a></div><details><summary>Common name for maps &amp; arrays</summary><div class="markup"><p>Past thoughts:</p>
<ul>
<li>https://github.com/qt4cg/qtspecs/issues/826#issuecomment-1821359131</li>
<li>https://github.com/qt4cg/qtspecs/issues/1456#issuecomment-2358257374 ff.</li>
</ul>
<p>Copied from Michael:</p>
<blockquote>
<p>It would be great if we could agree on a collective term for "maps and arrays". "Structured item" feels too generic to me. I've toyed with terms like "tabulation", "tabula", "composition", "dataset", "compendium", "aggregate".
Perhaps "combo"? It's best to have a word that stands out from the crowd if we can't find one whose meaning is self-explanatory.</p>
</blockquote>
</div></details></div>
<div class="toot" id="closed-1381"><h2>Issue #1381 closed<span class="toot-id"> #closed-1381</span></h2><div class="pubdate">18 Sep at 11:56:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1381">https://github.com/qt4cg/qtspecs/issues/1381</a></div><p>fn:parse-uri: Observations (cont.)</p></div>
<div class="toot" id="closed-1387"><h2>Issue #1387 closed<span class="toot-id"> #closed-1387</span></h2><div class="pubdate">18 Sep at 11:56:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1387">https://github.com/qt4cg/qtspecs/issues/1387</a></div><p>fn:build-uri: Observations</p></div>
<div class="toot" id="created-1456"><h2>Issue #1456 created<span class="toot-id"> #created-1456</span></h2><div class="pubdate">17 Sep at 22:30:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1456">https://github.com/qt4cg/qtspecs/issues/1456</a></div><details><summary>Filtering by type in lookup expressions</summary><div class="markup"><p>We have dropped the syntax <code>??type(T)</code> for filtering the results of lookup expressions, because of problems with syntax ambiguity. This issue seeks an alternative.</p>
<p>Although selection by type also makes sense with shallow lookup, it is most relevant with deep lookup. The main need arises with intermediate steps of a path such as <code>?? X ?? Y</code> which gives a dynamic error if X selects something that is not a map or array. This is consistent at one level with <code>// X // Y</code>, except that <code>// X</code> can never select something that isn't a node.</p>
<p>The main problems with filtering using an <code>[. instance of record(p, q)]</code> predicate is that it's very long-winded. For example, if we want to select only those members of a selected array that are sequences of a particular record type, without flattening everything else, we have to write something like <code>?? values::* ?[. instance of record(p, q)+] ? *</code>, which is a bit of a nightmare.</p>
<p>Starting from the end goal, I would like to be able to write something close to <code>??record(first, last)</code> to select all the items of this record type at any depth. We know that syntax doesn't work, because <code>??NCName</code> is already taken. That's also true for <code>??items::record(first, last)</code>, unless we change the rules for what can appear after <code>::</code>.</p>
<p>Also, there's another syntax hazard: what we want here is a SequenceType, not an ItemType, and that means that it can contain a trailing <code>?</code> occurrence indicator, which is easily confused with the next lookup operator in a path.</p>
<p>Looking at it from all angles, I do feel the best solution is to prefix the <code>record(first, last)</code> with a marker character so that we know we've got a type filter here. Characters that might do the job include <code>@</code>, <code>#</code>, <code>$</code>, <code>%</code>, <code>^</code>, <code>~</code>. Of these, my preference remains <code>~</code>, for three reasons:</p>
<p>(a) it's currently unused: overloading a different symbol is more likely to cause visual confusion
(b) one of the traditional uses of <code>~</code> is to indicate a "matches" or "is kind of like" relationship.
(c) there's a mnemonic association between "tilde" and "type" (compare "at" and "attribute")</p>
</div></details></div>
<div class="toot" id="closed-1324"><h2>Issue #1324 closed<span class="toot-id"> #closed-1324</span></h2><div class="pubdate">17 Sep at 21:27:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1324">https://github.com/qt4cg/qtspecs/issues/1324</a></div><p>Executable specifications</p></div>
<div class="toot" id="closed-1335"><h2>Issue #1335 closed<span class="toot-id"> #closed-1335</span></h2><div class="pubdate">17 Sep at 21:25:55 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1335">https://github.com/qt4cg/qtspecs/issues/1335</a></div><p>Data Model primitives for Maps and Arrays</p></div>
<div class="toot" id="created-1455"><h2>Pull request #1455 created<span class="toot-id"> #created-1455</span></h2><div class="pubdate">17 Sep at 21:03:39 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1455">https://github.com/qt4cg/qtspecs/pull/1455</a></div><details><summary>1445 Drop number-formatter option, retain string value</summary><div class="markup"><p>Fix #1445</p>
</div></details></div>
<div class="toot" id="created-1454"><h2>Pull request #1454 created<span class="toot-id"> #created-1454</span></h2><div class="pubdate">17 Sep at 18:29:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1454">https://github.com/qt4cg/qtspecs/pull/1454</a></div><details><summary>1449 Relax rules on multiple xsl:includes</summary><div class="markup"><p>Fix #1449</p>
</div></details></div>
<div class="toot" id="created-1453"><h2>Pull request #1453 created<span class="toot-id"> #created-1453</span></h2><div class="pubdate">17 Sep at 17:47:40 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1453">https://github.com/qt4cg/qtspecs/pull/1453</a></div><details><summary>Fix typo in load-xquery-module example</summary><div class="markup"><p>Fix #1451</p>
</div></details></div>
<div class="toot" id="closed-1372"><h2>Issue #1372 closed<span class="toot-id"> #closed-1372</span></h2><div class="pubdate">17 Sep at 16:17:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1372">https://github.com/qt4cg/qtspecs/issues/1372</a></div><p>Unknown option: FORG0013 → XPTY0004</p></div>
<div class="toot" id="closed-1431"><h2>Issue #1431 closed<span class="toot-id"> #closed-1431</span></h2><div class="pubdate">17 Sep at 16:17:31 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1431">https://github.com/qt4cg/qtspecs/pull/1431</a></div><p>1372 Unknown option: FORG0013 → XPTY0004</p></div>
<div class="toot" id="closed-1379"><h2>Issue #1379 closed<span class="toot-id"> #closed-1379</span></h2><div class="pubdate">17 Sep at 16:14:04 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1379">https://github.com/qt4cg/qtspecs/issues/1379</a></div><p>Circular dependencies: XQDY0054 vs. XPST0008 vs. optional errors</p></div>
<div class="toot" id="closed-1432"><h2>Issue #1432 closed<span class="toot-id"> #closed-1432</span></h2><div class="pubdate">17 Sep at 16:14:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1432">https://github.com/qt4cg/qtspecs/pull/1432</a></div><p>1379 Initializing expression: Allow self references</p></div>
<div class="toot" id="closed-1364"><h2>Issue #1364 closed<span class="toot-id"> #closed-1364</span></h2><div class="pubdate">17 Sep at 16:09:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1364">https://github.com/qt4cg/qtspecs/pull/1364</a></div><p>1314 Change to type() syntax to fix ambiguity</p></div>
<div class="toot" id="closed-1314"><h2>Issue #1314 closed<span class="toot-id"> #closed-1314</span></h2><div class="pubdate">17 Sep at 16:09:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1314">https://github.com/qt4cg/qtspecs/issues/1314</a></div><p>Ambiguity in XPath EBNF - Lookup with TypeQualifier vs DynamicFunctionCall</p></div>
<div class="toot" id="closed-1414"><h2>Issue #1414 closed<span class="toot-id"> #closed-1414</span></h2><div class="pubdate">17 Sep at 16:07:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1414">https://github.com/qt4cg/qtspecs/pull/1414</a></div><p>XSLT spec abstract, introduction</p></div>
<div class="toot" id="closed-1389"><h2>Issue #1389 closed<span class="toot-id"> #closed-1389</span></h2><div class="pubdate">17 Sep at 16:05:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1389">https://github.com/qt4cg/qtspecs/issues/1389</a></div><p>fn:while-do: Optional error: will not terminate</p></div>
<div class="toot" id="closed-1440"><h2>Issue #1440 closed<span class="toot-id"> #closed-1440</span></h2><div class="pubdate">17 Sep at 16:04:16 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1440">https://github.com/qt4cg/qtspecs/pull/1440</a></div><p>1387 Another tweak to build-uri</p></div>
<div class="toot" id="created-1452"><h2>Issue #1452 created<span class="toot-id"> #created-1452</span></h2><div class="pubdate">17 Sep at 14:55:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1452">https://github.com/qt4cg/qtspecs/issues/1452</a></div><details><summary>Links from the agendas/minutes to the dashboard don't redirect when the PR is no longer on the dashboard</summary><div class="markup"><p>Could they?</p>
<p>S.M.O.P. I suppose.</p>
</div></details></div>
<div class="toot" id="created-1451"><h2>Issue #1451 created<span class="toot-id"> #created-1451</span></h2><div class="pubdate">17 Sep at 13:33:01 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1451">https://github.com/qt4cg/qtspecs/issues/1451</a></div><details><summary>Minor syntax errors in FO examples</summary><div class="markup"><p>The example for <code>fn-load-xquery-module</code> contains I think an errant semicolon:</p>
<pre><code>let $expr := "2 + 2"
let $module := `xquery version "4.0"; 
                module namespace dyn="http://example.com/dyn";
                declare %public variable $dyn:value := {$expr};`
let $exec := load-xquery-module("http://example.com/dyn", 
                                {'content':$module}); 
let $variables := $exec?variables
return $variables(QName("http://example.com/dyn", "value"))
</code></pre>
<p>The semicolon after the third <code>let</code> is not permitted by the grammar - it only appears as a separator in <code>Version</code>, <code>Module</code> and <code>Prolog</code>. Removing that semicolon permits a parse under the current grammar.</p>
</div></details></div>
<div class="toot" id="closed-832"><h2>Issue #832 closed<span class="toot-id"> #closed-832</span></h2><div class="pubdate">17 Sep at 11:32:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/832">https://github.com/qt4cg/qtspecs/pull/832</a></div><p>77 Lookup returning path selection</p></div>
<div class="toot" id="created-1450"><h2>Issue #1450 created<span class="toot-id"> #created-1450</span></h2><div class="pubdate">17 Sep at 10:12:06 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1450">https://github.com/qt4cg/qtspecs/issues/1450</a></div><details><summary>Syntax of computed element and attribute constructors</summary><div class="markup"><p>The syntax of computed element and attribute constructors causes parsing problems, and problems in extending the grammar (for example it restricts the contexts in which bare-brace map constructors can appear).</p>
<p>In the syntax <code>element|attribute _name_ { _content-expression_ }</code> I propose that:</p>
<p>(a) it should be possible to use a <code>StringTemplate</code> in place of the <em>name</em>. This will normally just be the name enclosed in backticks but interpolated expressions are allowed.</p>
<p>(b) reserved names should be disallowed. This is a backwards-incompatible change. The reserved names are the non-delimiting terminal symbols listed in A.3.2. We should add a warning that additional names might be reserved in future versions, and advise use of backticks.</p>
</div></details></div>
<div class="toot" id="created-1449"><h2>Issue #1449 created<span class="toot-id"> #created-1449</span></h2><div class="pubdate">17 Sep at 07:41:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1449">https://github.com/qt4cg/qtspecs/issues/1449</a></div><details><summary>Discussion: include/import of files.</summary><div class="markup"><p>I don't especially do this.</p>
<p>a) because the environment that we run XSLT in (95% of the time) doesnt support it
b) because its too rigid to use (maybe I'm doing it wrong).</p>
<p>Motivation:</p>
<p>I have 'module' List.xsl lets say that models lists, and has a function (in psuedo XPath so you can see the types)
(a module contains constructors and ideally all functions related to, here, a list)</p>
<p><code>function tryHead($xs as list()) as maybe() </code></p>
<p>I have 'module' Maybe.xsl lets say that models Maybe</p>
<p><code>function toList($xs as maybe()) as list() </code></p>
<p>So Maybe.xsl needs to know about List.xsl and List.xsl needs to know about Maybe.xsl</p>
<p>if I use xsl:include or xsl:import (in saxon) I get:</p>
<p><code>The stylesheet module includes/imports itself directly or indirectly</code></p>
<p>(which I'm happy reflects the correct behaviour given the spec - i.e. I don't think this is a bug in the implementation)</p>
<p>Given that I CAN write this cycle in a single file, without restrictions on the order of the constructs (i.e. this isnt a restriction of the language itself - this isnt alway true in other languages), it seems less than ideal that I can't freely compose files in order to replicate the situation an allow decomposition into logical files.</p>
<p>(I expect this is a consequence of the rules around priority of templates, which I am broadly ignorant of, and to be honest, largely not directly concerned with - I don't use this to 'compose' templates, but to write 'function' libraries)</p>
<p>(MK has answered a question in stack overflow related to this, which solved the issue by reorganising the files, which is what I currently do, but its not ideal that I cannot decompose and test code in isolation)</p>
<p>Is this worth resolving?</p>
<p>Many years ago I was a C programmer, and I remember a similar issue that was resolved with #define, whereby header files were imported something like this (excuse my made up C syntax)</p>
<pre><code>#ifndef _Maybe_
#include "Maybe.h"
#endifndef
</code></pre>
<p>and then Maybe.h would define <code>_Maybe_</code>, this would mean, if you followed the idiom, that the file was included by the preprocessor, at most once (I'm not suggesting this mechanism is directly applicable, just that this is a common issue elsewhere).</p>
</div></details></div>
<div class="toot" id="created-1448"><h2>Issue #1448 created<span class="toot-id"> #created-1448</span></h2><div class="pubdate">16 Sep at 16:53:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1448">https://github.com/qt4cg/qtspecs/issues/1448</a></div><details><summary>Operations on the dateTime family of types</summary><div class="markup"><p>Now that we support choice types in function signatures, we can easily generalize functions such as <code>year-from-dateTime</code> to work on all types in the dateTime family (specifically dateTime, date, time, gYear, gYearMonth, gMonth, gMonthDay, gDay). A request for a component that is not present in the value returns ().</p>
<p>We can apply this to all seven X-from-dateTime() functions.</p>
<p>Of course this makes the X-from-date() and X-from-time() versions redundant, but that's not a problem.</p>
</div></details></div>
<div class="toot" id="created-1447"><h2>Pull request #1447 created<span class="toot-id"> #created-1447</span></h2><div class="pubdate">16 Sep at 16:35:31 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1447">https://github.com/qt4cg/qtspecs/pull/1447</a></div><details><summary>1446 Rephrase conformance rule on xs:dateTime limits</summary><div class="markup"><p>Fix #1446</p>
</div></details></div>
<div class="toot" id="created-1446"><h2>Issue #1446 created<span class="toot-id"> #created-1446</span></h2><div class="pubdate">16 Sep at 14:32:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1446">https://github.com/qt4cg/qtspecs/issues/1446</a></div><details><summary>Limits on xs:dateTime</summary><div class="markup"><p>Section 9.1.1 says</p>
<p>All minimally conforming processors must support positive year values with a minimum of 4 digits (i.e., YYYY)</p>
<p>The word "minimum" here is ambiguous.</p>
<p>I suggest</p>
<p>All minimally conforming processors must support year values in the range 1 to 9999.</p>
<p>For bonus points, drop the use of the undefined term "minimally conforming", and link instead to something defined in section 1.2 Conformance.</p>
</div></details></div></div><p>See 2873
            more statuses in yearly archives.</p></article></main></body></html>