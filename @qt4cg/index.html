<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="minutes-10-22"><h2>QT4 CG meeting 095 draft minutes<span class="toot-id"> #minutes-10-22</span></h2><div class="pubdate">22 Oct at 16:20:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2024/10-22">https://qt4cg.org/meeting/minutes/2024/10-22</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-1518"><h2>Issue #1518 closed<span class="toot-id"> #closed-1518</span></h2><div class="pubdate">22 Oct at 16:27:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1518">https://github.com/qt4cg/qtspecs/pull/1518</a></div><p>Add to changes metadata</p></div>
<div class="toot" id="closed-1517"><h2>Issue #1517 closed<span class="toot-id"> #closed-1517</span></h2><div class="pubdate">22 Oct at 16:24:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1517">https://github.com/qt4cg/qtspecs/pull/1517</a></div><p>1516(A) Fix failing F&amp;O examples</p></div>
<div class="toot" id="closed-1509"><h2>Issue #1509 closed<span class="toot-id"> #closed-1509</span></h2><div class="pubdate">22 Oct at 16:22:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1509">https://github.com/qt4cg/qtspecs/issues/1509</a></div><p>XQuery import schema (location hints)</p></div>
<div class="toot" id="closed-1510"><h2>Issue #1510 closed<span class="toot-id"> #closed-1510</span></h2><div class="pubdate">22 Oct at 16:22:22 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1510">https://github.com/qt4cg/qtspecs/pull/1510</a></div><p>1509 Drop obsolete/redundant text about "import schema" location hints</p></div>
<div class="toot" id="closed-1507"><h2>Issue #1507 closed<span class="toot-id"> #closed-1507</span></h2><div class="pubdate">22 Oct at 16:17:49 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1507">https://github.com/qt4cg/qtspecs/issues/1507</a></div><p>Formal spec of fn:parse-integer</p></div>
<div class="toot" id="closed-1508"><h2>Issue #1508 closed<span class="toot-id"> #closed-1508</span></h2><div class="pubdate">22 Oct at 16:17:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1508">https://github.com/qt4cg/qtspecs/pull/1508</a></div><p>1507 Make format-integer spec legible</p></div>
<div class="toot" id="closed-1357"><h2>Issue #1357 closed<span class="toot-id"> #closed-1357</span></h2><div class="pubdate">22 Oct at 16:15:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1357">https://github.com/qt4cg/qtspecs/issues/1357</a></div><p>Rendering of new vs. updated features</p></div>
<div class="toot" id="closed-1521"><h2>Issue #1521 closed<span class="toot-id"> #closed-1521</span></h2><div class="pubdate">22 Oct at 16:15:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1521">https://github.com/qt4cg/qtspecs/pull/1521</a></div><p>Update the changed/new marks in the ToC</p></div>
<div class="toot" id="closed-1345"><h2>Issue #1345 closed<span class="toot-id"> #closed-1345</span></h2><div class="pubdate">22 Oct at 16:14:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1345">https://github.com/qt4cg/qtspecs/issues/1345</a></div><p>Bare brace ambiguity resolution in practice</p></div>
<div class="toot" id="closed-1511"><h2>Issue #1511 closed<span class="toot-id"> #closed-1511</span></h2><div class="pubdate">22 Oct at 16:14:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1511">https://github.com/qt4cg/qtspecs/pull/1511</a></div><p>1345 Re-allow bare-brace map constructors everywhere</p></div>
<div class="toot" id="closed-1179"><h2>Issue #1179 closed<span class="toot-id"> #closed-1179</span></h2><div class="pubdate">22 Oct at 16:12:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1179">https://github.com/qt4cg/qtspecs/issues/1179</a></div><p>Editorial: `array:values`, `map:values`</p></div>
<div class="toot" id="closed-1169"><h2>Issue #1169 closed<span class="toot-id"> #closed-1169</span></h2><div class="pubdate">22 Oct at 16:12:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1169">https://github.com/qt4cg/qtspecs/issues/1169</a></div><p>Maps &amp; Arrays: Consistency &amp; Terminology</p></div>
<div class="toot" id="closed-1114"><h2>Issue #1114 closed<span class="toot-id"> #closed-1114</span></h2><div class="pubdate">22 Oct at 16:12:21 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1114">https://github.com/qt4cg/qtspecs/issues/1114</a></div><p>Partial function application: Keywords and placeholders</p></div>
<div class="toot" id="closed-1065"><h2>Issue #1065 closed<span class="toot-id"> #closed-1065</span></h2><div class="pubdate">22 Oct at 16:12:16 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1065">https://github.com/qt4cg/qtspecs/issues/1065</a></div><p>fn:format-number: further notes</p></div>
<div class="toot" id="closed-735"><h2>Issue #735 closed<span class="toot-id"> #closed-735</span></h2><div class="pubdate">22 Oct at 16:12:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/735">https://github.com/qt4cg/qtspecs/issues/735</a></div><p>Local functions in XSLT</p></div>
<div class="toot" id="closed-573"><h2>Issue #573 closed<span class="toot-id"> #closed-573</span></h2><div class="pubdate">22 Oct at 16:12:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/573">https://github.com/qt4cg/qtspecs/issues/573</a></div><p>Node construction functions</p></div>
<div class="toot" id="closed-1512"><h2>Issue #1512 closed<span class="toot-id"> #closed-1512</span></h2><div class="pubdate">22 Oct at 16:11:33 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1512">https://github.com/qt4cg/qtspecs/issues/1512</a></div><p>Disallow reserved names in computed processing-instruction and namespace node constructors</p></div>
<div class="toot" id="closed-1513"><h2>Issue #1513 closed<span class="toot-id"> #closed-1513</span></h2><div class="pubdate">22 Oct at 16:11:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1513">https://github.com/qt4cg/qtspecs/pull/1513</a></div><p>1512 Disallow reserved names in namespace and PI constructors</p></div>
<div class="toot" id="closed-1458"><h2>Issue #1458 closed<span class="toot-id"> #closed-1458</span></h2><div class="pubdate">22 Oct at 16:08:19 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1458">https://github.com/qt4cg/qtspecs/issues/1458</a></div><p>Arguments that have a default value but don't accept ()</p></div>
<div class="toot" id="closed-1502"><h2>Issue #1502 closed<span class="toot-id"> #closed-1502</span></h2><div class="pubdate">22 Oct at 16:08:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1502">https://github.com/qt4cg/qtspecs/pull/1502</a></div><p>1458 Arguments that have a default value but don't accept ()</p></div>
<div class="toot" id="created-1523"><h2>Pull request #1523 created<span class="toot-id"> #created-1523</span></h2><div class="pubdate">22 Oct at 11:33:59 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1523">https://github.com/qt4cg/qtspecs/pull/1523</a></div><details><summary>148 New functions to get type information</summary><div class="markup"><p>Provides four new functions:</p>
<ul>
<li>node-kind</li>
<li>schema-type</li>
<li>atomic-type-annotation</li>
<li>node-type-annotation</li>
</ul>
<p>to return type information using a new record structure schema-record-type.</p>
<p>Fix #148
Partial Fix for #1271</p>
</div></details></div>
<div class="toot" id="created-1522"><h2>Issue #1522 created<span class="toot-id"> #created-1522</span></h2><div class="pubdate">21 Oct at 16:42:04 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1522">https://github.com/qt4cg/qtspecs/issues/1522</a></div><details><summary>Ambiguity in XSLT Pattern Grammar</summary><div class="markup"><p>I've tested the grammar against the ~500 distinct patterns in the stylesheets of the <code>attr/match</code> test sets (which is the largest collection I can find). As far as I can tell, there is one ambiguity inherent in the current grammar, which is not covered by notes, in that the pattern</p>
<pre><code>id()
</code></pre>
<p>(and similar for <code>element-with-id()</code>, <code>key()</code> and <code>root()</code>) can parse (in reduced form) in two ways:</p>
<pre><code>&lt;Pattern40 xmlns:ixml="http://invisiblexml.org/NS" ixml:state="ambiguous"&gt;
   &lt;RootedPath&gt;
      &lt;FunctionCallP&gt;
         &lt;OuterFunctionName&gt;id&lt;/OuterFunctionName&gt;
         &lt;ArgumentListP/&gt;
      &lt;/FunctionCallP&gt;
   &lt;/RootedPath&gt;
&lt;/Pattern40&gt;
&lt;Pattern40 xmlns:ixml="http://invisiblexml.org/NS" ixml:state="ambiguous"&gt;
   &lt;PostfixExprP&gt;
      &lt;FunctionCallP&gt;
         &lt;OuterFunctionName&gt;id&lt;/OuterFunctionName&gt;
         &lt;ArgumentListP/&gt;
      &lt;/FunctionCallP&gt;
   &lt;/PostfixExprP&gt;
&lt;/Pattern40&gt;
</code></pre>
<p>that is, there are two paths, via <code>RootedPath</code> and <code>RelativePathExprP/StepExprP/PostfixExprP</code> to get from <code>PathExprP</code> to <code>FunctionCallP</code></p>
</div></details></div>
<div class="toot" id="created-1521"><h2>Pull request #1521 created<span class="toot-id"> #created-1521</span></h2><div class="pubdate">21 Oct at 14:29:49 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1521">https://github.com/qt4cg/qtspecs/pull/1521</a></div><details><summary>Update the changed/new marks in the ToC</summary><div class="markup"><p>Fix #1357</p>
<p>This is a purely cosmetic PR. I think @ChristianGruen is right that it is unfortunate that we've lost the distinction between "new" and "only updated" functions. I'm trying to make that work again, in a way that's more visually distinct.</p>
<p>I have:</p>
<ol>
<li>Use <code>Δ</code> for changed sections.</li>
<li>Use <code>Δ➕</code> for new functions. (I'm making no effort to determine if non-function sections are new or changed; I doubt that it's either worth the effort or likely to be correct. One could argue that <code>➕</code> alone is sufficient, but I liked the consistency this way. Even new functions do change between drafts.)</li>
<li>Per @michaelhkay, a function is "new" if it doesn't appear on F&amp;O 3.1.</li>
<li>I found it distracting that the delta symbol preceded the ToC entry. That's purely aesthetic, I guess, but I've put them at the end.</li>
</ol>
<p>You can see the results here: https://qt4cgtest.nwalsh.com/branch/iss-1357/xpath-functions-40/Overview.html</p>
</div></details></div>
<div class="toot" id="created-1520"><h2>Issue #1520 created<span class="toot-id"> #created-1520</span></h2><div class="pubdate">21 Oct at 13:58:44 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1520">https://github.com/qt4cg/qtspecs/issues/1520</a></div><details><summary>Type declarations of cyclically dependent modules</summary><div class="markup"><p>The specification of <a href="https://qt4cg.org/specifications/xquery-40/xquery-40.html#id-item-type-declaration">Item Type Declarations</a> has this restriction:</p>
<blockquote>
<p>The declaration of an item type (whether locally declared in a module or imported from a public declaration in an imported module) must precede any use of the item type name: that is, the name only becomes available in the static context of constructs that lexically follow the relevant item type declaration or module import. A consequence of this rule is that cyclic and self-referential definitions are not allowed.</p>
</blockquote>
<p>But modules explicitly are allowed to have <a href="https://qt4cg.org/specifications/xquery-40/xquery-40.html#id-module-handling-cycles">cyclic dependencies</a>:</p>
<blockquote>
<p>Implementations must resolve cycles in the import graph, either at the level of target namespace URIs or at the level of location URIs, and ensure that each module is imported only once.</p>
</blockquote>
<p>Does that mean that the modules below are valid? They depend on each other, but the types that they define do not have a cyclic dependency. In particular, the use of each type lexically follows the relevant module import, as asked for.</p>
<p>If this case must be supported, the usefulness of the above restriction for XQuery processors is somewhat limited, IMO it compromises <a href="https://qt4cg.org/specifications/xquery-40/xquery-40.html#id-item-type-declaration">this suggestion</a> for handling declared types:</p>
<blockquote>
<p>Named item types have been designed so that a reference to an item type name can be expanded (that is, replaced by its definition) as soon as the reference is encountered during query parsing.</p>
</blockquote>
<pre><code class="language-xquery">(: a.xqm :)
module namespace a = 'a';
import module namespace b = 'b' at 'b.xqm';
declare type a:t1 as b:t2;
declare type a:t2 as xs:integer;
</code></pre>
<pre><code class="language-xquery">(: b.xqm :)
module namespace b = 'b';
import module namespace a = 'a' at 'a.xqm';
declare type b:t1 as a:t2;
declare type b:t2 as xs:integer;
</code></pre>
</div></details></div>
<div class="toot" id="created-1519"><h2>Issue #1519 created<span class="toot-id"> #created-1519</span></h2><div class="pubdate">21 Oct at 11:53:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1519">https://github.com/qt4cg/qtspecs/issues/1519</a></div><details><summary>Add `-or-self` variants of all relevant axes</summary><div class="markup"><p>Add the axes <code>preceding-or-self</code>, <code>following-or-self</code>, <code>preceding-sibling-or-self</code>, <code>following-sibling-or-self</code>, with the obvious meanings.</p>
<p>A minor convenience avoiding the frequent need to write things like <code>(. | preceding-sibling::*)[@x][last()]</code> ; especially useful because preceding-sibling-or-self returns results starting at the context node whereas <code>(. | preceding-sibling)</code> reverses the order.</p>
</div></details></div>
<div class="toot" id="agenda-10-21"><h2>QT4 CG meeting 095 draft agenda<span class="toot-id"> #agenda-10-21</span></h2><div class="pubdate">21 Oct at 10:15:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2024/10-21">https://qt4cg.org/meeting/agenda/2024/10-21</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-1518"><h2>Pull request #1518 created<span class="toot-id"> #created-1518</span></h2><div class="pubdate">20 Oct at 21:19:53 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1518">https://github.com/qt4cg/qtspecs/pull/1518</a></div><details><summary>Add to changes metadata</summary><div class="markup"><p>No issue raised.</p>
<p>Adds links from change metadata in the spec to issue and PR numbers in GitHub in many cases where these were previously missing.</p>
</div></details></div>
<div class="toot" id="created-1517"><h2>Pull request #1517 created<span class="toot-id"> #created-1517</span></h2><div class="pubdate">20 Oct at 21:13:30 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1517">https://github.com/qt4cg/qtspecs/pull/1517</a></div><details><summary>1516(A) Fix failing F&amp;O examples</summary><div class="markup"><p>Corrects many of the errors in tests identified in issue #1516</p>
</div></details></div>
<div class="toot" id="created-1516"><h2>Issue #1516 created<span class="toot-id"> #created-1516</span></h2><div class="pubdate">20 Oct at 17:42:02 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1516">https://github.com/qt4cg/qtspecs/issues/1516</a></div><details><summary>Test failures in app-spec-examples</summary><div class="markup"><p>I'm getting the following test failures (exluding ones where the Saxon implementation is known to be incomplete).</p>
<p><strong>fo-test-fn-csv-to-xml-004 to -010</strong></p>
<p>These are failing because the results are formatted with whitespace which the example expression does not actually generate.</p>
<p><strong>fo-test-fn-format-number-005</strong></p>
<p>Error on line 3 at column 16 (in expression on line 1116) of ... qt4tests/app/fo-spec-examples.xml
FODF1310  format-number picture: Digit sign must not appear after a zero-digit sign in the
integer part of a sub-picture</p>
<p>The test is format-number(12345, '0,###^0', {
'percent': '%:pc'
})
Result:	
"14pc"</p>
<p>which seems to be a complete aberration.</p>
<p><strong>fo-test-fn-format-number-008, -009, -010</strong></p>
<p>fail saying decimal-format 'de' is not defined. The dependency is documented in narrative prose, but is not codified so that the test generator knows about it.</p>
<p><strong>fo-test-fn-function-annotations-</strong>* **</p>
<p>failing because the examples use a non-existant function xs:QName#2. Probably fn:QName#2 is intended.</p>
<p>** fo-test-fn-highest-005 **
Error
XPST0142  Keyword key does not match the name of any declared parameter of function fn:highest</p>
<p>Possible Saxon bug ??</p>
<p><strong>fo-test-fn-hours-from-dateTime-007</strong></p>
<p>Example is incorrect - it calls year-from-dateTime not hours-from-dateTime</p>
<p><strong>fo-test-map-build-007</strong></p>
<p>Results are not deep-equal to the stated result -haven't established why. Possible whitespace issue.</p>
<p><strong>fo-test-map-pairs-001</strong></p>
<p>Getting "assert-permutation failed" from the Saxon test driver. Possible problem with the test driver?</p>
</div></details></div></div><p>See 3030
            more statuses in yearly archives.</p></article></main></body></html>