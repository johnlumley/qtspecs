<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="created-1429"><h2>Pull request #1429 created<span class="toot-id"> #created-1429</span></h2><div class="pubdate">08 Sep at 15:43:15 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1429">https://github.com/qt4cg/qtspecs/pull/1429</a></div><details><summary>Align type tests</summary><div class="markup"><p>fixes #1403</p>
<p>Allow Array and Map tests to omit the asterisk to match any array or map.</p>
<ul>
<li><code>array()</code> &lt;&gt; <code>array(*)</code></li>
<li><code>map()</code> &lt;&gt; <code>map(*)</code></li>
</ul>
</div></details></div>
<div class="toot" id="created-1428"><h2>Pull request #1428 created<span class="toot-id"> #created-1428</span></h2><div class="pubdate">07 Sep at 21:35:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1428">https://github.com/qt4cg/qtspecs/pull/1428</a></div><details><summary>1426 Add notes on endianness of CRC-32</summary><div class="markup"><p>Fix #1426 (partially; it would also be good to have a better citation to IEEE 802.3)</p>
</div></details></div>
<div class="toot" id="created-1427"><h2>Issue #1427 created<span class="toot-id"> #created-1427</span></h2><div class="pubdate">07 Sep at 08:27:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1427">https://github.com/qt4cg/qtspecs/issues/1427</a></div><details><summary>Add a function equivalent to xsl:number</summary><div class="markup"><p>I propose adding a function to perform node numbering in a manner analogous to xsl:number (but without the formatting aspects, which can be handled using format-integer, and without multi-level numbering).</p>
<p>I envisage a function along the following lines:</p>
<pre><code>node-number($node as element(), 
                         $from as (document-node()|element()), 
                         $count as fn($node as element()) as xs:boolean?)
   as xs:integer
</code></pre>
<p>The function returns the number of element nodes that satisfy all the following conditions:</p>
<ul>
<li>they are descendants of $from</li>
<li>they are preceding-or-self nodes of $node</li>
<li>they satisfy the $count predicate</li>
</ul>
<p>$node defaults to the context node. $from defaults to the parent of $node. $count defaults to a function that returns true for an element that has the same name as $node, false otherwise.</p>
<p>With no arguments, node-number() applied to (say) a <code>&lt;p&gt;</code> element returns the number of preceding-sibling <code>&lt;p&gt;</code> elements plus one. <em>[Not quite. Under this definition, it would also count <code>&lt;p&gt;</code> elements that are descendants of a preceding-sibling element]</em></p>
<p>The rationale for this proposal is (a) to make the core functionality of xsl:number available in environments other than XSLT, and (b) within XSLT, to make it available in contexts such as a predicate of a match pattern where it is currently difficult or impossible to invoke <code>xsl:number</code> except by wrapping it in a user-defined variable or function.</p>
</div></details></div>
<div class="toot" id="created-1426"><h2>Issue #1426 created<span class="toot-id"> #created-1426</span></h2><div class="pubdate">06 Sep at 17:48:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1426">https://github.com/qt4cg/qtspecs/issues/1426</a></div><details><summary>Byte ordering of CRC-32 hash result</summary><div class="markup"><p>Test case hash-str-034 takes a 150,000-character string consisting of 50,000 repetitions of the string "ABC", and computes its CRC-32 hash value.</p>
<p>On Java the result comes back as decimal 105475755, which we translate to 0x06496EAB</p>
<p>On C# the result comes back as a 4-byte array AB 6E 49 06. My guess is we need to reverse the byte order, but I'd like to understand why...</p>
<p>I guess we need to say something about byte ordering, but what?</p>
<p>I tried to find the definitive specification. We simply point to IEEE 802.3 without a specific URI or section or version number. 802.3 actually appears to be a large family of standards. Can we do better than that?</p>
<p>I'm interested to know whether the specification actually defines the result to be a 32-bit (unsigned?) integer rather than an array of four bytes. If that's the case, then our spec needs to say how the 32-bit integer is converted to a sequence of 4 octets, which is what fn:hash actually returns. The C# example shows that there's more than one way of doing it.</p>
</div></details></div>
<div class="toot" id="created-1425"><h2>Pull request #1425 created<span class="toot-id"> #created-1425</span></h2><div class="pubdate">04 Sep at 12:56:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1425">https://github.com/qt4cg/qtspecs/pull/1425</a></div><details><summary>1424 Fix typo</summary><div class="markup"><p>Close #1424</p>
<p>Thank you, Amanda.</p>
</div></details></div>
<div class="toot" id="created-1424"><h2>Issue #1424 created<span class="toot-id"> #created-1424</span></h2><div class="pubdate">04 Sep at 12:25:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1424">https://github.com/qt4cg/qtspecs/issues/1424</a></div><details><summary>Typo in XQuery spec: expresssions</summary><div class="markup"><p>The XQuery 3.1 spec and XQuery 4.0 draft spec both have an extra "s" in the word expressions, showing it as <code>expresssions</code>. The typo occurs in the C.1 Static Context Components section.</p>
<p>I know this repo is only for 4.0 work. Should I make a separate issue in the https://github.com/w3c/qtspecs repo?</p>
</div></details></div>
<div class="toot" id="created-1423"><h2>Pull request #1423 created<span class="toot-id"> #created-1423</span></h2><div class="pubdate">04 Sep at 10:01:19 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1423">https://github.com/qt4cg/qtspecs/pull/1423</a></div><details><summary>Clarify parse-uri/build-uri encoding rules, and remove options</summary><div class="markup"><p>This is a slightly more radical alternative to #1388</p>
<p>In addition to clarifying the encoding rules (maintaining slightly different rules for path segments, query parameters, and fragment identifiers), it removes the <code>path-separator</code> and <code>query-separator</code> options.</p>
</div></details></div>
<div class="toot" id="created-1422"><h2>Issue #1422 created<span class="toot-id"> #created-1422</span></h2><div class="pubdate">04 Sep at 09:17:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1422">https://github.com/qt4cg/qtspecs/issues/1422</a></div><details><summary>`fn:hash`: Revision</summary><div class="markup"><p>We should make the algorithm argument in the the function signature of <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-hash"><code>fn:hash</code></a> explicit and change the signature from…</p>
<pre><code class="language-xquery">fn:hash(
  $value    as (xs:string | xs:hexBinary | xs:base64Binary)?,	
  $options  as map(*)?  := {}
) as xs:hexBinary?
</code></pre>
<p>…to:</p>
<pre><code class="language-xquery">fn:hash(
  $value      as (xs:string | xs:hexBinary | xs:base64Binary)?,	
  $algorithm  as xs:string? := 'MD5',
  $options    as map(*)?  := {}
) as xs:hexBinary?
</code></pre>
<p>It will happen often enough that the function is used for algorithms other than MD5:</p>
<pre><code class="language-xquery">(: OLD :) hash("ABC", { "algorithm": "CRC-32" })
(: NEW :) hash("ABC", "CRC-32")
</code></pre>
</div></details></div>
<div class="toot" id="created-1421"><h2>Issue #1421 created<span class="toot-id"> #created-1421</span></h2><div class="pubdate">04 Sep at 09:05:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1421">https://github.com/qt4cg/qtspecs/issues/1421</a></div><details><summary>`fn:unix-time`: Revisions</summary><div class="markup"><p>In yesterday’s meeting, <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-unix-time"><code>fn:unix-time</code></a> was added to the spec. It was proposed to…</p>
<ol>
<li>drop support for negative values and</li>
<li>change the function name to <code>fn:unix-dateTime</code>.</li>
</ol>
<p>I sympathize with both suggestions. What do others think?</p>
</div></details></div>
<div class="toot" id="closed-1420"><h2>Issue #1420 closed<span class="toot-id"> #closed-1420</span></h2><div class="pubdate">04 Sep at 08:27:33 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1420">https://github.com/qt4cg/qtspecs/pull/1420</a></div><p>Markup fix</p></div>
<div class="toot" id="created-1420"><h2>Pull request #1420 created<span class="toot-id"> #created-1420</span></h2><div class="pubdate">04 Sep at 08:27:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1420">https://github.com/qt4cg/qtspecs/pull/1420</a></div><details><summary>Markup fix</summary><div class="markup"><p>There's a markup error in the hash function that breaks the automatic test build. This PR fixes that.</p>
<p>(I'm just going to merge this straight away.)</p>
</div></details></div>
<div class="toot" id="created-1419"><h2>Pull request #1419 created<span class="toot-id"> #created-1419</span></h2><div class="pubdate">03 Sep at 20:03:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1419">https://github.com/qt4cg/qtspecs/pull/1419</a></div><details><summary>1337bis Replace a few remaining occurrences of "atomic value"</summary><div class="markup"><p>Replace a few remaining occurrences of "atomic value" with "atomic item".</p>
</div></details></div>
<div class="toot" id="created-1418"><h2>Pull request #1418 created<span class="toot-id"> #created-1418</span></h2><div class="pubdate">03 Sep at 19:36:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1418">https://github.com/qt4cg/qtspecs/pull/1418</a></div><details><summary>1415 Add to lists of XSLT declarations and instructions</summary><div class="markup"><p>Fix #1415</p>
<p>Adds xsl:item-type to the list of declarations.
Adds xsl:array. xsl:map, and xsl:map-entry to the list of instructions.</p>
</div></details></div>
<div class="toot" id="created-1417"><h2>Pull request #1417 created<span class="toot-id"> #created-1417</span></h2><div class="pubdate">03 Sep at 19:25:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1417">https://github.com/qt4cg/qtspecs/pull/1417</a></div><details><summary>1408 Fix reference to "function conversion rules" in XPTY0117</summary><div class="markup"><p>Fix #1408</p>
</div></details></div>
<div class="toot" id="created-1416"><h2>Issue #1416 created<span class="toot-id"> #created-1416</span></h2><div class="pubdate">03 Sep at 18:39:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1416">https://github.com/qt4cg/qtspecs/issues/1416</a></div><details><summary>Key-value pairs: built-in record type `pair`</summary><div class="markup"><p>A built-in record type should be defined for <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#dt-key-value-pair-map">key-value pair maps</a>, which currently defined as follows…</p>
<blockquote>
<p>A key-value pair map is a map containing two entries, one (with the key <code>"key"</code>) containing the key part of a key value pair, the other (with the key <code>"value"</code>) containing the value part of a key value pair.</p>
</blockquote>
<p>…as we can expect them to be used more often in the future. Would it be possible/make sense to assign the record type to the <code>xs</code> namespace (<code>xs:pair</code>)?</p>
<p>In addition, we should…</p>
<ul>
<li>use it consistently in the text (XQFO, deep lookups, etc.),</li>
<li>replace existing <code>record(key as xs:anyAtomicType, value as item()*)</code> references with <code>xs:pair</code>, and</li>
<li>rename <code>$input</code> or <code>$map</code> arguments to <code>$pair</code>.</li>
</ul>
<p>Examples for function signatures to be updated:</p>
<pre><code class="language-xquery">map:of-pairs(
  $pairs    as xs:pair*,
  $combine  as fn(item()*, item()*) as item()* := fn:op(',')
) as map(*)

map:pair(
  $key    as xs:anyAtomicType,
  $value  as item()*	
) as xs:pair

map:pairs(
  $map  as map(*)	
) as xs:pair*
</code></pre>
<p>We could add numerous other record types, but maybe we can handle those in separate issue and keep this one focused on key/value pairs.</p>
</div></details></div>
<div class="toot" id="closed-1343"><h2>Issue #1343 closed<span class="toot-id"> #closed-1343</span></h2><div class="pubdate">03 Sep at 18:27:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1343">https://github.com/qt4cg/qtspecs/issues/1343</a></div><p>Drop the static typing feature</p></div>
<div class="toot" id="closed-1344"><h2>Issue #1344 closed<span class="toot-id"> #closed-1344</span></h2><div class="pubdate">03 Sep at 18:27:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1344">https://github.com/qt4cg/qtspecs/pull/1344</a></div><p>1343 Drop the static typing feature</p></div>
<div class="toot" id="closed-1337"><h2>Issue #1337 closed<span class="toot-id"> #closed-1337</span></h2><div class="pubdate">03 Sep at 18:23:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1337">https://github.com/qt4cg/qtspecs/issues/1337</a></div><p>Atomic value → atomic item</p></div>
<div class="toot" id="closed-1361"><h2>Issue #1361 closed<span class="toot-id"> #closed-1361</span></h2><div class="pubdate">03 Sep at 18:23:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1361">https://github.com/qt4cg/qtspecs/pull/1361</a></div><p>1337 Atomic value becomes atomic item</p></div>
<div class="toot" id="closed-959"><h2>Issue #959 closed<span class="toot-id"> #closed-959</span></h2><div class="pubdate">03 Sep at 17:20:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/959">https://github.com/qt4cg/qtspecs/issues/959</a></div><p>Milliseconds ↔ xs:dayTimeDuration, Unix time ↔ xs:dateTime</p></div>
<div class="toot" id="closed-1358"><h2>Issue #1358 closed<span class="toot-id"> #closed-1358</span></h2><div class="pubdate">03 Sep at 17:20:56 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1358">https://github.com/qt4cg/qtspecs/pull/1358</a></div><p>959 fn:unix-time</p></div>
<div class="toot" id="closed-1321"><h2>Issue #1321 closed<span class="toot-id"> #closed-1321</span></h2><div class="pubdate">03 Sep at 17:17:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1321">https://github.com/qt4cg/qtspecs/issues/1321</a></div><p>Leading lone slash</p></div>
<div class="toot" id="closed-1367"><h2>Issue #1367 closed<span class="toot-id"> #closed-1367</span></h2><div class="pubdate">03 Sep at 17:17:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1367">https://github.com/qt4cg/qtspecs/pull/1367</a></div><p>1321 leading lone slash</p></div>
<div class="toot" id="closed-1401"><h2>Issue #1401 closed<span class="toot-id"> #closed-1401</span></h2><div class="pubdate">03 Sep at 17:14:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1401">https://github.com/qt4cg/qtspecs/issues/1401</a></div><p>Casting from duration to string</p></div>
<div class="toot" id="closed-1409"><h2>Issue #1409 closed<span class="toot-id"> #closed-1409</span></h2><div class="pubdate">03 Sep at 17:14:44 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1409">https://github.com/qt4cg/qtspecs/pull/1409</a></div><p>1401 Rewrite of F+O section 20, Casting</p></div>
<div class="toot" id="closed-1368"><h2>Issue #1368 closed<span class="toot-id"> #closed-1368</span></h2><div class="pubdate">03 Sep at 17:14:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1368">https://github.com/qt4cg/qtspecs/issues/1368</a></div><p>Further improvements to BuiltInKeywords test needed</p></div>
<div class="toot" id="closed-1316"><h2>Issue #1316 closed<span class="toot-id"> #closed-1316</span></h2><div class="pubdate">03 Sep at 17:11:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1316">https://github.com/qt4cg/qtspecs/issues/1316</a></div><p>XPath: type declarations in quantified expressions</p></div>
<div class="toot" id="closed-1384"><h2>Issue #1384 closed<span class="toot-id"> #closed-1384</span></h2><div class="pubdate">03 Sep at 17:11:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1384">https://github.com/qt4cg/qtspecs/pull/1384</a></div><p>1316 Type declarations in quantified expressions</p></div>
<div class="toot" id="closed-1228"><h2>Issue #1228 closed<span class="toot-id"> #closed-1228</span></h2><div class="pubdate">03 Sep at 17:08:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1228">https://github.com/qt4cg/qtspecs/pull/1228</a></div><p>– Adding the BLAKE3 hashing algorithm to fn:hash</p></div>
<div class="toot" id="closed-1193"><h2>Issue #1193 closed<span class="toot-id"> #closed-1193</span></h2><div class="pubdate">03 Sep at 17:05:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1193">https://github.com/qt4cg/qtspecs/issues/1193</a></div><p>Parsing Functions: Empty input</p></div></div><p>See 2803
            more statuses in yearly archives.</p></article></main></body></html>