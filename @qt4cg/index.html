<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="created-1466"><h2>Pull request #1466 created<span class="toot-id"> #created-1466</span></h2><div class="pubdate">28 Sep at 09:34:49 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1466">https://github.com/qt4cg/qtspecs/pull/1466</a></div><details><summary>1464 Standardize on "implementer" spelling</summary><div class="markup"><p>Fix #1464</p>
</div></details></div>
<div class="toot" id="created-1465"><h2>Pull request #1465 created<span class="toot-id"> #created-1465</span></h2><div class="pubdate">28 Sep at 09:25:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1465">https://github.com/qt4cg/qtspecs/pull/1465</a></div><details><summary>1461 Generate correct tests for functions involving named record types</summary><div class="markup"><p>This PR addresses issue #1461 in a fairly narrow way, without attempting to tackle the deeper problem identified in issue #1336.</p>
<p>This involves expanding the <code>fos:type</code> entries for types such as <code>uri-structure-record</code> that are referenced in function signatures, resulting in some duplication with the <code>fos:record-description</code> entries that describe the same types in a different place.: hopefully the resolution to #1336 will resolve that duplication.</p>
</div></details></div>
<div class="toot" id="created-1464"><h2>Issue #1464 created<span class="toot-id"> #created-1464</span></h2><div class="pubdate">27 Sep at 12:56:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1464">https://github.com/qt4cg/qtspecs/issues/1464</a></div><details><summary>Inconsistent spelling: implementer or implementor?</summary><div class="markup"><p>We use both spellings.</p>
<p>oxfordreference.com says: Although the variant spelling implementor predominated for much of the late 20th century, today implementer is considered standard.</p>
<p>Personally, being a late 20th century kind of guy, I prefer "implementor", but we should be consistent.</p>
</div></details></div>
<div class="toot" id="created-1463"><h2>Issue #1463 created<span class="toot-id"> #created-1463</span></h2><div class="pubdate">25 Sep at 14:45:49 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1463">https://github.com/qt4cg/qtspecs/issues/1463</a></div><details><summary>fn:element-number: Feedback</summary><div class="markup"><ol>
<li>All other XQFO functions that have <code>.</code> as the default value for a node parameter (<code>fn:name</code>, etc.) return an empty sequence if the passed argument is an empty sequence. Could we use the same rule for <code>fn:element-number</code>?</li>
<li>The last example is incomplete; it must be <code>$e//section...</code></li>
<li>The last example should return <code>1.2</code> instead of <code>1.1</code>. If the given result is correct, the equivalent XPath expression needs to be revised.</li>
</ol>
<p>While it was a no-brainer to implement the function, its specification seems overwhelming to me. I eventually read all the notes, but at the end I was more confused than in the beginning ;·) It could be one of those functions that are more accessible to users than to implementors, though.</p>
<p>Still, maybe at least 1, 2 more examples could be provided? The last example goes into that direction, but it could be a bit cryptic for non-experts (e.g. it expects users to know that the result of <code>$s/ancestor-or-self::section</code> is returned in document order).</p>
<p>As this function seems to be mostly targeted to XSLT users, maybe we should offer XSLT examples. I assume that XQuery developers may rather be tempted to enumerate all children/descedants of a node, and write recursive code like…</p>
<pre><code class="language-xquery">declare function enumerate($element, $numbers) {
  for $child at $pos in $element/*
  let $n := $numbers || '.' || $pos
  return ($n, enumerate($child, $numbers || $n))
};
</code></pre>
<p>In general, if we were able to generalize the function in one way or another, that would be great.</p>
</div></details></div>
<div class="toot" id="created-1462"><h2>Issue #1462 created<span class="toot-id"> #created-1462</span></h2><div class="pubdate">25 Sep at 13:38:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1462">https://github.com/qt4cg/qtspecs/issues/1462</a></div><details><summary>fn:deep-equal: default option</summary><div class="markup"><p>The default value for the option parameter of <code>fn:deep-equal</code> is:</p>
<pre><code class="language-xquery">{ 'collation': fn:default-collation() }
</code></pre>
<p>Can we simply use <code>{}</code>, or is there a particular reason for mentioning the <code>collation</code> and no other option?</p>
</div></details></div>
<div class="toot" id="created-1461"><h2>Issue #1461 created<span class="toot-id"> #created-1461</span></h2><div class="pubdate">24 Sep at 16:34:30 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1461">https://github.com/qt4cg/qtspecs/issues/1461</a></div><details><summary>### Errors in `misc/BuiltinKeywords`</summary><div class="markup"><pre><code>          ### Errors in `misc/BuiltinKeywords`
</code></pre>
<p>Test cases <code>Keywords-fn-parse-html-1</code> and <code>Keywords-fn-build-uri-1</code> contain invalid function signatures, caused I think by a bug in <code>generate-keyword-test-set.xsl</code>. Both seem to omit the <code>SequenceType</code> of one of the arguments:</p>
<pre><code> fn:parse-html(html := ?, options := ?) instance of 
    function((xs:string | xs:hexBinary | xs:base64Binary)?, ) as document-node(element(*:html))?
</code></pre>
<pre><code>fn:build-uri(parts := ?, options := ?) instance of function(, map(*)?) as xs:string
</code></pre>
<p>Examining <code>generate-keyword-test-set.xsl</code> shows:</p>
<pre><code>&lt;xsl:for-each select="arg"&gt;
      &lt;xsl:if test="position() != 1"&gt;, &lt;/xsl:if&gt;
      &lt;xsl:text&gt;{@type}&lt;/xsl:text&gt;
&lt;/xsl:for-each&gt;
</code></pre>
<p>but for these two function definitions, type information is indirected via a <code>@type-ref</code> attribute:</p>
<pre><code>&lt;fos:proto name="parse-html" return-type="document-node(element(*:html))?"&gt;
        &lt;fos:arg name="html" type="(xs:string | xs:hexBinary | xs:base64Binary)?"/&gt;
        &lt;fos:arg name="options" type-ref="parse-html-options"
                     default="{
                                 &amp;quot;method&amp;quot;: &amp;quot;html&amp;quot;,
                                 &amp;quot;html-version&amp;quot;: &amp;quot;5&amp;quot;
                              }"/&gt;
 &lt;/fos:proto&gt;
</code></pre>
<p>and</p>
<pre><code>&lt;fos:proto name="build-uri" return-type="xs:string"&gt;
            &lt;fos:arg name="parts" type-ref="uri-structure-record"
               example='{
               "scheme": "https",
               "host": "qt4cg.org",
               "port": (),
               "path": "/specifications/index.html"
               }'/&gt;
            &lt;fos:arg name="options" type="map(*)?" default="{}"/&gt;
&lt;/fos:proto&gt;
</code></pre>
<p><em>Originally posted by @johnlumley in https://github.com/qt4cg/qtspecs/issues/1451#issuecomment-2358082401</em></p>
</div></details></div>
<div class="toot" id="closed-1451"><h2>Issue #1451 closed<span class="toot-id"> #closed-1451</span></h2><div class="pubdate">24 Sep at 16:30:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1451">https://github.com/qt4cg/qtspecs/issues/1451</a></div><p>Minor syntax errors in FO examples</p></div>
<div class="toot" id="closed-1453"><h2>Issue #1453 closed<span class="toot-id"> #closed-1453</span></h2><div class="pubdate">24 Sep at 16:30:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1453">https://github.com/qt4cg/qtspecs/pull/1453</a></div><p>Fix typo in load-xquery-module example</p></div>
<div class="toot" id="closed-1235"><h2>Issue #1235 closed<span class="toot-id"> #closed-1235</span></h2><div class="pubdate">24 Sep at 16:27:46 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1235">https://github.com/qt4cg/qtspecs/issues/1235</a></div><p>Function Identity: Treating function items with identical bodies</p></div>
<div class="toot" id="closed-1439"><h2>Issue #1439 closed<span class="toot-id"> #closed-1439</span></h2><div class="pubdate">24 Sep at 16:27:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1439">https://github.com/qt4cg/qtspecs/pull/1439</a></div><p>1235 Function Identity: Treating function items with identical bodies</p></div>
<div class="toot" id="closed-1435"><h2>Issue #1435 closed<span class="toot-id"> #closed-1435</span></h2><div class="pubdate">24 Sep at 16:24:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1435">https://github.com/qt4cg/qtspecs/pull/1435</a></div><p>1421 fn:unix-time: Revisions</p></div>
<div class="toot" id="closed-1421"><h2>Issue #1421 closed<span class="toot-id"> #closed-1421</span></h2><div class="pubdate">24 Sep at 16:24:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1421">https://github.com/qt4cg/qtspecs/issues/1421</a></div><p>`fn:unix-time`: Revisions</p></div>
<div class="toot" id="closed-1422"><h2>Issue #1422 closed<span class="toot-id"> #closed-1422</span></h2><div class="pubdate">24 Sep at 16:21:25 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1422">https://github.com/qt4cg/qtspecs/issues/1422</a></div><p>`fn:hash`: Revision</p></div>
<div class="toot" id="closed-1433"><h2>Issue #1433 closed<span class="toot-id"> #closed-1433</span></h2><div class="pubdate">24 Sep at 16:21:24 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1433">https://github.com/qt4cg/qtspecs/pull/1433</a></div><p>1422 fn:hash: Revision</p></div>
<div class="toot" id="closed-1427"><h2>Issue #1427 closed<span class="toot-id"> #closed-1427</span></h2><div class="pubdate">24 Sep at 16:18:02 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1427">https://github.com/qt4cg/qtspecs/issues/1427</a></div><p>Add a function equivalent to xsl:number</p></div>
<div class="toot" id="closed-1430"><h2>Issue #1430 closed<span class="toot-id"> #closed-1430</span></h2><div class="pubdate">24 Sep at 16:18:01 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1430">https://github.com/qt4cg/qtspecs/pull/1430</a></div><p>1427 Add element-number function</p></div>
<div class="toot" id="closed-1373"><h2>Issue #1373 closed<span class="toot-id"> #closed-1373</span></h2><div class="pubdate">24 Sep at 16:14:58 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1373">https://github.com/qt4cg/qtspecs/issues/1373</a></div><p>XQFO: Editorial</p></div>
<div class="toot" id="closed-1434"><h2>Issue #1434 closed<span class="toot-id"> #closed-1434</span></h2><div class="pubdate">24 Sep at 16:14:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1434">https://github.com/qt4cg/qtspecs/pull/1434</a></div><p>1373 XQFO: Editorial</p></div>
<div class="toot" id="closed-1322"><h2>Issue #1322 closed<span class="toot-id"> #closed-1322</span></h2><div class="pubdate">24 Sep at 16:11:55 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1322">https://github.com/qt4cg/qtspecs/issues/1322</a></div><p>fn:collation-available (editorial)</p></div>
<div class="toot" id="closed-1438"><h2>Issue #1438 closed<span class="toot-id"> #closed-1438</span></h2><div class="pubdate">24 Sep at 16:11:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1438">https://github.com/qt4cg/qtspecs/pull/1438</a></div><p>1322 fn:collation-available (editorial)</p></div>
<div class="toot" id="created-1460"><h2>Pull request #1460 created<span class="toot-id"> #created-1460</span></h2><div class="pubdate">24 Sep at 16:11:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1460">https://github.com/qt4cg/qtspecs/pull/1460</a></div><details><summary>1323b Function parameters names: $uri → $source</summary><div class="markup"><p>Second attempt. Closes #1323 and #1436.</p>
<p>In addition, includes a change to <code>fn:json-doc($uri)</code>, and fixed an editorial bug for the <code>fn:escape-html-uri</code> function.</p>
</div></details></div>
<div class="toot" id="closed-1444"><h2>Issue #1444 closed<span class="toot-id"> #closed-1444</span></h2><div class="pubdate">24 Sep at 16:08:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1444">https://github.com/qt4cg/qtspecs/pull/1444</a></div><p>Implement improvement to bibligraphy entry for IEEE 802.3</p></div>
<div class="toot" id="closed-1446"><h2>Issue #1446 closed<span class="toot-id"> #closed-1446</span></h2><div class="pubdate">24 Sep at 16:05:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1446">https://github.com/qt4cg/qtspecs/issues/1446</a></div><p>Limits on xs:dateTime</p></div>
<div class="toot" id="closed-1447"><h2>Issue #1447 closed<span class="toot-id"> #closed-1447</span></h2><div class="pubdate">24 Sep at 16:05:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1447">https://github.com/qt4cg/qtspecs/pull/1447</a></div><p>1446 Rephrase conformance rule on xs:dateTime limits</p></div>
<div class="toot" id="created-1459"><h2>Issue #1459 created<span class="toot-id"> #created-1459</span></h2><div class="pubdate">24 Sep at 14:59:22 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1459">https://github.com/qt4cg/qtspecs/issues/1459</a></div><details><summary>Function properties and arities (editorial)</summary><div class="markup"><p>I try to understand the semantics behind the <strong>Properties</strong> section in the XQFO spec. Here are some examples of existing functions:</p>
<ol>
<li><code>fn:format-integer</code></li>
</ol>
<blockquote>
<p>The two-argument form of this function is ·deterministic·, ·context-dependent·, and ·focus-independent·. It depends on default language.
The three-argument form of this function is ·deterministic·, ·context-independent·, and ·focus-independent·.</p>
</blockquote>
<ol start="2">
<li><code>fn:format-time</code></li>
</ol>
<blockquote>
<p>This function is ·deterministic·, ·context-dependent·, and ·focus-independent·. It depends on default calendar, and default language, and default place, and implicit timezone.</p>
</blockquote>
<ol start="3">
<li><code>fn:index-of</code></li>
</ol>
<blockquote>
<p>The two-argument form of this function is ·deterministic·, ·context-dependent·, and ·focus-independent·. It depends on collations, and implicit timezone.
The three-argument form of this function is ·deterministic·, ·context-dependent·, and ·focus-independent·. It depends on collations, and static base URI, and implicit timezone.</p>
</blockquote>
<ol start="4">
<li><code>fn:element-number</code></li>
</ol>
<blockquote>
<p>The zero-argument form of this function is ·deterministic·, ·context-dependent·, and ·focus-dependent·.
The one-argument form of this function is ·deterministic·, ·context-independent·, and ·focus-independent·.
The two-argument form of this function is ·deterministic·, ·context-independent·, and ·focus-independent·.
The three-argument form of this function is ·deterministic·, ·context-independent·, and ·focus-independent·.</p>
</blockquote>
<p>I am afraid I cannot give hints for improvement yet; I just noticed it is increasingly difficult to interpret. For the moment, I wonder…</p>
<ol>
<li>Are all of these current definitions correct?</li>
<li>In many cases, if the user supplies an empty sequence as argument, the default value is used instead. This contrasts with the current property description that relies a lot on the function arities. For example, <code>fn:index($a, $b)</code> and <code>fn:index-of($a, $b, ())</code> should have identical properties, but the current wording implies that the three-argument of this function has different properties, e.g., it is said to rely in this case on the static base URI.</li>
<li>Some functions with default values have a single property description (see <code>fn:format-integer</code>), other have multiple descriptions (see <code>fn:format-time</code>). Is there a particular rule behind that?</li>
<li>Could we merge the descriptions for arities with identical properties?</li>
<li>Maybe it will be easier not to consider the arities at all anymore?</li>
</ol>
</div></details></div>
<div class="toot" id="closed-1396"><h2>Issue #1396 closed<span class="toot-id"> #closed-1396</span></h2><div class="pubdate">24 Sep at 14:44:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1396">https://github.com/qt4cg/qtspecs/issues/1396</a></div><p>Rendition of EBNF syntax scraps</p></div>
<div class="toot" id="created-1458"><h2>Issue #1458 created<span class="toot-id"> #created-1458</span></h2><div class="pubdate">19 Sep at 08:04:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1458">https://github.com/qt4cg/qtspecs/issues/1458</a></div><details><summary>Arguments that have a default value but don't accept ()</summary><div class="markup"><p>The following functions define an argument that has a default value, but don't allow () to be supplied explicitly:</p>
<pre><code>lang
id
element-with-id
idref
parse-html
</code></pre>
<p>As determined by running the following query against the function catalog:</p>
<p><code>//*:arg[@default and not(ends-with(@type,'?') or ends-with(@type, '*'))]/(ancestor::*:function/(@prefix||':'||@name))</code></p>
<p>There are others which this query doesn't pick up, mainly where the defaultable argument is a function, including:</p>
<p>array:build
map:build
array:get
map:get
fn:highest
fn:lowest</p>
</div></details></div>
<div class="toot" id="closed-1224"><h2>Issue #1224 closed<span class="toot-id"> #closed-1224</span></h2><div class="pubdate">18 Sep at 21:57:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1224">https://github.com/qt4cg/qtspecs/issues/1224</a></div><p>Attribute priority for xsl:accumulator-rule</p></div>
<div class="toot" id="closed-409"><h2>Issue #409 closed<span class="toot-id"> #closed-409</span></h2><div class="pubdate">18 Sep at 21:49:53 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/409">https://github.com/qt4cg/qtspecs/issues/409</a></div><p>XSLT: xsl:next-match and xsl:apply-imports interaction with on-multiple-match</p></div>
<div class="toot" id="closed-296"><h2>Issue #296 closed<span class="toot-id"> #closed-296</span></h2><div class="pubdate">18 Sep at 21:34:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/296">https://github.com/qt4cg/qtspecs/issues/296</a></div><p>Default namespace for elements; especially in the context of HTML</p></div></div><p>See 2899
            more statuses in yearly archives.</p></article></main></body></html>