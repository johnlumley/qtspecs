<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="created-1585"><h2>Pull request #1585 created<span class="toot-id"> #created-1585</span></h2><div class="pubdate">18 Nov at 11:28:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1585">https://github.com/qt4cg/qtspecs/pull/1585</a></div><details><summary>Update RELAX NG grammar for XSLT</summary><div class="markup"><p>This PR updates the RELAX NG grammar to be (more) consistent with the XSD grammar (and consequently more correct for XSLT 4.0)</p>
<ol>
<li>Relaxes the definition of QNames so that prefixes declared with <code>fixed-namespaces</code> can be supported</li>
<li>Adds the <code>fixed-namespaces</code> attribute to <code>xsl:stylesheet</code>, <code>xsl:transform</code>, and <code>xsl:package</code></li>
<li>Adds the <code>xsl:switch</code> element</li>
<li>Adds the <code>xsl:array</code> and <code>xsl:array-member</code> elements</li>
<li>Adds <code>shallow-copy-all</code> to the possible values for <code>on-no-match</code></li>
<li>Adds <code>separator</code> to <code>xsl:apply-templates</code></li>
<li>Removes <code>select</code> attribute from <code>xsl:copy</code></li>
<li>Adds <code>as</code> attribute to <code>xsl:sequence</code></li>
<li>Updated the declarations for <code>xsl:accumulator-rule</code>, <code>xsl:array</code>, <code>xsl:array-member</code>, <code>xsl:attribute</code>, <code>xsl:catch</code>, <code>xsl:comment</code>, <code>xsl:map-entry</code>, <code>xsl:matching-substring</code>, <code>xsl:message</code>, <code>xsl:namespace</code>, <code>xsl:non-matching-substring</code>, <code>xsl:on-empty</code>, <code>xsl:on-non-empty</code>, <code>xsl:otherwise</code>, <code>xsl:param</code>, <code>xsl:processing-instruction</code>, <code>xsl:sequence</code>, <code>xsl:sort</code>, <code>xsl:value-of</code>, <code>xsl:variable</code>, <code>xsl:when</code>, and <code>xsl:with-param</code> so that they accept <em>either</em> a <code>select</code> attribute or a sequence constructor</li>
</ol>
<p>More changes may also be required. A comprehensive comparision of the RNC and XSD schemas is needed, #1584</p>
</div></details></div>
<div class="toot" id="created-1584"><h2>Issue #1584 created<span class="toot-id"> #created-1584</span></h2><div class="pubdate">18 Nov at 11:28:31 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1584">https://github.com/qt4cg/qtspecs/issues/1584</a></div><details><summary>Review the XML Schema and RELAX NG schemas for XSLT 4.0 for compatibility</summary><div class="markup"><p>It's likely that we've allowed them to drift.</p>
</div></details></div>
<div class="toot" id="created-1583"><h2>Issue #1583 created<span class="toot-id"> #created-1583</span></h2><div class="pubdate">18 Nov at 11:17:33 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1583">https://github.com/qt4cg/qtspecs/issues/1583</a></div><details><summary>JSON: Parsing and serializing numbers, often undesired E notation</summary><div class="markup"><p>If JSON numbers are converted to XML and serialized as JSON, it is confusing to end up with an E notation for large numbers. An example:</p>
<pre><code class="language-xquery">'100000000000000000000'
=&gt; parse-json()
=&gt; serialize(map { 'method': 'json' })
</code></pre>
<p>Obviously, lossless roundtripping is not possible (<code>1e20</code> is a valid JSON number, so we cannot distinguish it from <code>100000000000000000000</code>), but as the E notation is much less common than integers, maybe we could try to return more numbers in their integer representation if the result would be equivalent?</p>
<p>Related: #1445</p>
</div></details></div>
<div class="toot" id="created-1582"><h2>Pull request #1582 created<span class="toot-id"> #created-1582</span></h2><div class="pubdate">18 Nov at 11:08:39 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1582">https://github.com/qt4cg/qtspecs/pull/1582</a></div><details><summary>767 Fix reference to HTML5 spec</summary><div class="markup"><p>The reference to ยง13.2.9 of the WhatWG DOM spec should be a reference to ยง13.2.9 of the WhatWG HTML spec.</p>
<p>Fix #767</p>
</div></details></div>
<div class="toot" id="closed-854"><h2>Issue #854 closed<span class="toot-id"> #closed-854</span></h2><div class="pubdate">18 Nov at 10:29:41 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/854">https://github.com/qt4cg/qtspecs/issues/854</a></div><p>Need more discussion and explanation of deep-lookup operator</p></div>
<div class="toot" id="closed-1392"><h2>Issue #1392 closed<span class="toot-id"> #closed-1392</span></h2><div class="pubdate">18 Nov at 09:29:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1392">https://github.com/qt4cg/qtspecs/issues/1392</a></div><p>`element(a|b)` vs `(element(a)|element(b))`</p></div>
<div class="toot" id="created-1581"><h2>Pull request #1581 created<span class="toot-id"> #created-1581</span></h2><div class="pubdate">17 Nov at 19:32:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1581">https://github.com/qt4cg/qtspecs/pull/1581</a></div><details><summary>69 Add default for current-merge-group $source</summary><div class="markup"><p>I found that the two functions mentioned in the issue (document and function-available) had been updated as suggested. However I also checked all the XSLT-specific functions, and found that for current-merge-group(), the prose has been updated to say what happens if the argument is omitted, but the signature does not actually define a default. I have corrected this.</p>
<p>Fix #69</p>
</div></details></div>
<div class="toot" id="closed-1035"><h2>Issue #1035 closed<span class="toot-id"> #closed-1035</span></h2><div class="pubdate">17 Nov at 10:53:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1035">https://github.com/qt4cg/qtspecs/issues/1035</a></div><p>Add default values for parameters in constructor functions for records</p></div>
<div class="toot" id="created-1580"><h2>Pull request #1580 created<span class="toot-id"> #created-1580</span></h2><div class="pubdate">17 Nov at 10:43:20 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1580">https://github.com/qt4cg/qtspecs/pull/1580</a></div><p>1462 Change default for deep-equal options</p></div>
<div class="toot" id="created-1579"><h2>Issue #1579 created<span class="toot-id"> #created-1579</span></h2><div class="pubdate">17 Nov at 06:01:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1579">https://github.com/qt4cg/qtspecs/issues/1579</a></div><details><summary>Allow $key in map:contains to be empty</summary><div class="markup"><p>I wonder if we could relax the 3rd line of the current signature...</p>
<pre><code>map:contains(
   $map	as map(*),	
   $key	as xs:anyAtomicType	
) as xs:boolean
</code></pre>
<p>...to:</p>
<pre><code>   $key	as xs:anyAtomicType?	
</code></pre>
<p>It hit me tonight, as I was running a lengthy operation, and some nulls were passed to <code>key</code>. I expected the function to return false, not raise an error.</p>
</div></details></div>
<div class="toot" id="created-1578"><h2>Pull request #1578 created<span class="toot-id"> #created-1578</span></h2><div class="pubdate">16 Nov at 17:23:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1578">https://github.com/qt4cg/qtspecs/pull/1578</a></div><details><summary>1493 Expand the rules for handling numbers in xml-to-json</summary><div class="markup"><p>I have (a) added more explanation of why the conversion is needed, and (b) described the conversions more prescriptively.</p>
<p>Fix #1493</p>
</div></details></div>
<div class="toot" id="created-1577"><h2>Pull request #1577 created<span class="toot-id"> #created-1577</span></h2><div class="pubdate">14 Nov at 22:43:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1577">https://github.com/qt4cg/qtspecs/pull/1577</a></div><details><summary>1491 Empty record types</summary><div class="markup"><p>As well as allowing <code>record()</code> for an empty record type as proposed in #1491, this PR also allows named record declarations in XQuery to have no fields. In the course of implementing this I discovered there was old text in the F&amp;O "Constructors" section which duplicated but had become out of sync with the XQuery spec, so much of this has been deleted and replaced with a cross-reference. Named record definitions for XSLT have not yet been defined, this is unfinished business.</p>
<p>Fix #1491</p>
</div></details></div>
<div class="toot" id="created-1576"><h2>Pull request #1576 created<span class="toot-id"> #created-1576</span></h2><div class="pubdate">14 Nov at 21:55:17 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1576">https://github.com/qt4cg/qtspecs/pull/1576</a></div><details><summary>1574 Mark some productions as XQuery only</summary><div class="markup"><p>Marks the relevant production rules as XQuery-only</p>
<p>Fix #1574</p>
</div></details></div>
<div class="toot" id="closed-529"><h2>Issue #529 closed<span class="toot-id"> #closed-529</span></h2><div class="pubdate">14 Nov at 00:21:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/529">https://github.com/qt4cg/qtspecs/pull/529</a></div><p>528 fn:elements-to-maps</p></div>
<div class="toot" id="created-1575"><h2>Pull request #1575 created<span class="toot-id"> #created-1575</span></h2><div class="pubdate">14 Nov at 00:20:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1575">https://github.com/qt4cg/qtspecs/pull/1575</a></div><details><summary>528bis element to map</summary><div class="markup"><p>Supersedes #529
Fix #528</p>
<p>Coming back to this after a long gap, I have redrafted the proposal. I've tried to take as many of the comments into account as possible, but I'm aware that I haven't responded to them all.</p>
</div></details></div>
<div class="toot" id="created-1574"><h2>Issue #1574 created<span class="toot-id"> #created-1574</span></h2><div class="pubdate">13 Nov at 15:53:58 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1574">https://github.com/qt4cg/qtspecs/issues/1574</a></div><details><summary>Grammar productions missing spec conditionality</summary><div class="markup"><p>The XPath grammar currently projects the following productions, which appear to be only relevant to XQuery, are not reachable from the <code>XPath</code> root, and either lack an <code>if="xquery40"</code> condition, or wrongly have <code>xpath40</code> in the condition:</p>
<p><code>ExtendedFieldDeclaration</code>, <code>ParamListWithDefaults</code>,<code>ParamWithDefault</code></p>
<p>In fact, the grammar doesn't allow default values for arguments of inline functions.  Is this the case?</p>
</div></details></div>
<div class="toot" id="closed-1546"><h2>Issue #1546 closed<span class="toot-id"> #closed-1546</span></h2><div class="pubdate">13 Nov at 00:42:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1546">https://github.com/qt4cg/qtspecs/pull/1546</a></div><p>1538 Add XSLT support for json-lines</p></div>
<div class="toot" id="closed-1538"><h2>Issue #1538 closed<span class="toot-id"> #closed-1538</span></h2><div class="pubdate">13 Nov at 00:42:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1538">https://github.com/qt4cg/qtspecs/issues/1538</a></div><p>Add XSLT support for the new json-lines serialization option</p></div>
<div class="toot" id="created-1573"><h2>Pull request #1573 created<span class="toot-id"> #created-1573</span></h2><div class="pubdate">13 Nov at 00:35:21 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1573">https://github.com/qt4cg/qtspecs/pull/1573</a></div><details><summary>1552 Change fn:siblings to include self in all cases</summary><div class="markup"><p>Fix #1552</p>
</div></details></div>
<div class="toot" id="closed-1572"><h2>Issue #1572 closed<span class="toot-id"> #closed-1572</span></h2><div class="pubdate">12 Nov at 18:05:02 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1572">https://github.com/qt4cg/qtspecs/pull/1572</a></div><p>Fix markup error</p></div>
<div class="toot" id="created-1572"><h2>Pull request #1572 created<span class="toot-id"> #created-1572</span></h2><div class="pubdate">12 Nov at 18:04:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1572">https://github.com/qt4cg/qtspecs/pull/1572</a></div><details><summary>Fix markup error</summary><div class="markup"><p>Merging allowed a <code>changes</code> block to become split into two blocks, which isn't allowed.</p>
</div></details></div>
<div class="toot" id="minutes-11-12"><h2>QT4 CG meeting 098 draft minutes<span class="toot-id"> #minutes-11-12</span></h2><div class="pubdate">12 Nov at 18:00:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2024/11-12">https://qt4cg.org/meeting/minutes/2024/11-12</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-1449"><h2>Issue #1449 closed<span class="toot-id"> #closed-1449</span></h2><div class="pubdate">12 Nov at 17:50:53 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1449">https://github.com/qt4cg/qtspecs/issues/1449</a></div><p>Discussion: include/import of files.</p></div>
<div class="toot" id="closed-1454"><h2>Issue #1454 closed<span class="toot-id"> #closed-1454</span></h2><div class="pubdate">12 Nov at 17:50:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1454">https://github.com/qt4cg/qtspecs/pull/1454</a></div><p>1449 Relax rules on multiple xsl:includes</p></div>
<div class="toot" id="closed-1540"><h2>Issue #1540 closed<span class="toot-id"> #closed-1540</span></h2><div class="pubdate">12 Nov at 17:48:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1540">https://github.com/qt4cg/qtspecs/issues/1540</a></div><p>XSLT: self-reference in global variables</p></div>
<div class="toot" id="closed-1544"><h2>Issue #1544 closed<span class="toot-id"> #closed-1544</span></h2><div class="pubdate">12 Nov at 17:48:41 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1544">https://github.com/qt4cg/qtspecs/pull/1544</a></div><p>Allow (some) self-references in global variables</p></div>
<div class="toot" id="closed-1548"><h2>Issue #1548 closed<span class="toot-id"> #closed-1548</span></h2><div class="pubdate">12 Nov at 17:47:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1548">https://github.com/qt4cg/qtspecs/issues/1548</a></div><p>Managing indentation parameters for serialization</p></div>
<div class="toot" id="closed-1560"><h2>Issue #1560 closed<span class="toot-id"> #closed-1560</span></h2><div class="pubdate">12 Nov at 17:47:31 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1560">https://github.com/qt4cg/qtspecs/pull/1560</a></div><p>1548 Clarify default for xsl:output/@indent</p></div>
<div class="toot" id="closed-689"><h2>Issue #689 closed<span class="toot-id"> #closed-689</span></h2><div class="pubdate">12 Nov at 17:45:04 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/689">https://github.com/qt4cg/qtspecs/issues/689</a></div><p>fn:stack-trace: replace with $err:stack-trace</p></div>
<div class="toot" id="closed-1470"><h2>Issue #1470 closed<span class="toot-id"> #closed-1470</span></h2><div class="pubdate">12 Nov at 17:45:02 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1470">https://github.com/qt4cg/qtspecs/pull/1470</a></div><p>689 fn:stack-trace: replace with $err:stack-trace</p></div></div><p>See 3165
            more statuses in yearly archives.</p></article></main></body></html>