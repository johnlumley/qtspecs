<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="agenda-10-29"><h2>QT4 CG meeting 096 draft agenda<span class="toot-id"> #agenda-10-29</span></h2><div class="pubdate">28 Oct at 10:45:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2024/10-29">https://qt4cg.org/meeting/agenda/2024/10-29</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-1534"><h2>Issue #1534 created<span class="toot-id"> #created-1534</span></h2><div class="pubdate">28 Oct at 10:03:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1534">https://github.com/qt4cg/qtspecs/issues/1534</a></div><details><summary>Allow xsl:result-document/@select</summary><div class="markup"><p>Nearly all XSLT instructions that accept a sequence constructor also allow the input to be supplied using a select expression.</p>
<p><code>xsl:result-document</code> is an exception.</p>
<p>A particular use case for this is with a multi-phase transformation where you want to capture the result of the first phase of processing in a variable, and then output it before further processing, perhaps for diagnostics or perhaps because the processing pipeline branches.</p>
</div></details></div>
<div class="toot" id="created-1533"><h2>Pull request #1533 created<span class="toot-id"> #created-1533</span></h2><div class="pubdate">27 Oct at 19:42:22 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1533">https://github.com/qt4cg/qtspecs/pull/1533</a></div><details><summary>Actions QT4CG-095-01 and -02 - follow-up on computed node constructors</summary><div class="markup"><ol>
<li>Adds advice and guidance on avoiding reserved words</li>
<li>Drops XQuery-specific material from the XPath spec</li>
<li>Adds a paragraph to the incompatibilities appendix</li>
</ol>
</div></details></div>
<div class="toot" id="created-1532"><h2>Pull request #1532 created<span class="toot-id"> #created-1532</span></h2><div class="pubdate">25 Oct at 12:03:41 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1532">https://github.com/qt4cg/qtspecs/pull/1532</a></div><details><summary>1519 Add -or-self axes</summary><div class="markup"><p>Fix #1519</p>
</div></details></div>
<div class="toot" id="created-1531"><h2>Pull request #1531 created<span class="toot-id"> #created-1531</span></h2><div class="pubdate">25 Oct at 11:12:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1531">https://github.com/qt4cg/qtspecs/pull/1531</a></div><details><summary>1499 Deduplicate text relating to unused serialization parameters</summary><div class="markup"><p>Fix #1499</p>
</div></details></div>
<div class="toot" id="created-1530"><h2>Pull request #1530 created<span class="toot-id"> #created-1530</span></h2><div class="pubdate">25 Oct at 10:32:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1530">https://github.com/qt4cg/qtspecs/pull/1530</a></div><details><summary>1500 New XSLT character-map() function</summary><div class="markup"><p>Fix #1500</p>
</div></details></div>
<div class="toot" id="created-1529"><h2>Pull request #1529 created<span class="toot-id"> #created-1529</span></h2><div class="pubdate">25 Oct at 09:16:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1529">https://github.com/qt4cg/qtspecs/pull/1529</a></div><details><summary>1525 Add notes on enumeration types</summary><div class="markup"><p>Fix #1525</p>
</div></details></div>
<div class="toot" id="created-1528"><h2>Issue #1528 created<span class="toot-id"> #created-1528</span></h2><div class="pubdate">24 Oct at 07:25:30 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1528">https://github.com/qt4cg/qtspecs/issues/1528</a></div><details><summary>Computed node constructors: observations</summary><div class="markup"><p>Observations/conclusions from the exchange on <a href="https://xmlcom.slack.com/archives/C01GVC3JLHE/p1729683669891659">Slack</a> regarding computed node constructors:</p>
<ol>
<li>We should highlight the breaking change in the appendix: J.1 Incompatibilities relative to XQuery 3.1.</li>
<li>We should present a list of keywords which is ambiguous and exclude other ones (like e.g. <code>count</code> or <code>value</code>)</li>
<li>Maybe we should generally discourage users from using the legacy NCName syntax, and remove corresponding examples in the spec, as further versions of the language may lead to new incompatibilities.</li>
<li>Syntax errors in quoted element names were should already be detected at parse time, for example by using pseudo quotes:</li>
</ol>
<pre><code class="language-bash"># currently
CompNodeName    ::=  StringLiteral | UnreservedName | ("{" Expr "}")
CompNodeNCName  ::=  StringLiteral | UnreservedNCName | ("{" Expr "}")
# proposed
CompNodeName    ::=  UnreservedName | ('"' UnreservedName '"') | ("'" UnreservedName "'") | ("{" Expr "}")
CompNodeNCName  ::=  UnreservedNCName | ('"' UnreservedNCName '"') | ("'" UnreservedNCName "'") | ("{" Expr "}")
</code></pre>
<hr>
<p>A quick evaluation over appr. 8,000 XQuery files resulted in the following list of occurrences of possible incompatibilities (spread across  appr. 400 files):</p>
<ul>
<li>300x <code>attribute type {</code></li>
<li>107x <code>element option {</code></li>
<li>98x <code>element record {</code></li>
<li>85x <code>attribute count {</code></li>
<li>81x <code>attribute value {</code></li>
<li>31x <code>element value {</code></li>
<li>24x <code>element type {</code></li>
<li>18x <code>attribute text {</code></li>
<li>15x <code>attribute values {</code></li>
<li>12x <code>attribute namespace {</code></li>
<li>11x <code>attribute default {</code></li>
<li>10x <code>element text {</code></li>
<li>10x <code>attribute key {</code></li>
<li>10x <code>element key {</code></li>
<li>9x <code>element group {</code></li>
<li>9x <code>element count {</code></li>
<li>8x <code>element to {</code></li>
<li>8x <code>element item {</code></li>
<li>5x <code>element div {</code></li>
<li>4x <code>attribute collation {</code></li>
<li>4x <code>attribute encoding {</code></li>
<li>4x <code>attribute comment {</code></li>
<li>3x <code>attribute context {</code></li>
<li>3x <code>attribute case {</code></li>
<li>3x <code>element map {</code></li>
<li>3x <code>element empty {</code></li>
<li>2x <code>element items {</code></li>
<li>2x <code>attribute to {</code></li>
<li>1x <code>attribute empty {</code></li>
<li>1x <code>attribute item {</code></li>
<li>1x <code>element element {</code></li>
<li>1x <code>attribute where {</code></li>
<li>1x <code>element values {</code></li>
<li>1x <code>attribute if {</code></li>
<li>1x <code>element in {</code></li>
<li>1x <code>element comment {</code></li>
<li>1x <code>attribute start {</code></li>
<li>1x <code>attribute end {</code></li>
<li>1x <code>element document {</code></li>
</ul>
</div></details></div>
<div class="toot" id="created-1527"><h2>Issue #1527 created<span class="toot-id"> #created-1527</span></h2><div class="pubdate">23 Oct at 13:59:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1527">https://github.com/qt4cg/qtspecs/issues/1527</a></div><details><summary>Rendition of record definitions in F&amp;O spec</summary><div class="markup"><p>We're making progress here but there are still things that need fixing.</p>
<p>Currently a record definition like uri-structure-record is expanded:</p>
<p>(a) into a full definition (with explanations of all the fields) at the point where a PI of the form <code>&lt;?record-description uri-structure-record?&gt;</code>appears. This may be either within a specific function entry in the function catalog, or in the narrative prose of xpath-functions.xml.</p>
<p>(b) into a concise definition (without explanations of fields) at the point where the type is referenced in a function signature.</p>
<p>A hyperlink to the record definition is created (i) where the type name appears in a function signature, and (ii) manually, using the generic link format <code>&lt;loc href="#uri-structure-record"&gt;uri-structure-record&lt;/loc&gt;</code>. However, the target of the link is the first concise definition (see (b) above) rather than the full definition.</p>
<p>There are also some limitations in the rendering of the definitions. The full definition does not indicate which fields are optional/required, though this information is available in the XML. Neither the full nor the concise definition appears to indicate whether the record is extensible.</p>
</div></details></div>
<div class="toot" id="closed-1526"><h2>Issue #1526 closed<span class="toot-id"> #closed-1526</span></h2><div class="pubdate">23 Oct at 11:39:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1526">https://github.com/qt4cg/qtspecs/pull/1526</a></div><p>Emergency fix to test generator stylesheet</p></div>
<div class="toot" id="created-1526"><h2>Pull request #1526 created<span class="toot-id"> #created-1526</span></h2><div class="pubdate">23 Oct at 11:38:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1526">https://github.com/qt4cg/qtspecs/pull/1526</a></div><details><summary>Emergency fix to test generator stylesheet</summary><div class="markup"><p>There's a parse-xml() call in the test generator stylesheet that's failing to process some of the test examples, for reasons that aren't entirely clear. This is causing the entire build to fail. This PR adds a try/catch around the parse-xml() call so that a failure only affects the individual tests, not the entire build.</p>
</div></details></div>
<div class="toot" id="created-1525"><h2>Issue #1525 created<span class="toot-id"> #created-1525</span></h2><div class="pubdate">23 Oct at 07:01:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1525">https://github.com/qt4cg/qtspecs/issues/1525</a></div><details><summary>Add more explanation on enumeration types</summary><div class="markup"><p>In 3.2.6 Enumeration Types we already have some explanation of how enumeration types work, and I think it's sound, but I think a few more words about the consequences might be useful.</p>
<p>We note correctly that <code>'red' instance of enum('red', 'green', 'blue')</code> is false.</p>
<p>We should also note that <code>let $red as enum('red', 'green', 'blue', 'yellow') := "red" return $red instance of enum('red', 'green', 'blue')</code> is true; and indeed that a string S that is cast or coerced to any enumeration type that permits S is an instance of every enumeration type that permits S. This is a conscious design decision that has both advantages and disadvantages, so we should explain the consequences carefully.</p>
</div></details></div>
<div class="toot" id="closed-1524"><h2>Issue #1524 closed<span class="toot-id"> #closed-1524</span></h2><div class="pubdate">22 Oct at 17:43:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1524">https://github.com/qt4cg/qtspecs/issues/1524</a></div><p>Coercing records: error codes</p></div>
<div class="toot" id="minutes-10-22"><h2>QT4 CG meeting 095 draft minutes<span class="toot-id"> #minutes-10-22</span></h2><div class="pubdate">22 Oct at 16:20:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2024/10-22">https://qt4cg.org/meeting/minutes/2024/10-22</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="created-1524"><h2>Issue #1524 created<span class="toot-id"> #created-1524</span></h2><div class="pubdate">22 Oct at 16:58:55 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1524">https://github.com/qt4cg/qtspecs/issues/1524</a></div><details><summary>Coercing records: error codes</summary><div class="markup"><p>By analysing the coercion rules for complex data structures (see the discussion in #1501), I wondered which error codes, apart from <code>XPTY0004</code>, may arise from the coercion of records.</p>
<p>If we attempt to coerce a function item to a string, we get <code>FOTY0013</code>:</p>
<pre><code class="language-xquery">let $r as xs:string := true#0
return $r
</code></pre>
<p>I would expect to also get <code>FOTY0013</code> if a map value, which is a function item, is coerced to a string. Is this correct? If not, how does this case differ from the first one?</p>
<pre><code class="language-xquery">let $r as record(a as xs:string) := { 'a': true#0 }
return $r
</code></pre>
</div></details></div>
<div class="toot" id="closed-1518"><h2>Issue #1518 closed<span class="toot-id"> #closed-1518</span></h2><div class="pubdate">22 Oct at 16:27:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1518">https://github.com/qt4cg/qtspecs/pull/1518</a></div><p>Add to changes metadata</p></div>
<div class="toot" id="closed-1517"><h2>Issue #1517 closed<span class="toot-id"> #closed-1517</span></h2><div class="pubdate">22 Oct at 16:24:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1517">https://github.com/qt4cg/qtspecs/pull/1517</a></div><p>1516(A) Fix failing F&amp;O examples</p></div>
<div class="toot" id="closed-1509"><h2>Issue #1509 closed<span class="toot-id"> #closed-1509</span></h2><div class="pubdate">22 Oct at 16:22:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1509">https://github.com/qt4cg/qtspecs/issues/1509</a></div><p>XQuery import schema (location hints)</p></div>
<div class="toot" id="closed-1510"><h2>Issue #1510 closed<span class="toot-id"> #closed-1510</span></h2><div class="pubdate">22 Oct at 16:22:22 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1510">https://github.com/qt4cg/qtspecs/pull/1510</a></div><p>1509 Drop obsolete/redundant text about "import schema" location hints</p></div>
<div class="toot" id="closed-1507"><h2>Issue #1507 closed<span class="toot-id"> #closed-1507</span></h2><div class="pubdate">22 Oct at 16:17:49 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1507">https://github.com/qt4cg/qtspecs/issues/1507</a></div><p>Formal spec of fn:parse-integer</p></div>
<div class="toot" id="closed-1508"><h2>Issue #1508 closed<span class="toot-id"> #closed-1508</span></h2><div class="pubdate">22 Oct at 16:17:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1508">https://github.com/qt4cg/qtspecs/pull/1508</a></div><p>1507 Make format-integer spec legible</p></div>
<div class="toot" id="closed-1357"><h2>Issue #1357 closed<span class="toot-id"> #closed-1357</span></h2><div class="pubdate">22 Oct at 16:15:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1357">https://github.com/qt4cg/qtspecs/issues/1357</a></div><p>Rendering of new vs. updated features</p></div>
<div class="toot" id="closed-1521"><h2>Issue #1521 closed<span class="toot-id"> #closed-1521</span></h2><div class="pubdate">22 Oct at 16:15:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1521">https://github.com/qt4cg/qtspecs/pull/1521</a></div><p>Update the changed/new marks in the ToC</p></div>
<div class="toot" id="closed-1345"><h2>Issue #1345 closed<span class="toot-id"> #closed-1345</span></h2><div class="pubdate">22 Oct at 16:14:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1345">https://github.com/qt4cg/qtspecs/issues/1345</a></div><p>Bare brace ambiguity resolution in practice</p></div>
<div class="toot" id="closed-1511"><h2>Issue #1511 closed<span class="toot-id"> #closed-1511</span></h2><div class="pubdate">22 Oct at 16:14:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1511">https://github.com/qt4cg/qtspecs/pull/1511</a></div><p>1345 Re-allow bare-brace map constructors everywhere</p></div>
<div class="toot" id="closed-1179"><h2>Issue #1179 closed<span class="toot-id"> #closed-1179</span></h2><div class="pubdate">22 Oct at 16:12:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1179">https://github.com/qt4cg/qtspecs/issues/1179</a></div><p>Editorial: `array:values`, `map:values`</p></div>
<div class="toot" id="closed-1169"><h2>Issue #1169 closed<span class="toot-id"> #closed-1169</span></h2><div class="pubdate">22 Oct at 16:12:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1169">https://github.com/qt4cg/qtspecs/issues/1169</a></div><p>Maps &amp; Arrays: Consistency &amp; Terminology</p></div>
<div class="toot" id="closed-1114"><h2>Issue #1114 closed<span class="toot-id"> #closed-1114</span></h2><div class="pubdate">22 Oct at 16:12:21 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1114">https://github.com/qt4cg/qtspecs/issues/1114</a></div><p>Partial function application: Keywords and placeholders</p></div>
<div class="toot" id="closed-1065"><h2>Issue #1065 closed<span class="toot-id"> #closed-1065</span></h2><div class="pubdate">22 Oct at 16:12:16 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1065">https://github.com/qt4cg/qtspecs/issues/1065</a></div><p>fn:format-number: further notes</p></div>
<div class="toot" id="closed-735"><h2>Issue #735 closed<span class="toot-id"> #closed-735</span></h2><div class="pubdate">22 Oct at 16:12:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/735">https://github.com/qt4cg/qtspecs/issues/735</a></div><p>Local functions in XSLT</p></div></div><p>See 3044
            more statuses in yearly archives.</p></article></main></body></html>