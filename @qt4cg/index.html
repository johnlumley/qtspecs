<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="minutes-06-04"><h2>QT4 CG meeting 080 draft minutes<span class="toot-id"> #minutes-06-04</span></h2><div class="pubdate">06 Jun at 08:50:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2024/06-04">https://qt4cg.org/meeting/minutes/2024/06-04</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="created-1252"><h2>Issue #1252 created<span class="toot-id"> #created-1252</span></h2><div class="pubdate">05 Jun at 12:33:03 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1252">https://github.com/qt4cg/qtspecs/issues/1252</a></div><details><summary>Add a new function `fn:html-doc`</summary><div class="markup"><h2>Motivation</h2>
<p>The current specification has functions to retrieve <em>and</em> parse XML (<code>fn:doc#1</code>), and JSON (<code>fn:json-doc#1</code>) but <em>not</em> for html.</p>
<p>For convenience and consistency I propose to add <code>fn:html-doc($href as xs:string?) as document-node()?</code> to be added to the spec.</p>
<h2>Justification</h2>
<p>Parsing an html document after retrieving it from a source is a very common use-case.</p>
<p>@cedporter raised the question if we also want to have <code>fn:csv-doc#1</code> or maybe instead of adding specialised functions to retrieve and parse a document per data format rather extend <code>fn:doc</code> with an option to parse the retrieved document as being in a certain format (xml, json, html or csv).</p>
</div></details></div>
<div class="toot" id="closed-871"><h2>Issue #871 closed<span class="toot-id"> #closed-871</span></h2><div class="pubdate">05 Jun at 10:23:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/871">https://github.com/qt4cg/qtspecs/pull/871</a></div><p>Action qt4 cg 027 01 next match</p></div>
<div class="toot" id="closed-1216"><h2>Issue #1216 closed<span class="toot-id"> #closed-1216</span></h2><div class="pubdate">05 Jun at 08:50:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1216">https://github.com/qt4cg/qtspecs/issues/1216</a></div><p>Detailed comments on math:e, sinh(), cosh(), tanh()</p></div>
<div class="toot" id="closed-1230"><h2>Issue #1230 closed<span class="toot-id"> #closed-1230</span></h2><div class="pubdate">05 Jun at 08:50:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1230">https://github.com/qt4cg/qtspecs/pull/1230</a></div><p>1216 Detailed comments on math:e, sinh(), cosh(), tanh()</p></div>
<div class="toot" id="closed-1233"><h2>Issue #1233 closed<span class="toot-id"> #closed-1233</span></h2><div class="pubdate">05 Jun at 08:50:17 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1233">https://github.com/qt4cg/qtspecs/pull/1233</a></div><p>517 Major edits to fn:chain, clarification only</p></div>
<div class="toot" id="closed-814"><h2>Issue #814 closed<span class="toot-id"> #closed-814</span></h2><div class="pubdate">04 Jun at 12:37:41 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/814">https://github.com/qt4cg/qtspecs/issues/814</a></div><p>XSLT: Rules for on-no-match="shallow-copy-all"</p></div>
<div class="toot" id="closed-774"><h2>Issue #774 closed<span class="toot-id"> #closed-774</span></h2><div class="pubdate">04 Jun at 12:35:53 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/774">https://github.com/qt4cg/qtspecs/issues/774</a></div><p>What should be percent-encoded in a URI?</p></div>
<div class="toot" id="created-1251"><h2>Issue #1251 created<span class="toot-id"> #created-1251</span></h2><div class="pubdate">04 Jun at 08:56:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1251">https://github.com/qt4cg/qtspecs/issues/1251</a></div><details><summary>Allow sequence constructor in extension instructions that are implemented with named templates</summary><div class="markup"><p>This is follow up of #168</p>
<p>I would like to extend https://qt4cg.org/specifications/xslt-40/Overview.html#invoking-templates-with-extension-instructions  and allow sequence constructor inside extension instruction. I'm using such instructions in my code and it would be nice to be able to rewrite them to pure XSLT 4.0 code. Sequence constructor could be mapped to predefined parameter name. E.g.</p>
<pre><code class="language-xml">&lt;t:_&gt;Hello world.&lt;/t:_&gt;
</code></pre>
<p>Would be translated to</p>
<pre><code class="language-xml">&lt;xsl:call-template name="t:_"&gt;
  &lt;xsl:with-param name="xsl:input"&gt;Hello world.&lt;/xsl:with-param&gt;
&lt;/xsl:call-template&gt;
</code></pre>
</div></details></div>
<div class="toot" id="created-1250"><h2>Pull request #1250 created<span class="toot-id"> #created-1250</span></h2><div class="pubdate">02 Jun at 23:53:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1250">https://github.com/qt4cg/qtspecs/pull/1250</a></div><p>1048 Extended decimal format properties</p></div>
<div class="toot" id="created-1249"><h2>Pull request #1249 created<span class="toot-id"> #created-1249</span></h2><div class="pubdate">01 Jun at 18:42:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1249">https://github.com/qt4cg/qtspecs/pull/1249</a></div><details><summary>31 Introduce "for key $k value $v in $map"</summary><div class="markup"><p>Implements ForClause / ForExpression iterating over entries in maps.</p>
<p>Note that the feature is described differently in XP and XQ - I have made some starter attempts to reconverge the two specs, but there is more to be done. (However, the change involved reordering sections, which will adversely affect the diff version).</p>
</div></details></div>
<div class="toot" id="created-1248"><h2>Issue #1248 created<span class="toot-id"> #created-1248</span></h2><div class="pubdate">01 Jun at 18:24:24 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1248">https://github.com/qt4cg/qtspecs/issues/1248</a></div><details><summary>for member allowing empty</summary><div class="markup"><p>The XQuery spec says:</p>
<blockquote>
<p>The allowing empty option is available only when processing sequences, not when processing arrays.</p>
</blockquote>
<p>It also says "This option is not available with "for member"</p>
<p>But then it gives an example:</p>
<p><code>for member $x allowing empty in []</code></p>
<p>Logically, on grounds of orthogonality, I think we should allow it. (However, there is a justification for NOT allowing it, namely that there's no "null" value to which we can bind the range variable in this case).</p>
</div></details></div>
<div class="toot" id="agenda-06-04"><h2>QT4 CG meeting 080 draft agenda<span class="toot-id"> #agenda-06-04</span></h2><div class="pubdate">31 May at 11:45:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2024/06-04">https://qt4cg.org/meeting/agenda/2024/06-04</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-1247"><h2>Issue #1247 created<span class="toot-id"> #created-1247</span></h2><div class="pubdate">31 May at 10:44:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1247">https://github.com/qt4cg/qtspecs/issues/1247</a></div><details><summary>`??type(T)` in lookup expressions - shortcuts</summary><div class="markup"><p>We've introduced the syntax <code>??type(T)</code> in lookup expressions to allow selection of items of a particular type.</p>
<p>The most common usages for T are to select a record type or an array type. It would be useful to provide shortcut syntax for such cases: <code>??record(longitude, latitude, *)</code> as a shortcut for <code>??type(record(longitude, latitude, *))</code>, <code>??array(xs:integer)</code> as a shortcut for <code>??type(array(xs:integer))</code>.</p>
<p>Note this aligns with syntax for XSLT pattern matching where for most item types (with the notable exception of atomic types) the <code>type()</code> wrapper can be omitted.</p>
</div></details></div>
<div class="toot" id="created-1246"><h2>Issue #1246 created<span class="toot-id"> #created-1246</span></h2><div class="pubdate">29 May at 13:18:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1246">https://github.com/qt4cg/qtspecs/issues/1246</a></div><details><summary>fn:json-to-xml: `number-parser` option</summary><div class="markup"><p>With #973, the <code>number-parser</code> option was added to <code>fn:json-to-xml</code>. It has been reported back to us that the current definition introduces a backward incompatibility:</p>
<pre><code class="language-xquery">json-to-xml('1234567')
</code></pre>
<p>…now returns:</p>
<pre><code class="language-xquery">&lt;number xmlns="http://www.w3.org/2005/xpath-functions"&gt;1.234567E6&lt;/number&gt;
</code></pre>
<p>Before, we got:</p>
<pre><code class="language-xquery">&lt;number xmlns="http://www.w3.org/2005/xpath-functions"&gt;1234567&lt;/number&gt;
</code></pre>
<p>I’m convinced that the <code>number-parser</code> option is am important addition for <code>fn:json-to-xml</code> – I’ve already seen its application in practice – but I think we’ll need to change the default, which currently <code>xs:double#1</code>.</p>
<p>It seems sufficient to me to change <code>xs:double#1</code> to <code>identity#1</code>.</p>
<p>As a side note, <a href="https://www.w3.org/TR/xpath-functions-31/#json-to-xml-mapping">17.4.2 XML Representation of JSON</a> still states that:</p>
<blockquote>
<p>The <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#func-json-to-xml">fn:json-to-xml</a> function creates an element whose string value is lexically the same as the JSON representation of the number.</p>
</blockquote>
<p>…which means that the semantics of <code>number-parser</code> have not been incorporated in this section yet (my fault).</p>
</div></details></div>
<div class="toot" id="minutes-05-28"><h2>QT4 CG meeting 079 draft minutes<span class="toot-id"> #minutes-05-28</span></h2><div class="pubdate">28 May at 17:00:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2024/05-28">https://qt4cg.org/meeting/minutes/2024/05-28</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="created-1245"><h2>Issue #1245 created<span class="toot-id"> #created-1245</span></h2><div class="pubdate">28 May at 16:02:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1245">https://github.com/qt4cg/qtspecs/issues/1245</a></div><details><summary>fn:format-dateTime: Properties</summary><div class="markup"><p>The <strong>Properties</strong> of <code>fn:format-dateTime</code> say:</p>
<blockquote>
<p>The two-argument form of this function is ·deterministic·, ·context-dependent·, and ·focus-independent·. It depends on default calendar, and default language, and default place, and implicit timezone.
The five-argument form of this function is ·deterministic·, ·context-dependent·, and ·focus-independent·. It depends on implicit timezone, and namespaces.</p>
</blockquote>
<p>They fail to mention the new three- and four-argument form.</p>
<p>The same applies to <code>fn:format-date</code> and <code>fn:format-time</code>.</p>
</div></details></div>
<div class="toot" id="closed-1108"><h2>Issue #1108 closed<span class="toot-id"> #closed-1108</span></h2><div class="pubdate">28 May at 15:56:46 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1108">https://github.com/qt4cg/qtspecs/pull/1108</a></div><p>566-partial Describe a less aggressive %-encoding for fn:build-uri</p></div>
<div class="toot" id="closed-1232"><h2>Issue #1232 closed<span class="toot-id"> #closed-1232</span></h2><div class="pubdate">28 May at 15:56:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1232">https://github.com/qt4cg/qtspecs/issues/1232</a></div><p>Rendition of RFC2119 terms</p></div>
<div class="toot" id="closed-1237"><h2>Issue #1237 closed<span class="toot-id"> #closed-1237</span></h2><div class="pubdate">28 May at 15:56:06 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1237">https://github.com/qt4cg/qtspecs/pull/1237</a></div><p>1232 consistent rendition of rfc2119 terms</p></div>
<div class="toot" id="closed-894"><h2>Issue #894 closed<span class="toot-id"> #closed-894</span></h2><div class="pubdate">28 May at 15:55:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/894">https://github.com/qt4cg/qtspecs/issues/894</a></div><p>Errors in forming function items</p></div>
<div class="toot" id="closed-908"><h2>Issue #908 closed<span class="toot-id"> #closed-908</span></h2><div class="pubdate">28 May at 15:55:19 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/908">https://github.com/qt4cg/qtspecs/issues/908</a></div><p>Function identity: documentation, nondeterminism</p></div>
<div class="toot" id="closed-1000"><h2>Issue #1000 closed<span class="toot-id"> #closed-1000</span></h2><div class="pubdate">28 May at 15:55:12 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1000">https://github.com/qt4cg/qtspecs/issues/1000</a></div><p>XQFO Code in the Rules sections</p></div>
<div class="toot" id="closed-1242"><h2>Issue #1242 closed<span class="toot-id"> #closed-1242</span></h2><div class="pubdate">28 May at 15:54:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1242">https://github.com/qt4cg/qtspecs/issues/1242</a></div><p>XSLT: system-property('xsl:xpath-version')</p></div>
<div class="toot" id="closed-1243"><h2>Issue #1243 closed<span class="toot-id"> #closed-1243</span></h2><div class="pubdate">28 May at 15:54:33 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1243">https://github.com/qt4cg/qtspecs/pull/1243</a></div><p>Change required result of system-property(...version)</p></div>
<div class="toot" id="closed-1098"><h2>Issue #1098 closed<span class="toot-id"> #closed-1098</span></h2><div class="pubdate">28 May at 14:44:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1098">https://github.com/qt4cg/qtspecs/pull/1098</a></div><p>566-partial Editorial improvements for parse-uri</p></div>
<div class="toot" id="created-1244"><h2>Pull request #1244 created<span class="toot-id"> #created-1244</span></h2><div class="pubdate">28 May at 14:44:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1244">https://github.com/qt4cg/qtspecs/pull/1244</a></div><details><summary>566-partial Rewrite parse-uri</summary><div class="markup"><p>What happened was, I discovered I'd messed with the code in two different branches.</p>
<p>In the course of trying to straighten that out, I came to the conclusion that the <em>real</em> difficulty in parsing URIs is what to do about all the special cases around <code>file:</code>. And that the approach I'd taken in the previous draft was unnecessarily complicated.</p>
<p>I think this is better.</p>
</div></details></div>
<div class="toot" id="agenda-05-28"><h2>QT4 CG meeting 079 draft agenda<span class="toot-id"> #agenda-05-28</span></h2><div class="pubdate">27 May at 11:45:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2024/05-28">https://qt4cg.org/meeting/agenda/2024/05-28</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-1243"><h2>Pull request #1243 created<span class="toot-id"> #created-1243</span></h2><div class="pubdate">26 May at 14:53:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1243">https://github.com/qt4cg/qtspecs/pull/1243</a></div><details><summary>Change required result of system-property(...version)</summary><div class="markup"><p>Fix #1242</p>
</div></details></div>
<div class="toot" id="created-1242"><h2>Issue #1242 created<span class="toot-id"> #created-1242</span></h2><div class="pubdate">26 May at 13:35:33 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1242">https://github.com/qt4cg/qtspecs/issues/1242</a></div><details><summary>XSLT: system-property('xsl:xpath-version')</summary><div class="markup"><p>In XSLT 4.0 it should be required that <code>system-property('xsl:xpath-version')</code> returns 4.0</p>
</div></details></div></div><p>See 2468
            more statuses in yearly archives.</p></article></main></body></html>